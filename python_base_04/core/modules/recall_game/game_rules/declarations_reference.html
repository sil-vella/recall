
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recall Game Declarations Reference</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-bottom: 2rem;
            border-radius: 10px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .nav {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .nav a {
            text-decoration: none;
            color: #667eea;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        
        .nav a:hover {
            background-color: #f0f2ff;
        }
        
        .search-section {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .search-input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .section {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .section h2 {
            color: #667eea;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f0f2ff;
        }
        
        .declaration-card {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: box-shadow 0.3s;
        }
        
        .declaration-card:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .declaration-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 0.5rem;
        }
        
        .declaration-type {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-size: 0.8rem;
            margin-bottom: 1rem;
        }
        
        .yaml-content {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        
        .placeholder {
            background: #fff3cd;
            color: #856404;
            padding: 0.1rem 0.3rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        
        .effect-type {
            background: #d1ecf1;
            color: #0c5460;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-size: 0.8rem;
            margin-right: 0.5rem;
        }
        
        .validation-type {
            background: #d4edda;
            color: #155724;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-size: 0.8rem;
            margin-right: 0.5rem;
        }
        
        .trigger-condition {
            background: #f8d7da;
            color: #721c24;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-size: 0.8rem;
            margin-right: 0.5rem;
        }
        
        .hidden {
            display: none;
        }
        
        .highlight {
            background: #fff3cd;
            border-radius: 3px;
            padding: 0.1rem 0.2rem;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        @media (max-width: 768px) {
            .nav ul {
                flex-direction: column;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéÆ Recall Game Declarations Reference</h1>
            <p>Complete reference for all YAML declarations in the Recall game system</p>
            <p><small>Generated on 2025-07-28 21:22:56</small></p>
        </div>

        <nav class="nav">
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#actions">Actions</a></li>
                <li><a href="#cards">Cards</a></li>
                <li><a href="#special-powers">Special Powers</a></li>
                <li><a href="#ai-logic">AI Logic</a></li>
                <li><a href="#placeholders">Placeholders</a></li>
                <li><a href="#effects">Effects</a></li>
                <li><a href="#validation">Validation</a></li>
                <li><a href="#triggers">Triggers</a></li>
            </ul>
        </nav>

        <div class="search-section">
            <h2>üîç Search Declarations</h2>
            <input type="text" id="searchInput" class="search-input" placeholder="Search for declarations, effects, validations, placeholders...">
            <p><small>Type to filter declarations. Search is case-insensitive and matches any part of the declaration.</small></p>
        </div>

        <div class="section" id="overview">
            <h2>üìä Overview</h2>
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number">2</div>
                    <div class="stat-label">Action Rules</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">2</div>
                    <div class="stat-label">Card Rules</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">1</div>
                    <div class="stat-label">Special Powers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">1</div>
                    <div class="stat-label">AI Difficulties</div>
                </div>
            </div>
            <p>This reference contains all YAML declarations used in the Recall game system. Each declaration defines specific game logic, rules, and behaviors that are processed by the GameLogicEngine.</p>
        </div>

        <div class="section" id="actions">
            <h2>üéØ Action Rules</h2>
            <p>Action rules define how player actions are processed and what effects they trigger.</p>
        
        <div class="declaration-card" data-type="action" data-name="play_card">
            <div class="declaration-title">play_card</div>
            <div class="declaration-type">Action</div>
            <p>Defines how the 'play_card' action is processed</p>
            <details>
                <summary>View YAML Declaration</summary>
                <div class="yaml-content">action_type: play_card
effects:
- card_id: '<span class="placeholder">{card_id}</span>'
  from: player_hand
  to: discard_pile
  type: move_card_to_discard
- new_card: drawn_card
  player_id: '<span class="placeholder">{player_id}</span>'
  type: replace_card_in_hand
- card_rank: '<span class="placeholder">{card_rank}</span>'
  if_power: trigger_special_ability
  type: check_special_power
- if_called: start_final_round
  type: check_recall_opportunity
notifications:
- data:
    card: '<span class="placeholder">{card_data}</span>'
    is_out_of_turn: '<span class="placeholder">{out_of_turn}</span>'
    player_id: '<span class="placeholder">{player_id}</span>'
  event: card_played
  type: broadcast
- data:
    played_card_rank: '<span class="placeholder">{card_rank}</span>'
    timeout: 5000
  event: check_out_of_turn_play
  type: broadcast
triggers:
- condition: is_player_turn
  game_state: player_turn
  out_of_turn: false
- condition: same_rank_card
  game_state: out_of_turn_play
  out_of_turn: true
validation:
- card_id: '<span class="placeholder">{card_id}</span>'
  check: player_has_card
- card_rank: '<span class="placeholder">{card_rank}</span>'
  check: card_is_playable
</div>
            </details>
        </div>
        
        <div class="declaration-card" data-type="action" data-name="call_recall">
            <div class="declaration-title">call_recall</div>
            <div class="declaration-type">Action</div>
            <p>Defines how the 'call_recall' action is processed</p>
            <details>
                <summary>View YAML Declaration</summary>
                <div class="yaml-content">action_type: call_recall
effects:
- player_id: '<span class="placeholder">{player_id}</span>'
  type: call_recall
- new_phase: recall_called
  type: change_game_phase
- final_round: true
  type: start_final_round
notifications:
- data:
    final_round: true
    phase: recall_called
    player_id: '<span class="placeholder">{player_id}</span>'
  event: recall_called
  type: broadcast
- data:
    called_by: '<span class="placeholder">{player_id}</span>'
    reason: recall_called
  event: game_ending
  type: broadcast
triggers:
- condition: is_player_turn
  game_state: player_turn
- condition: recall_opportunity
  game_state: player_turn
validation:
- check: is_player_turn
  player_id: '<span class="placeholder">{player_id}</span>'
- check: has_not_called_recall
  player_id: '<span class="placeholder">{player_id}</span>'
</div>
            </details>
        </div>
        </div>
        <div class="section" id="cards">
            <h2>üÉè Card Rules</h2>
            <p>Card rules define special abilities and behaviors for specific card types.</p>
        
        <div class="declaration-card" data-type="card" data-name="queen">
            <div class="declaration-title">queen</div>
            <div class="declaration-type">Card</div>
            <p>Defines special abilities for queen cards</p>
            <details>
                <summary>View YAML Declaration</summary>
                <div class="yaml-content">card_type: queen
out_of_turn_play:
  allowed: true
  condition: same_rank_card
play_conditions:
- condition: is_player_turn
- card_rank: queen
  condition: card_in_hand
points: 10
power_effect:
  description: Look at any one card (own or other player's)
  execution:
  - card_owner: '<span class="placeholder">{target_player_id}</span>'
    card_position: '<span class="placeholder">{card_position}</span>'
    target_player: '<span class="placeholder">{player_id}</span>'
    type: show_card_to_player
  notifications:
  - data:
      card: '<span class="placeholder">{card_data}</span>'
      owner: '<span class="placeholder">{card_owner}</span>'
    event: card_revealed
    target: '<span class="placeholder">{player_id}</span>'
    type: private
  type: peek_at_card
  validation:
  - card_rank: queen
    check: card_in_hand
special_power: peek_at_card
</div>
            </details>
        </div>
        
        <div class="declaration-card" data-type="card" data-name="jack">
            <div class="declaration-title">jack</div>
            <div class="declaration-type">Card</div>
            <p>Defines special abilities for jack cards</p>
            <details>
                <summary>View YAML Declaration</summary>
                <div class="yaml-content">card_type: jack
out_of_turn_play:
  allowed: true
  condition: same_rank_card
play_conditions:
- condition: is_player_turn
- card_rank: jack
  condition: card_in_hand
points: 10
power_effect:
  description: Switch any two playing cards of any player
  execution:
  - card1: '<span class="placeholder">{card1_data}</span>'
    card2: '<span class="placeholder">{card2_data}</span>'
    type: switch_cards
  notifications:
  - data:
      player_id: '<span class="placeholder">{player_id}</span>'
      switched_cards:
      - '<span class="placeholder">{card1}</span>'
      - '<span class="placeholder">{card2}</span>'
    event: cards_switched
    type: broadcast
  type: switch_cards
  validation:
  - card_rank: jack
    check: card_in_hand
special_power: switch_cards
</div>
            </details>
        </div>
        </div>
        <div class="section" id="special-powers">
            <h2>‚ö° Special Power Rules</h2>
            <p>Special power rules define additional abilities beyond standard card powers.</p>
        
        <div class="declaration-card" data-type="special_power" data-name="steal_card">
            <div class="declaration-title">steal_card</div>
            <div class="declaration-type">Special Power</div>
            <p>Defines the 'steal_card' special power ability</p>
            <details>
                <summary>View YAML Declaration</summary>
                <div class="yaml-content">card_type: added_power
out_of_turn_play:
  allowed: false
play_conditions:
- condition: is_player_turn
- card_rank: power_steal_card
  condition: card_in_hand
points: 5
power_effect:
  description: Steal a card from another player's hand
  execution:
  - card_position: '<span class="placeholder">{card_position}</span>'
    from_player: '<span class="placeholder">{target_player_id}</span>'
    to_player: '<span class="placeholder">{player_id}</span>'
    type: move_card
  notifications:
  - event: card_stolen
    target: '<span class="placeholder">{target_player_id}</span>'
    type: private
  - data:
      player_id: '<span class="placeholder">{player_id}</span>'
      power_type: steal_card
    event: power_card_used
    type: broadcast
  type: steal_card
  validation:
  - check: target_player_has_cards
    target_player: '<span class="placeholder">{target_player_id}</span>'
power_id: steal_card
special_power: steal_card
</div>
            </details>
        </div>
        </div>
        <div class="section" id="ai-logic">
            <h2>ü§ñ AI Logic Rules</h2>
            <p>AI logic rules define how computer players make decisions based on difficulty level.</p>
        
            <h3>Difficulty: Medium</h3>
            
        <div class="declaration-card" data-type="ai_logic" data-name="medium/play_card_decision">
            <div class="declaration-title">medium/play_card_decision</div>
            <div class="declaration-type">Ai Logic</div>
            <p>AI decision logic for medium difficulty - play_card_decision</p>
            <details>
                <summary>View YAML Declaration</summary>
                <div class="yaml-content">decision_logic:
- if: has_low_point_card
  then: play_lowest_point_card
- and: power_is_useful
  if: has_special_power_card
  then: play_special_power_card
- and: advantageous_position
  if: can_call_recall
  then: call_recall
- else: play_safest_card
decision_type: play_card
default_action: play_safest_card
evaluation:
- factor: card_points
  strategy: minimize_points
  weight: 0.4
- factor: special_power_utility
  strategy: maximize_utility
  weight: 0.3
- factor: game_progression
  strategy: advance_position
  weight: 0.2
- factor: risk_assessment
  strategy: minimize_risk
  weight: 0.1
triggers:
- condition: is_my_turn
  priority: 1
</div>
            </details>
        </div>
        </div>
        <div class="section" id="placeholders">
            <h2>üîó Placeholders</h2>
            <p>Placeholders are dynamic values that are replaced with actual data during rule processing.</p>
        
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="placeholder">{player_id}</span>
                </div>
                <p>The ID of the player performing the action</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="placeholder">{card_id}</span>
                </div>
                <p>The ID of the card being played</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="placeholder">{card_rank}</span>
                </div>
                <p>The rank of the card (ace, king, queen, etc.)</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="placeholder">{out_of_turn}</span>
                </div>
                <p>Whether the action is being performed out of turn</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="placeholder">{card_data}</span>
                </div>
                <p>Complete card information object</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="placeholder">{target_player_id}</span>
                </div>
                <p>ID of the target player for special powers</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="placeholder">{card_position}</span>
                </div>
                <p>Position of the card in hand</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="placeholder">{game_id}</span>
                </div>
                <p>ID of the current game</p>
            </div>
            </div>
        <div class="section" id="effects">
            <h2>‚ú® Effects</h2>
            <p>Effects are state changes that occur when rules are executed.</p>
        
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="effect-type">move_card_to_discard</span>
                </div>
                <p>Move a card from player's hand to discard pile</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="effect-type">replace_card_in_hand</span>
                </div>
                <p>Draw a new card to replace the played card</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="effect-type">check_special_power</span>
                </div>
                <p>Check if a played card has special power and trigger it</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="effect-type">check_recall_opportunity</span>
                </div>
                <p>Check if player can call Recall</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="effect-type">next_player</span>
                </div>
                <p>Move to the next player's turn</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="effect-type">show_card_to_player</span>
                </div>
                <p>Reveal a card to a specific player</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="effect-type">switch_cards</span>
                </div>
                <p>Switch two cards between players</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="effect-type">move_card</span>
                </div>
                <p>Move a card from one player to another</p>
            </div>
            </div>
        <div class="section" id="validation">
            <h2>‚úÖ Validation</h2>
            <p>Validation checks ensure actions are legal before execution.</p>
        
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="validation-type">player_has_card</span>
                </div>
                <p>Check if player has a specific card</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="validation-type">card_is_playable</span>
                </div>
                <p>Check if a card can be played</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="validation-type">is_player_turn</span>
                </div>
                <p>Check if it's the player's turn</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="validation-type">card_in_hand</span>
                </div>
                <p>Check if player has a card of specific rank</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="validation-type">target_player_has_cards</span>
                </div>
                <p>Check if target player has cards to interact with</p>
            </div>
            </div>
        <div class="section" id="triggers">
            <h2>üéØ Triggers</h2>
            <p>Triggers determine when rules and conditions are activated.</p>
        
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="trigger-condition">is_player_turn</span>
                </div>
                <p>Action is performed during player's turn</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="trigger-condition">same_rank_card</span>
                </div>
                <p>Action is performed with a card of the same rank as last played</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="trigger-condition">recall_called</span>
                </div>
                <p>Recall has been called and final round is active</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="trigger-condition">is_my_turn</span>
                </div>
                <p>AI decision is made during AI player's turn</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="trigger-condition">has_low_point_card</span>
                </div>
                <p>Player has cards with low point values</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="trigger-condition">has_special_power_card</span>
                </div>
                <p>Player has cards with special powers</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="trigger-condition">power_is_useful</span>
                </div>
                <p>Special power would be beneficial in current situation</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="trigger-condition">can_call_recall</span>
                </div>
                <p>Player is eligible to call Recall</p>
            </div>
            
            <div class="declaration-card">
                <div class="declaration-title">
                    <span class="trigger-condition">advantageous_position</span>
                </div>
                <p>Player is in a good position to win</p>
            </div>
            </div>
        <script>
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const cards = document.querySelectorAll('.declaration-card');
                
                cards.forEach(card => {
                    const text = card.textContent.toLowerCase();
                    const name = card.getAttribute('data-name');
                    const type = card.getAttribute('data-type');
                    
                    if (text.includes(searchTerm) || name.includes(searchTerm) || type.includes(searchTerm)) {
                        card.classList.remove('hidden');
                        // Highlight search term
                        if (searchTerm) {
                            const title = card.querySelector('.declaration-title');
                            title.innerHTML = title.innerHTML.replace(
                                new RegExp(searchTerm, 'gi'),
                                match => `<span class="highlight">${match}</span>`
                            );
                        }
                    } else {
                        card.classList.add('hidden');
                    }
                });
            });
            
            // Smooth scrolling for navigation
            document.querySelectorAll('nav a').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
            
            // Auto-expand search results
            document.getElementById('searchInput').addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                if (searchTerm.length > 2) {
                    document.querySelectorAll('details').forEach(detail => {
                        detail.open = true;
                    });
                }
            });
        </script>
    </body>
</html>
