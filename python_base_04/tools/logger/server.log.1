[2026-01-15 13:15:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:15:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:15:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:15:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:15:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:15:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:15:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:15:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:15:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:15:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15T13:15:18.195805] [DART] [2026-01-15T13:15:18.195773] [INFO] [Logger] Dutch: Handling same rank play for player comp_6966b28e689c135500f1f96f_1768479183189700, card card_room_1768479178038_2_spades_0_1750289206
[2026-01-15T13:15:18.196156] [DART] [2026-01-15T13:15:18.196135] [INFO] [Logger] Dutch: Found card card_room_1768479178038_2_spades_0_1750289206 for same rank play in player comp_6966b28e689c135500f1f96f_1768479183189700 hand at index 1
[2026-01-15T13:15:18.196331] [DART] [2026-01-15T13:15:18.196318] [INFO] [Logger] Dutch: Same rank validation: played_card_rank='2', last_card_rank='2'
[2026-01-15T13:15:18.196404] [DART] [2026-01-15T13:15:18.196397] [INFO] [Logger] Dutch: Same rank validation: Ranks match, allowing play
[2026-01-15T13:15:18.196469] [DART] [2026-01-15T13:15:18.196461] [INFO] [Logger] Dutch: Same rank validation passed for card card_room_1768479178038_2_spades_0_1750289206 with rank 2
[2026-01-15T13:15:18.196532] [DART] [2026-01-15T13:15:18.196525] [INFO] [Logger] Dutch: Created blank slot at index 1 for same rank play
[2026-01-15T13:15:18.196621] [DART] [2026-01-15T13:15:18.196610] [INFO] [Logger] Dutch: üîç TURN_EVENTS DEBUG - Current turn_events before adding same rank play event: 3 events
[2026-01-15T13:15:18.196700] [DART] [2026-01-15T13:15:18.196691] [INFO] [Logger] Dutch: Added turn event - cardId: card_room_1768479178038_2_spades_0_1750289206, actionType: play (same rank), total events: 4
[2026-01-15T13:15:18.196782] [DART] [2026-01-15T13:15:18.196768] [INFO] [Logger] Dutch: üîç TURN_EVENTS DEBUG - Turn events being passed to onGameStateChanged: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play
[2026-01-15T13:15:18.196873] [DART] [2026-01-15T13:15:18.196862] [INFO] [Logger] üîç TURN_EVENTS DEBUG - onGameStateChanged received turn_events: 4 events
[2026-01-15T13:15:18.196953] [DART] [2026-01-15T13:15:18.196937] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play
[2026-01-15T13:15:18.197043] [DART] [2026-01-15T13:15:18.197033] [INFO] [Logger] üîç TURN_EVENTS DEBUG - StateQueueValidator.enqueueUpdate received turn_events: 4 events
[2026-01-15T13:15:18.197120] [DART] [2026-01-15T13:15:18.197105] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play
[2026-01-15T13:15:18.197187] [DART] [2026-01-15T13:15:18.197180] [INFO] [Logger] StateQueueValidator: Enqueued update with keys: games, discardPile, turn_events
[2026-01-15T13:15:18.197279] [DART] [2026-01-15T13:15:18.197268] [INFO] [Logger] üîç TURN_EVENTS DEBUG - StateQueueValidator validated turn_events: 4 events
[2026-01-15T13:15:18.197356] [DART] [2026-01-15T13:15:18.197341] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play
[2026-01-15T13:15:18.197423] [DART] [2026-01-15T13:15:18.197414] [INFO] [Logger] üîç TURN_EVENTS DEBUG - _applyValidatedUpdates received turn_events in validatedUpdates: 4 events
[2026-01-15T13:15:18.197501] [DART] [2026-01-15T13:15:18.197488] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play
[2026-01-15T13:15:18.197573] [DART] [2026-01-15T13:15:18.197562] [INFO] [Logger] üîç TURN_EVENTS DEBUG - mergeRoot received turn_events: 4 events
[2026-01-15T13:15:18.197643] [DART] [2026-01-15T13:15:18.197631] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play
[2026-01-15T13:15:18.197712] [DART] [2026-01-15T13:15:18.197701] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Previous turn_events in state before merge: 3 events
[2026-01-15T13:15:18.197816] [DART] [2026-01-15T13:15:18.197789] [INFO] [Logger] GameStateStore: merged root for room_1768479178038 -> keys: (games, discardPile, turn_events)
[2026-01-15T13:15:18.197881] [DART] [2026-01-15T13:15:18.197872] [INFO] [Logger] üîç TURN_EVENTS DEBUG - turn_events in state after merge: 4 events
[2026-01-15T13:15:18.197951] [DART] [2026-01-15T13:15:18.197938] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play
[2026-01-15T13:15:18.198015] [DART] [2026-01-15T13:15:18.198006] [INFO] [Logger] üîç TURN_EVENTS DEBUG - _applyValidatedUpdates extracted turn_events from root state: 4 events
[2026-01-15T13:15:18.198083] [DART] [2026-01-15T13:15:18.198070] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play
[2026-01-15T13:15:18.198153] [DART] [2026-01-15T13:15:18.198142] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Broadcasting game_state_updated with 4 turn_events
[2026-01-15T13:15:18.198222] [DART] [2026-01-15T13:15:18.198208] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events in broadcast: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play
[2026-01-15T13:15:18.198307] [DART] [2026-01-15T13:15:18.198297] [INFO] [Room] üì¢ Broadcasting to room room_1768479178038 (1 clients)
[2026-01-15T13:15:18.198373] [DART] [2026-01-15T13:15:18.198362] [INFO] [Logger] üîç sendToSession called: sessionId=1edf2159-8256-4e43-b9a4-a5da5a9fe307, event=game_state_updated, userIdInMessage=null
[2026-01-15T13:15:18.198435] [DART] [2026-01-15T13:15:18.198426] [INFO] [Logger] üîç VERIFY: sessionId != userIdInMessage? true
[2026-01-15T13:15:18.198700] [DART] [2026-01-15T13:15:18.198688] [INFO] [Logger] üì§ Sending event "game_state_updated" to session: 1edf2159-8256-4e43-b9a4-a5da5a9fe307
[2026-01-15T13:15:18.198767] [DART] [2026-01-15T13:15:18.198761] [DEBUG] [Logger] üì§ Message payload: {"event":"game_state_updated","game_id":"room_1768479178038","game_state":{"gameId":"room_1768479178038","gameName":"Dutch Game room_1768479178038","players":[{"id":"1edf2159-8256-4e43-b9a4-a5da5a9fe307","name":"Player_1edf2159","isHuman":true,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_10_spades_0_1200083244","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_spades_0_1005252912","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_3_spades_0_1634811251","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"1edf2159-8256-4e43-b9a4-a5da5a9fe307":{"card_room_1768479178038_6_diamonds_0_2293306230":{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","rank":"6","suit":"diamonds","points":6}}},"collection_rank_cards":[],"isActive":true,"collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f96f_1768479183189700","name":"zoebean668","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_king_spades_0_1726337296","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","suit":"?","rank":"?","points":0},null],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96f_1768479183189700":{"card_room_1768479178038_king_spades_0_1726337296":{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},"card_room_1768479178038_2_spades_0_1750289206":{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2,"specialPower":null},"card_room_1768479178038_jack_spades_0_1560544297":{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":1,"userId":"6966b28e689c135500f1f96f","email":"zoebean668@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img002.jpg","collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f970_1768479183190199","name":"toastlord","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f970_1768479183190199":{"card_room_1768479178038_2_clubs_0_1414737583":{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2},"card_room_1768479178038_queen_diamonds_0_2510314702":{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},"card_room_1768479178038_ace_clubs_0_2700761781":{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":4,"userId":"6966b28e689c135500f1f970","email":"toastlord@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img003.jpg","collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f96e_1768479183190505","name":"emmafox","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_diamonds_0_2361332698","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96e_1768479183190505":{"card_room_1768479178038_3_hearts_0_2544939805":{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","rank":"3","suit":"hearts","points":3},"card_room_1768479178038_4_hearts_0_3125114950":{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},"card_room_1768479178038_4_diamonds_0_2514069008":{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","rank":"4","suit":"diamonds","points":4,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":9,"userId":"6966b28e689c135500f1f96e","email":"emmafox@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img001.jpg","collection_rank":null,"cardsToPeek":[]}],"discardPile":[{"cardId":"card_room_1768479178038_3_clubs_0_1491843039","rank":"3","suit":"clubs","points":3},{"cardId":"card_room_1768479178038_7_diamonds_0_2889439878","rank":"7","suit":"diamonds","points":7},{"cardId":"card_room_1768479178038_9_clubs_0_1803640071","rank":"9","suit":"clubs","points":9},{"cardId":"card_room_1768479178038_9_hearts_0_1586487203","rank":"9","suit":"hearts","points":9},{"cardId":"card_room_1768479178038_4_spades_0_1816679200","rank":"4","suit":"spades","points":4},{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},{"cardId":"card_room_1768479178038_ace_spades_0_2274827432","rank":"ace","suit":"spades","points":1},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","rank":"2","suit":"diamonds","points":2},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2}],"drawPile":[{"cardId":"card_room_1768479178038_ace_diamonds_0_2709442627","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_hearts_0_1884093033","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_spades_0_1416700472","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_spades_0_2687920453","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_hearts_0_2563658784","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_clubs_0_1521322776","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_diamonds_0_1522632788","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_clubs_0_1329112179","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_clubs_0_1596998760","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_hearts_0_1903953274","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_hearts_0_2287533053","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_spades_0_1544171881","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_diamonds_0_1355490217","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_hearts_0_1548463078","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_clubs_0_2449091067","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_4_clubs_0_2753482310","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_hearts_0_1847033524","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_diamonds_0_2159086933","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_clubs_0_1530444916","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_clubs_0_2080851400","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_clubs_0_2122920328","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_3_diamonds_0_2888192680","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_hearts_0_2168956179","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_joker_joker_1_1890303858","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_2_hearts_0_2281706427","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_spades_0_1936547888","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_9_diamonds_0_2145288646","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_hearts_0_2524965989","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_diamonds_0_2544269852","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_ace_hearts_0_2914841452","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_9_spades_0_1015149144","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_joker_joker_0_1854192425","suit":"?","rank":"?","points":0}],"originalDeck":[{"cardId":"card_room_1768479178038_10_spades_0_1200083244","rank":"10","suit":"spades","points":10},{"cardId":"card_room_1768479178038_5_spades_0_1005252912","rank":"5","suit":"spades","points":5},{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","rank":"6","suit":"diamonds","points":6},{"cardId":"card_room_1768479178038_7_diamonds_0_2889439878","rank":"7","suit":"diamonds","points":7},{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},{"cardId":"card_room_1768479178038_9_clubs_0_1803640071","rank":"9","suit":"clubs","points":9},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","rank":"2","suit":"diamonds","points":2},{"cardId":"card_room_1768479178038_9_hearts_0_1586487203","rank":"9","suit":"hearts","points":9},{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2},{"cardId":"card_room_1768479178038_4_spades_0_1816679200","rank":"4","suit":"spades","points":4},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","rank":"king","suit":"clubs","points":10},{"cardId":"card_room_1768479178038_ace_spades_0_2274827432","rank":"ace","suit":"spades","points":1},{"cardId":"card_room_1768479178038_5_diamonds_0_2361332698","rank":"5","suit":"diamonds","points":5},{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","rank":"3","suit":"hearts","points":3},{"cardId":"card_room_1768479178038_3_clubs_0_1491843039","rank":"3","suit":"clubs","points":3},{"cardId":"card_room_1768479178038_ace_diamonds_0_2709442627","rank":"ace","suit":"diamonds","points":1},{"cardId":"card_room_1768479178038_king_hearts_0_1884093033","rank":"king","suit":"hearts","points":10},{"cardId":"card_room_1768479178038_6_spades_0_1416700472","rank":"6","suit":"spades","points":6},{"cardId":"card_room_1768479178038_queen_spades_0_2687920453","rank":"queen","suit":"spades","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_7_hearts_0_2563658784","rank":"7","suit":"hearts","points":7},{"cardId":"card_room_1768479178038_jack_clubs_0_1521322776","rank":"jack","suit":"clubs","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_jack_diamonds_0_1522632788","rank":"jack","suit":"diamonds","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_8_clubs_0_1329112179","rank":"8","suit":"clubs","points":8},{"cardId":"card_room_1768479178038_5_clubs_0_1596998760","rank":"5","suit":"clubs","points":5},{"cardId":"card_room_1768479178038_8_hearts_0_1903953274","rank":"8","suit":"hearts","points":8},{"cardId":"card_room_1768479178038_10_hearts_0_2287533053","rank":"10","suit":"hearts","points":10},{"cardId":"card_room_1768479178038_8_spades_0_1544171881","rank":"8","suit":"spades","points":8},{"cardId":"card_room_1768479178038_8_diamonds_0_1355490217","rank":"8","suit":"diamonds","points":8},{"cardId":"card_room_1768479178038_jack_hearts_0_1548463078","rank":"jack","suit":"hearts","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_7_clubs_0_2449091067","rank":"7","suit":"clubs","points":7},{"cardId":"card_room_1768479178038_4_clubs_0_2753482310","rank":"4","suit":"clubs","points":4},{"cardId":"card_room_1768479178038_6_hearts_0_1847033524","rank":"6","suit":"hearts","points":6},{"cardId":"card_room_1768479178038_king_diamonds_0_2159086933","rank":"king","suit":"diamonds","points":10},{"cardId":"card_room_1768479178038_6_clubs_0_1530444916","rank":"6","suit":"clubs","points":6},{"cardId":"card_room_1768479178038_10_clubs_0_2080851400","rank":"10","suit":"clubs","points":10},{"cardId":"card_room_1768479178038_queen_clubs_0_2122920328","rank":"queen","suit":"clubs","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_3_diamonds_0_2888192680","rank":"3","suit":"diamonds","points":3},{"cardId":"card_room_1768479178038_5_hearts_0_2168956179","rank":"5","suit":"hearts","points":5},{"cardId":"card_room_1768479178038_joker_joker_1_1890303858","rank":"joker","suit":"joker","points":0},{"cardId":"card_room_1768479178038_2_hearts_0_2281706427","rank":"2","suit":"hearts","points":2},{"cardId":"card_room_1768479178038_7_spades_0_1936547888","rank":"7","suit":"spades","points":7},{"cardId":"card_room_1768479178038_9_diamonds_0_2145288646","rank":"9","suit":"diamonds","points":9},{"cardId":"card_room_1768479178038_queen_hearts_0_2524965989","rank":"queen","suit":"hearts","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_10_diamonds_0_2544269852","rank":"10","suit":"diamonds","points":10},{"cardId":"card_room_1768479178038_ace_hearts_0_2914841452","rank":"ace","suit":"hearts","points":1},{"cardId":"card_room_1768479178038_9_spades_0_1015149144","rank":"9","suit":"spades","points":9},{"cardId":"card_room_1768479178038_joker_joker_0_1854192425","rank":"joker","suit":"joker","points":0},{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","rank":"4","suit":"diamonds","points":4},{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2},{"cardId":"card_room_1768479178038_3_spades_0_1634811251","rank":"3","suit":"spades","points":3}],"gameType":"multiplayer","isGameActive":true,"phase":"playing","playerCount":4,"maxPlayers":4,"minPlayers":2,"showInstructions":false,"match_class":"standard","coin_cost_per_player":25,"match_pot":100,"isClearAndCollect":false,"timerConfig":{"initial_peek":15,"drawing_card":23420,"playing_card":30,"same_rank_window":10,"queen_peek":15,"jack_swap":20,"peeking":10,"waiting":0,"default":30},"roundStartTime":1768479198.211,"currentTurnStartTime":1768479198.211,"roundStatus":"active","actionsPerformed":[],"currentPlayer":{"id":"comp_6966b28e689c135500f1f96f_1768479183189700","name":"zoebean668","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_king_spades_0_1726337296","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","suit":"?","rank":"?","points":0},null],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96f_1768479183189700":{"card_room_1768479178038_king_spades_0_1726337296":{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},"card_room_1768479178038_2_spades_0_1750289206":{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2,"specialPower":null},"card_room_1768479178038_jack_spades_0_1560544297":{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":1,"userId":"6966b28e689c135500f1f96f","email":"zoebean668@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img002.jpg","collection_rank":null,"cardsToPeek":[]}},"turn_events":[{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","actionType":"draw"},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","actionType":"play"},{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","actionType":"reposition"},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","actionType":"play"}],"owner_id":"69627310feeb61f1231a10a9","timestamp":"2026-01-15T13:15:18.198290"}
[2026-01-15T13:15:18.198923] [DART] [2026-01-15T13:15:18.198921] [DEBUG] [Logger] üì§ Total connections: 1
[2026-01-15T13:15:18.198980] [DART] [2026-01-15T13:15:18.198977] [DEBUG] [Logger] üì§ Connection type: IOWebSocketChannel
[2026-01-15T13:15:18.199040] [DART] [2026-01-15T13:15:18.199037] [DEBUG] [Logger] üì§ All session IDs in _connections: [1edf2159-8256-4e43-b9a4-a5da5a9fe307]
[2026-01-15T13:15:18.199094] [DART] [2026-01-15T13:15:18.199092] [DEBUG] [Logger] üì§ Connection hash: 387708583, Stored hash: 387708583
[2026-01-15T13:15:18.199146] [DART] [2026-01-15T13:15:18.199144] [DEBUG] [Logger] üì§ Connection identity match: true
[2026-01-15T13:15:18.199390] [DART] [2026-01-15T13:15:18.199377] [INFO] [Logger] ‚úÖ Event "game_state_updated" sent successfully to session: 1edf2159-8256-4e43-b9a4-a5da5a9fe307
[2026-01-15T13:15:18.199529] [DART] [2026-01-15T13:15:18.199524] [DEBUG] [Logger] ‚úÖ Message length: 16463 bytes
[2026-01-15T13:15:18.199619] [DART] [2026-01-15T13:15:18.199606] [INFO] [Logger] StateQueueValidator: Applied validated update with keys: games, discardPile, turn_events
[2026-01-15T13:15:18.199737] [DART] [2026-01-15T13:15:18.199722] [INFO] [Logger] Dutch: ‚úÖ Same rank play successful: comp_6966b28e689c135500f1f96f_1768479183189700 played 2 of spades - card moved to discard pile
[2026-01-15T13:15:18.199818] [DART] [2026-01-15T13:15:18.199809] [INFO] [Logger] Dutch: === AFTER SAME RANK PLAY for comp_6966b28e689c135500f1f96f_1768479183189700 ===
[2026-01-15T13:15:18.199894] [DART] [2026-01-15T13:15:18.199882] [INFO] [Logger] Dutch: Player hand: [card_room_1768479178038_king_spades_0_1726337296, null, card_room_1768479178038_jack_spades_0_1560544297, null]
[2026-01-15T13:15:18.200139] [DART] [2026-01-15T13:15:18.200127] [INFO] [Logger] Dutch: Player known_cards: {comp_6966b28e689c135500f1f96f_1768479183189700: {card_room_1768479178038_king_spades_0_1726337296: {cardId: card_room_1768479178038_king_spades_0_1726337296, rank: king, suit: spades, points: 10}, card_room_1768479178038_2_spades_0_1750289206: {cardId: card_room_1768479178038_2_spades_0_1750289206, rank: 2, suit: spades, points: 2, specialPower: null}, card_room_1768479178038_jack_spades_0_1560544297: {cardId: card_room_1768479178038_jack_spades_0_1560544297, rank: jack, suit: spades, points: 10, specialPower: switch_cards}}}
[2026-01-15T13:15:18.200205] [DART] [2026-01-15T13:15:18.200197] [INFO] [Logger] Dutch: Player collection_rank: none
[2026-01-15T13:15:18.200270] [DART] [2026-01-15T13:15:18.200262] [INFO] [Logger] Dutch: Player collection_rank_cards: []
[2026-01-15T13:15:18.200334] [DART] [2026-01-15T13:15:18.200326] [INFO] [Logger] Dutch: Card 2 is not a special card
[2026-01-15T13:15:18.200393] [DART] [2026-01-15T13:15:18.200385] [INFO] [Logger] Dutch: Same rank play data would be stored here (future implementation)
[2026-01-15T13:15:18.200531] [DART] [2026-01-15T13:15:18.200517] [INFO] [Logger] üîç TURN_EVENTS DEBUG - onGameStateChanged received NO turn_events in updates. Keys: [games]
[2026-01-15T13:15:18.200617] [DART] [2026-01-15T13:15:18.200608] [INFO] [Logger] StateQueueValidator: Enqueued update with keys: games
[2026-01-15T13:15:18.200703] [DART] [2026-01-15T13:15:18.200690] [INFO] [Logger] üîç TURN_EVENTS DEBUG - _applyValidatedUpdates received NO turn_events in validatedUpdates. Keys: [games]
[2026-01-15T13:15:18.200777] [DART] [2026-01-15T13:15:18.200771] [INFO] [Logger] GameStateStore: merged root for room_1768479178038 -> keys: (games)
[2026-01-15T13:15:18.200842] [DART] [2026-01-15T13:15:18.200833] [INFO] [Logger] üîç TURN_EVENTS DEBUG - _applyValidatedUpdates extracted turn_events from root state: 4 events
[2026-01-15T13:15:18.200914] [DART] [2026-01-15T13:15:18.200901] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play
[2026-01-15T13:15:18.201034] [DART] [2026-01-15T13:15:18.200985] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Broadcasting game_state_updated with 4 turn_events
[2026-01-15T13:15:18.201277] [DART] [2026-01-15T13:15:18.201257] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events in broadcast: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play
[2026-01-15T13:15:18.201360] [DART] [2026-01-15T13:15:18.201352] [INFO] [Room] üì¢ Broadcasting to room room_1768479178038 (1 clients)
[2026-01-15T13:15:18.201553] [DART] [2026-01-15T13:15:18.201527] [INFO] [Logger] üîç sendToSession called: sessionId=1edf2159-8256-4e43-b9a4-a5da5a9fe307, event=game_state_updated, userIdInMessage=null
[2026-01-15T13:15:18.201638] [DART] [2026-01-15T13:15:18.201627] [INFO] [Logger] üîç VERIFY: sessionId != userIdInMessage? true
[2026-01-15T13:15:18.201993] [DART] [2026-01-15T13:15:18.201976] [INFO] [Logger] üì§ Sending event "game_state_updated" to session: 1edf2159-8256-4e43-b9a4-a5da5a9fe307
[2026-01-15T13:15:18.202120] [DART] [2026-01-15T13:15:18.202113] [DEBUG] [Logger] üì§ Message payload: {"event":"game_state_updated","game_id":"room_1768479178038","game_state":{"gameId":"room_1768479178038","gameName":"Dutch Game room_1768479178038","players":[{"id":"1edf2159-8256-4e43-b9a4-a5da5a9fe307","name":"Player_1edf2159","isHuman":true,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_10_spades_0_1200083244","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_spades_0_1005252912","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_3_spades_0_1634811251","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"1edf2159-8256-4e43-b9a4-a5da5a9fe307":{"card_room_1768479178038_6_diamonds_0_2293306230":{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","rank":"6","suit":"diamonds","points":6}}},"collection_rank_cards":[],"isActive":true,"collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f96f_1768479183189700","name":"zoebean668","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_king_spades_0_1726337296","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","suit":"?","rank":"?","points":0},null],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96f_1768479183189700":{"card_room_1768479178038_king_spades_0_1726337296":{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},"card_room_1768479178038_jack_spades_0_1560544297":{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":1,"userId":"6966b28e689c135500f1f96f","email":"zoebean668@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img002.jpg","collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f970_1768479183190199","name":"toastlord","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f970_1768479183190199":{"card_room_1768479178038_2_clubs_0_1414737583":{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2},"card_room_1768479178038_queen_diamonds_0_2510314702":{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},"card_room_1768479178038_ace_clubs_0_2700761781":{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":4,"userId":"6966b28e689c135500f1f970","email":"toastlord@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img003.jpg","collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f96e_1768479183190505","name":"emmafox","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_diamonds_0_2361332698","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96e_1768479183190505":{"card_room_1768479178038_3_hearts_0_2544939805":{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","rank":"3","suit":"hearts","points":3},"card_room_1768479178038_4_hearts_0_3125114950":{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},"card_room_1768479178038_4_diamonds_0_2514069008":{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","rank":"4","suit":"diamonds","points":4,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":9,"userId":"6966b28e689c135500f1f96e","email":"emmafox@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img001.jpg","collection_rank":null,"cardsToPeek":[]}],"discardPile":[{"cardId":"card_room_1768479178038_3_clubs_0_1491843039","rank":"3","suit":"clubs","points":3},{"cardId":"card_room_1768479178038_7_diamonds_0_2889439878","rank":"7","suit":"diamonds","points":7},{"cardId":"card_room_1768479178038_9_clubs_0_1803640071","rank":"9","suit":"clubs","points":9},{"cardId":"card_room_1768479178038_9_hearts_0_1586487203","rank":"9","suit":"hearts","points":9},{"cardId":"card_room_1768479178038_4_spades_0_1816679200","rank":"4","suit":"spades","points":4},{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},{"cardId":"card_room_1768479178038_ace_spades_0_2274827432","rank":"ace","suit":"spades","points":1},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","rank":"2","suit":"diamonds","points":2},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2}],"drawPile":[{"cardId":"card_room_1768479178038_ace_diamonds_0_2709442627","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_hearts_0_1884093033","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_spades_0_1416700472","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_spades_0_2687920453","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_hearts_0_2563658784","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_clubs_0_1521322776","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_diamonds_0_1522632788","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_clubs_0_1329112179","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_clubs_0_1596998760","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_hearts_0_1903953274","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_hearts_0_2287533053","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_spades_0_1544171881","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_diamonds_0_1355490217","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_hearts_0_1548463078","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_clubs_0_2449091067","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_4_clubs_0_2753482310","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_hearts_0_1847033524","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_diamonds_0_2159086933","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_clubs_0_1530444916","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_clubs_0_2080851400","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_clubs_0_2122920328","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_3_diamonds_0_2888192680","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_hearts_0_2168956179","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_joker_joker_1_1890303858","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_2_hearts_0_2281706427","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_spades_0_1936547888","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_9_diamonds_0_2145288646","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_hearts_0_2524965989","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_diamonds_0_2544269852","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_ace_hearts_0_2914841452","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_9_spades_0_1015149144","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_joker_joker_0_1854192425","suit":"?","rank":"?","points":0}],"originalDeck":[{"cardId":"card_room_1768479178038_10_spades_0_1200083244","rank":"10","suit":"spades","points":10},{"cardId":"card_room_1768479178038_5_spades_0_1005252912","rank":"5","suit":"spades","points":5},{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","rank":"6","suit":"diamonds","points":6},{"cardId":"card_room_1768479178038_7_diamonds_0_2889439878","rank":"7","suit":"diamonds","points":7},{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},{"cardId":"card_room_1768479178038_9_clubs_0_1803640071","rank":"9","suit":"clubs","points":9},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","rank":"2","suit":"diamonds","points":2},{"cardId":"card_room_1768479178038_9_hearts_0_1586487203","rank":"9","suit":"hearts","points":9},{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2},{"cardId":"card_room_1768479178038_4_spades_0_1816679200","rank":"4","suit":"spades","points":4},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","rank":"king","suit":"clubs","points":10},{"cardId":"card_room_1768479178038_ace_spades_0_2274827432","rank":"ace","suit":"spades","points":1},{"cardId":"card_room_1768479178038_5_diamonds_0_2361332698","rank":"5","suit":"diamonds","points":5},{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","rank":"3","suit":"hearts","points":3},{"cardId":"card_room_1768479178038_3_clubs_0_1491843039","rank":"3","suit":"clubs","points":3},{"cardId":"card_room_1768479178038_ace_diamonds_0_2709442627","rank":"ace","suit":"diamonds","points":1},{"cardId":"card_room_1768479178038_king_hearts_0_1884093033","rank":"king","suit":"hearts","points":10},{"cardId":"card_room_1768479178038_6_spades_0_1416700472","rank":"6","suit":"spades","points":6},{"cardId":"card_room_1768479178038_queen_spades_0_2687920453","rank":"queen","suit":"spades","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_7_hearts_0_2563658784","rank":"7","suit":"hearts","points":7},{"cardId":"card_room_1768479178038_jack_clubs_0_1521322776","rank":"jack","suit":"clubs","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_jack_diamonds_0_1522632788","rank":"jack","suit":"diamonds","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_8_clubs_0_1329112179","rank":"8","suit":"clubs","points":8},{"cardId":"card_room_1768479178038_5_clubs_0_1596998760","rank":"5","suit":"clubs","points":5},{"cardId":"card_room_1768479178038_8_hearts_0_1903953274","rank":"8","suit":"hearts","points":8},{"cardId":"card_room_1768479178038_10_hearts_0_2287533053","rank":"10","suit":"hearts","points":10},{"cardId":"card_room_1768479178038_8_spades_0_1544171881","rank":"8","suit":"spades","points":8},{"cardId":"card_room_1768479178038_8_diamonds_0_1355490217","rank":"8","suit":"diamonds","points":8},{"cardId":"card_room_1768479178038_jack_hearts_0_1548463078","rank":"jack","suit":"hearts","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_7_clubs_0_2449091067","rank":"7","suit":"clubs","points":7},{"cardId":"card_room_1768479178038_4_clubs_0_2753482310","rank":"4","suit":"clubs","points":4},{"cardId":"card_room_1768479178038_6_hearts_0_1847033524","rank":"6","suit":"hearts","points":6},{"cardId":"card_room_1768479178038_king_diamonds_0_2159086933","rank":"king","suit":"diamonds","points":10},{"cardId":"card_room_1768479178038_6_clubs_0_1530444916","rank":"6","suit":"clubs","points":6},{"cardId":"card_room_1768479178038_10_clubs_0_2080851400","rank":"10","suit":"clubs","points":10},{"cardId":"card_room_1768479178038_queen_clubs_0_2122920328","rank":"queen","suit":"clubs","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_3_diamonds_0_2888192680","rank":"3","suit":"diamonds","points":3},{"cardId":"card_room_1768479178038_5_hearts_0_2168956179","rank":"5","suit":"hearts","points":5},{"cardId":"card_room_1768479178038_joker_joker_1_1890303858","rank":"joker","suit":"joker","points":0},{"cardId":"card_room_1768479178038_2_hearts_0_2281706427","rank":"2","suit":"hearts","points":2},{"cardId":"card_room_1768479178038_7_spades_0_1936547888","rank":"7","suit":"spades","points":7},{"cardId":"card_room_1768479178038_9_diamonds_0_2145288646","rank":"9","suit":"diamonds","points":9},{"cardId":"card_room_1768479178038_queen_hearts_0_2524965989","rank":"queen","suit":"hearts","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_10_diamonds_0_2544269852","rank":"10","suit":"diamonds","points":10},{"cardId":"card_room_1768479178038_ace_hearts_0_2914841452","rank":"ace","suit":"hearts","points":1},{"cardId":"card_room_1768479178038_9_spades_0_1015149144","rank":"9","suit":"spades","points":9},{"cardId":"card_room_1768479178038_joker_joker_0_1854192425","rank":"joker","suit":"joker","points":0},{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","rank":"4","suit":"diamonds","points":4},{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2},{"cardId":"card_room_1768479178038_3_spades_0_1634811251","rank":"3","suit":"spades","points":3}],"gameType":"multiplayer","isGameActive":true,"phase":"playing","playerCount":4,"maxPlayers":4,"minPlayers":2,"showInstructions":false,"match_class":"standard","coin_cost_per_player":25,"match_pot":100,"isClearAndCollect":false,"timerConfig":{"initial_peek":15,"drawing_card":23420,"playing_card":30,"same_rank_window":10,"queen_peek":15,"jack_swap":20,"peeking":10,"waiting":0,"default":30},"roundStartTime":1768479198.211,"currentTurnStartTime":1768479198.211,"roundStatus":"active","actionsPerformed":[],"currentPlayer":{"id":"comp_6966b28e689c135500f1f96f_1768479183189700","name":"zoebean668","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_king_spades_0_1726337296","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","suit":"?","rank":"?","points":0},null],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96f_1768479183189700":{"card_room_1768479178038_king_spades_0_1726337296":{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},"card_room_1768479178038_jack_spades_0_1560544297":{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":1,"userId":"6966b28e689c135500f1f96f","email":"zoebean668@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img002.jpg","collection_rank":null,"cardsToPeek":[]}},"turn_events":[{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","actionType":"draw"},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","actionType":"play"},{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","actionType":"reposition"},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","actionType":"play"}],"owner_id":"69627310feeb61f1231a10a9","timestamp":"2026-01-15T13:15:18.201345"}
[2026-01-15T13:15:18.202326] [DART] [2026-01-15T13:15:18.202322] [DEBUG] [Logger] üì§ Total connections: 1
[2026-01-15T13:15:18.202418] [DART] [2026-01-15T13:15:18.202415] [DEBUG] [Logger] üì§ Connection type: IOWebSocketChannel
[2026-01-15T13:15:18.202620] [DART] [2026-01-15T13:15:18.202615] [DEBUG] [Logger] üì§ All session IDs in _connections: [1edf2159-8256-4e43-b9a4-a5da5a9fe307]
[2026-01-15T13:15:18.202688] [DART] [2026-01-15T13:15:18.202686] [DEBUG] [Logger] üì§ Connection hash: 387708583, Stored hash: 387708583
[2026-01-15T13:15:18.202748] [DART] [2026-01-15T13:15:18.202745] [DEBUG] [Logger] üì§ Connection identity match: true
[2026-01-15T13:15:18.203007] [DART] [2026-01-15T13:15:18.202990] [INFO] [Logger] ‚úÖ Event "game_state_updated" sent successfully to session: 1edf2159-8256-4e43-b9a4-a5da5a9fe307
[2026-01-15T13:15:18.203359] [DART] [2026-01-15T13:15:18.203354] [DEBUG] [Logger] ‚úÖ Message length: 16133 bytes
[2026-01-15T13:15:18.203454] [DART] [2026-01-15T13:15:18.203441] [INFO] [Logger] StateQueueValidator: Applied validated update with keys: games
[2026-01-15T13:15:18.203573] [DART] [2026-01-15T13:15:18.203559] [INFO] [Logger] Dutch: Updated known_cards for all players after same_rank_play
[2026-01-15T13:15:18.203849] [DART] [2026-01-15T13:15:18.203836] [INFO] [Logger] Dutch: Handling same rank play for player comp_6966b28e689c135500f1f970_1768479183190199, card card_room_1768479178038_2_clubs_0_1414737583
[2026-01-15T13:15:18.203990] [DART] [2026-01-15T13:15:18.203978] [INFO] [Logger] Dutch: Found card card_room_1768479178038_2_clubs_0_1414737583 for same rank play in player comp_6966b28e689c135500f1f970_1768479183190199 hand at index 1
[2026-01-15T13:15:18.204111] [DART] [2026-01-15T13:15:18.204099] [INFO] [Logger] Dutch: Same rank validation: played_card_rank='2', last_card_rank='2'
[2026-01-15T13:15:18.204208] [DART] [2026-01-15T13:15:18.204197] [INFO] [Logger] Dutch: Same rank validation: Ranks match, allowing play
[2026-01-15T13:15:18.204305] [DART] [2026-01-15T13:15:18.204293] [INFO] [Logger] Dutch: Same rank validation passed for card card_room_1768479178038_2_clubs_0_1414737583 with rank 2
[2026-01-15T13:15:18.204419] [DART] [2026-01-15T13:15:18.204410] [INFO] [Logger] Dutch: Created blank slot at index 1 for same rank play
[2026-01-15T13:15:18.204535] [DART] [2026-01-15T13:15:18.204522] [INFO] [Logger] Dutch: üîç TURN_EVENTS DEBUG - Current turn_events before adding same rank play event: 4 events
[2026-01-15T13:15:18.204688] [DART] [2026-01-15T13:15:18.204668] [INFO] [Logger] Dutch: Added turn event - cardId: card_room_1768479178038_2_clubs_0_1414737583, actionType: play (same rank), total events: 5
[2026-01-15T13:15:18.204858] [DART] [2026-01-15T13:15:18.204837] [INFO] [Logger] Dutch: üîç TURN_EVENTS DEBUG - Turn events being passed to onGameStateChanged: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:18.205020] [DART] [2026-01-15T13:15:18.205006] [INFO] [Logger] üîç TURN_EVENTS DEBUG - onGameStateChanged received turn_events: 5 events
[2026-01-15T13:15:18.205235] [DART] [2026-01-15T13:15:18.205215] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:18.205424] [DART] [2026-01-15T13:15:18.205404] [INFO] [Logger] üîç TURN_EVENTS DEBUG - StateQueueValidator.enqueueUpdate received turn_events: 5 events
[2026-01-15T13:15:18.205572] [DART] [2026-01-15T13:15:18.205535] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:18.205740] [DART] [2026-01-15T13:15:18.205725] [INFO] [Logger] StateQueueValidator: Enqueued update with keys: games, discardPile, turn_events
[2026-01-15T13:15:18.206430] [DART] [2026-01-15T13:15:18.206376] [INFO] [Logger] üîç TURN_EVENTS DEBUG - StateQueueValidator validated turn_events: 5 events
[2026-01-15T13:15:18.206841] [DART] [2026-01-15T13:15:18.206812] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:18.207151] [DART] [2026-01-15T13:15:18.207130] [INFO] [Logger] üîç TURN_EVENTS DEBUG - _applyValidatedUpdates received turn_events in validatedUpdates: 5 events
[2026-01-15T13:15:18.207318] [DART] [2026-01-15T13:15:18.207292] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:18.207544] [DART] [2026-01-15T13:15:18.207526] [INFO] [Logger] üîç TURN_EVENTS DEBUG - mergeRoot received turn_events: 5 events
[2026-01-15T13:15:18.207775] [DART] [2026-01-15T13:15:18.207749] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:18.208105] [DART] [2026-01-15T13:15:18.207949] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Previous turn_events in state before merge: 4 events
[2026-01-15T13:15:18.208632] [DART] [2026-01-15T13:15:18.208364] [INFO] [Logger] GameStateStore: merged root for room_1768479178038 -> keys: (games, discardPile, turn_events)
[2026-01-15T13:15:18.208879] [DART] [2026-01-15T13:15:18.208857] [INFO] [Logger] üîç TURN_EVENTS DEBUG - turn_events in state after merge: 5 events
[2026-01-15T13:15:18.209248] [DART] [2026-01-15T13:15:18.209183] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:18.209547] [DART] [2026-01-15T13:15:18.209514] [INFO] [Logger] üîç TURN_EVENTS DEBUG - _applyValidatedUpdates extracted turn_events from root state: 5 events
[2026-01-15T13:15:18.209715] [DART] [2026-01-15T13:15:18.209687] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:18.210113] [DART] [2026-01-15T13:15:18.210090] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Broadcasting game_state_updated with 5 turn_events
[2026-01-15T13:15:18.210304] [DART] [2026-01-15T13:15:18.210232] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events in broadcast: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:18.210493] [DART] [2026-01-15T13:15:18.210481] [INFO] [Room] üì¢ Broadcasting to room room_1768479178038 (1 clients)
[2026-01-15T13:15:18.210654] [DART] [2026-01-15T13:15:18.210639] [INFO] [Logger] üîç sendToSession called: sessionId=1edf2159-8256-4e43-b9a4-a5da5a9fe307, event=game_state_updated, userIdInMessage=null
[2026-01-15T13:15:18.210803] [DART] [2026-01-15T13:15:18.210786] [INFO] [Logger] üîç VERIFY: sessionId != userIdInMessage? true
[2026-01-15T13:15:18.212208] [DART] [2026-01-15T13:15:18.212168] [INFO] [Logger] üì§ Sending event "game_state_updated" to session: 1edf2159-8256-4e43-b9a4-a5da5a9fe307
[2026-01-15T13:15:18.212493] [DART] [2026-01-15T13:15:18.212458] [DEBUG] [Logger] üì§ Message payload: {"event":"game_state_updated","game_id":"room_1768479178038","game_state":{"gameId":"room_1768479178038","gameName":"Dutch Game room_1768479178038","players":[{"id":"1edf2159-8256-4e43-b9a4-a5da5a9fe307","name":"Player_1edf2159","isHuman":true,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_10_spades_0_1200083244","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_spades_0_1005252912","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_3_spades_0_1634811251","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"1edf2159-8256-4e43-b9a4-a5da5a9fe307":{"card_room_1768479178038_6_diamonds_0_2293306230":{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","rank":"6","suit":"diamonds","points":6}}},"collection_rank_cards":[],"isActive":true,"collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f96f_1768479183189700","name":"zoebean668","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_king_spades_0_1726337296","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","suit":"?","rank":"?","points":0},null],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96f_1768479183189700":{"card_room_1768479178038_king_spades_0_1726337296":{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},"card_room_1768479178038_jack_spades_0_1560544297":{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":1,"userId":"6966b28e689c135500f1f96f","email":"zoebean668@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img002.jpg","collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f970_1768479183190199","name":"toastlord","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f970_1768479183190199":{"card_room_1768479178038_2_clubs_0_1414737583":{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2},"card_room_1768479178038_queen_diamonds_0_2510314702":{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},"card_room_1768479178038_ace_clubs_0_2700761781":{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":4,"userId":"6966b28e689c135500f1f970","email":"toastlord@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img003.jpg","collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f96e_1768479183190505","name":"emmafox","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_diamonds_0_2361332698","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96e_1768479183190505":{"card_room_1768479178038_3_hearts_0_2544939805":{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","rank":"3","suit":"hearts","points":3},"card_room_1768479178038_4_hearts_0_3125114950":{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},"card_room_1768479178038_4_diamonds_0_2514069008":{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","rank":"4","suit":"diamonds","points":4,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":9,"userId":"6966b28e689c135500f1f96e","email":"emmafox@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img001.jpg","collection_rank":null,"cardsToPeek":[]}],"discardPile":[{"cardId":"card_room_1768479178038_3_clubs_0_1491843039","rank":"3","suit":"clubs","points":3},{"cardId":"card_room_1768479178038_7_diamonds_0_2889439878","rank":"7","suit":"diamonds","points":7},{"cardId":"card_room_1768479178038_9_clubs_0_1803640071","rank":"9","suit":"clubs","points":9},{"cardId":"card_room_1768479178038_9_hearts_0_1586487203","rank":"9","suit":"hearts","points":9},{"cardId":"card_room_1768479178038_4_spades_0_1816679200","rank":"4","suit":"spades","points":4},{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},{"cardId":"card_room_1768479178038_ace_spades_0_2274827432","rank":"ace","suit":"spades","points":1},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","rank":"2","suit":"diamonds","points":2},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2}],"drawPile":[{"cardId":"card_room_1768479178038_ace_diamonds_0_2709442627","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_hearts_0_1884093033","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_spades_0_1416700472","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_spades_0_2687920453","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_hearts_0_2563658784","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_clubs_0_1521322776","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_diamonds_0_1522632788","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_clubs_0_1329112179","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_clubs_0_1596998760","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_hearts_0_1903953274","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_hearts_0_2287533053","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_spades_0_1544171881","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_diamonds_0_1355490217","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_hearts_0_1548463078","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_clubs_0_2449091067","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_4_clubs_0_2753482310","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_hearts_0_1847033524","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_diamonds_0_2159086933","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_clubs_0_1530444916","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_clubs_0_2080851400","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_clubs_0_2122920328","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_3_diamonds_0_2888192680","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_hearts_0_2168956179","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_joker_joker_1_1890303858","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_2_hearts_0_2281706427","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_spades_0_1936547888","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_9_diamonds_0_2145288646","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_hearts_0_2524965989","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_diamonds_0_2544269852","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_ace_hearts_0_2914841452","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_9_spades_0_1015149144","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_joker_joker_0_1854192425","suit":"?","rank":"?","points":0}],"originalDeck":[{"cardId":"card_room_1768479178038_10_spades_0_1200083244","rank":"10","suit":"spades","points":10},{"cardId":"card_room_1768479178038_5_spades_0_1005252912","rank":"5","suit":"spades","points":5},{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","rank":"6","suit":"diamonds","points":6},{"cardId":"card_room_1768479178038_7_diamonds_0_2889439878","rank":"7","suit":"diamonds","points":7},{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},{"cardId":"card_room_1768479178038_9_clubs_0_1803640071","rank":"9","suit":"clubs","points":9},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","rank":"2","suit":"diamonds","points":2},{"cardId":"card_room_1768479178038_9_hearts_0_1586487203","rank":"9","suit":"hearts","points":9},{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2},{"cardId":"card_room_1768479178038_4_spades_0_1816679200","rank":"4","suit":"spades","points":4},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","rank":"king","suit":"clubs","points":10},{"cardId":"card_room_1768479178038_ace_spades_0_2274827432","rank":"ace","suit":"spades","points":1},{"cardId":"card_room_1768479178038_5_diamonds_0_2361332698","rank":"5","suit":"diamonds","points":5},{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","rank":"3","suit":"hearts","points":3},{"cardId":"card_room_1768479178038_3_clubs_0_1491843039","rank":"3","suit":"clubs","points":3},{"cardId":"card_room_1768479178038_ace_diamonds_0_2709442627","rank":"ace","suit":"diamonds","points":1},{"cardId":"card_room_1768479178038_king_hearts_0_1884093033","rank":"king","suit":"hearts","points":10},{"cardId":"card_room_1768479178038_6_spades_0_1416700472","rank":"6","suit":"spades","points":6},{"cardId":"card_room_1768479178038_queen_spades_0_2687920453","rank":"queen","suit":"spades","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_7_hearts_0_2563658784","rank":"7","suit":"hearts","points":7},{"cardId":"card_room_1768479178038_jack_clubs_0_1521322776","rank":"jack","suit":"clubs","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_jack_diamonds_0_1522632788","rank":"jack","suit":"diamonds","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_8_clubs_0_1329112179","rank":"8","suit":"clubs","points":8},{"cardId":"card_room_1768479178038_5_clubs_0_1596998760","rank":"5","suit":"clubs","points":5},{"cardId":"card_room_1768479178038_8_hearts_0_1903953274","rank":"8","suit":"hearts","points":8},{"cardId":"card_room_1768479178038_10_hearts_0_2287533053","rank":"10","suit":"hearts","points":10},{"cardId":"card_room_1768479178038_8_spades_0_1544171881","rank":"8","suit":"spades","points":8},{"cardId":"card_room_1768479178038_8_diamonds_0_1355490217","rank":"8","suit":"diamonds","points":8},{"cardId":"card_room_1768479178038_jack_hearts_0_1548463078","rank":"jack","suit":"hearts","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_7_clubs_0_2449091067","rank":"7","suit":"clubs","points":7},{"cardId":"card_room_1768479178038_4_clubs_0_2753482310","rank":"4","suit":"clubs","points":4},{"cardId":"card_room_1768479178038_6_hearts_0_1847033524","rank":"6","suit":"hearts","points":6},{"cardId":"card_room_1768479178038_king_diamonds_0_2159086933","rank":"king","suit":"diamonds","points":10},{"cardId":"card_room_1768479178038_6_clubs_0_1530444916","rank":"6","suit":"clubs","points":6},{"cardId":"card_room_1768479178038_10_clubs_0_2080851400","rank":"10","suit":"clubs","points":10},{"cardId":"card_room_1768479178038_queen_clubs_0_2122920328","rank":"queen","suit":"clubs","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_3_diamonds_0_2888192680","rank":"3","suit":"diamonds","points":3},{"cardId":"card_room_1768479178038_5_hearts_0_2168956179","rank":"5","suit":"hearts","points":5},{"cardId":"card_room_1768479178038_joker_joker_1_1890303858","rank":"joker","suit":"joker","points":0},{"cardId":"card_room_1768479178038_2_hearts_0_2281706427","rank":"2","suit":"hearts","points":2},{"cardId":"card_room_1768479178038_7_spades_0_1936547888","rank":"7","suit":"spades","points":7},{"cardId":"card_room_1768479178038_9_diamonds_0_2145288646","rank":"9","suit":"diamonds","points":9},{"cardId":"card_room_1768479178038_queen_hearts_0_2524965989","rank":"queen","suit":"hearts","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_10_diamonds_0_2544269852","rank":"10","suit":"diamonds","points":10},{"cardId":"card_room_1768479178038_ace_hearts_0_2914841452","rank":"ace","suit":"hearts","points":1},{"cardId":"card_room_1768479178038_9_spades_0_1015149144","rank":"9","suit":"spades","points":9},{"cardId":"card_room_1768479178038_joker_joker_0_1854192425","rank":"joker","suit":"joker","points":0},{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","rank":"4","suit":"diamonds","points":4},{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2},{"cardId":"card_room_1768479178038_3_spades_0_1634811251","rank":"3","suit":"spades","points":3}],"gameType":"multiplayer","isGameActive":true,"phase":"playing","playerCount":4,"maxPlayers":4,"minPlayers":2,"showInstructions":false,"match_class":"standard","coin_cost_per_player":25,"match_pot":100,"isClearAndCollect":false,"timerConfig":{"initial_peek":15,"drawing_card":23420,"playing_card":30,"same_rank_window":10,"queen_peek":15,"jack_swap":20,"peeking":10,"waiting":0,"default":30},"roundStartTime":1768479198.211,"currentTurnStartTime":1768479198.211,"roundStatus":"active","actionsPerformed":[],"currentPlayer":{"id":"comp_6966b28e689c135500f1f96f_1768479183189700","name":"zoebean668","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_king_spades_0_1726337296","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","suit":"?","rank":"?","points":0},null],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96f_1768479183189700":{"card_room_1768479178038_king_spades_0_1726337296":{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},"card_room_1768479178038_jack_spades_0_1560544297":{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":1,"userId":"6966b28e689c135500f1f96f","email":"zoebean668@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img002.jpg","collection_rank":null,"cardsToPeek":[]}},"turn_events":[{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","actionType":"draw"},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","actionType":"play"},{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","actionType":"reposition"},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","actionType":"play"},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","actionType":"play"}],"owner_id":"69627310feeb61f1231a10a9","timestamp":"2026-01-15T13:15:18.210472"}
[2026-01-15T13:15:18.213013] [DART] [2026-01-15T13:15:18.213007] [DEBUG] [Logger] üì§ Total connections: 1
[2026-01-15T13:15:18.213085] [DART] [2026-01-15T13:15:18.213081] [DEBUG] [Logger] üì§ Connection type: IOWebSocketChannel
[2026-01-15T13:15:18.213170] [DART] [2026-01-15T13:15:18.213167] [DEBUG] [Logger] üì§ All session IDs in _connections: [1edf2159-8256-4e43-b9a4-a5da5a9fe307]
[2026-01-15T13:15:18.213239] [DART] [2026-01-15T13:15:18.213236] [DEBUG] [Logger] üì§ Connection hash: 387708583, Stored hash: 387708583
[2026-01-15T13:15:18.213298] [DART] [2026-01-15T13:15:18.213295] [DEBUG] [Logger] üì§ Connection identity match: true
[2026-01-15T13:15:18.213904] [DART] [2026-01-15T13:15:18.213764] [INFO] [Logger] ‚úÖ Event "game_state_updated" sent successfully to session: 1edf2159-8256-4e43-b9a4-a5da5a9fe307
[2026-01-15T13:15:18.214741] [DART] [2026-01-15T13:15:18.214734] [DEBUG] [Logger] ‚úÖ Message length: 16220 bytes
[2026-01-15T13:15:18.214873] [DART] [2026-01-15T13:15:18.214856] [INFO] [Logger] StateQueueValidator: Applied validated update with keys: games, discardPile, turn_events
[2026-01-15T13:15:18.215] [DART] [2026-01-15T13:15:18.214980] [INFO] [Logger] Dutch: ‚úÖ Same rank play successful: comp_6966b28e689c135500f1f970_1768479183190199 played 2 of clubs - card moved to discard pile
[2026-01-15T13:15:18.215136] [DART] [2026-01-15T13:15:18.215122] [INFO] [Logger] Dutch: === AFTER SAME RANK PLAY for comp_6966b28e689c135500f1f970_1768479183190199 ===
[2026-01-15T13:15:18.215263] [DART] [2026-01-15T13:15:18.215251] [INFO] [Logger] Dutch: Player hand: [card_room_1768479178038_queen_diamonds_0_2510314702, null, card_room_1768479178038_ace_clubs_0_2700761781, card_room_1768479178038_king_clubs_0_1062342021]
[2026-01-15T13:15:18.215425] [DART] [2026-01-15T13:15:18.215407] [INFO] [Logger] Dutch: Player known_cards: {comp_6966b28e689c135500f1f970_1768479183190199: {card_room_1768479178038_2_clubs_0_1414737583: {cardId: card_room_1768479178038_2_clubs_0_1414737583, rank: 2, suit: clubs, points: 2}, card_room_1768479178038_queen_diamonds_0_2510314702: {cardId: card_room_1768479178038_queen_diamonds_0_2510314702, rank: queen, suit: diamonds, points: 10, specialPower: peek_at_card}, card_room_1768479178038_ace_clubs_0_2700761781: {cardId: card_room_1768479178038_ace_clubs_0_2700761781, rank: ace, suit: clubs, points: 1, specialPower: null}}}
[2026-01-15T13:15:18.215550] [DART] [2026-01-15T13:15:18.215538] [INFO] [Logger] Dutch: Player collection_rank: none
[2026-01-15T13:15:18.215659] [DART] [2026-01-15T13:15:18.215649] [INFO] [Logger] Dutch: Player collection_rank_cards: []
[2026-01-15T13:15:18.215743] [DART] [2026-01-15T13:15:18.215736] [INFO] [Logger] Dutch: Card 2 is not a special card
[2026-01-15T13:15:18.215808] [DART] [2026-01-15T13:15:18.215801] [INFO] [Logger] Dutch: Same rank play data would be stored here (future implementation)
[2026-01-15T13:15:18.216021] [DART] [2026-01-15T13:15:18.215997] [INFO] [Logger] üîç TURN_EVENTS DEBUG - onGameStateChanged received NO turn_events in updates. Keys: [games]
[2026-01-15T13:15:18.216326] [DART] [2026-01-15T13:15:18.216310] [INFO] [Logger] StateQueueValidator: Enqueued update with keys: games
[2026-01-15T13:15:18.216681] [DART] [2026-01-15T13:15:18.216661] [INFO] [Logger] üîç TURN_EVENTS DEBUG - _applyValidatedUpdates received NO turn_events in validatedUpdates. Keys: [games]
[2026-01-15T13:15:18.216900] [DART] [2026-01-15T13:15:18.216885] [INFO] [Logger] GameStateStore: merged root for room_1768479178038 -> keys: (games)
[2026-01-15T13:15:18.217024] [DART] [2026-01-15T13:15:18.217011] [INFO] [Logger] üîç TURN_EVENTS DEBUG - _applyValidatedUpdates extracted turn_events from root state: 5 events
[2026-01-15T13:15:18.217136] [DART] [2026-01-15T13:15:18.217108] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:18.217268] [DART] [2026-01-15T13:15:18.217255] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Broadcasting game_state_updated with 5 turn_events
[2026-01-15T13:15:18.217525] [DART] [2026-01-15T13:15:18.217348] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events in broadcast: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:18.217702] [DART] [2026-01-15T13:15:18.217685] [INFO] [Room] üì¢ Broadcasting to room room_1768479178038 (1 clients)
[2026-01-15T13:15:18.217819] [DART] [2026-01-15T13:15:18.217803] [INFO] [Logger] üîç sendToSession called: sessionId=1edf2159-8256-4e43-b9a4-a5da5a9fe307, event=game_state_updated, userIdInMessage=null
[2026-01-15T13:15:18.217897] [DART] [2026-01-15T13:15:18.217888] [INFO] [Logger] üîç VERIFY: sessionId != userIdInMessage? true
[2026-01-15T13:15:18.218202] [DART] [2026-01-15T13:15:18.218188] [INFO] [Logger] üì§ Sending event "game_state_updated" to session: 1edf2159-8256-4e43-b9a4-a5da5a9fe307
[2026-01-15T13:15:18.218280] [DART] [2026-01-15T13:15:18.218274] [DEBUG] [Logger] üì§ Message payload: {"event":"game_state_updated","game_id":"room_1768479178038","game_state":{"gameId":"room_1768479178038","gameName":"Dutch Game room_1768479178038","players":[{"id":"1edf2159-8256-4e43-b9a4-a5da5a9fe307","name":"Player_1edf2159","isHuman":true,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_10_spades_0_1200083244","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_spades_0_1005252912","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_3_spades_0_1634811251","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"1edf2159-8256-4e43-b9a4-a5da5a9fe307":{"card_room_1768479178038_6_diamonds_0_2293306230":{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","rank":"6","suit":"diamonds","points":6}}},"collection_rank_cards":[],"isActive":true,"collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f96f_1768479183189700","name":"zoebean668","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_king_spades_0_1726337296","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","suit":"?","rank":"?","points":0},null],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96f_1768479183189700":{"card_room_1768479178038_king_spades_0_1726337296":{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},"card_room_1768479178038_jack_spades_0_1560544297":{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":1,"userId":"6966b28e689c135500f1f96f","email":"zoebean668@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img002.jpg","collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f970_1768479183190199","name":"toastlord","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f970_1768479183190199":{"card_room_1768479178038_queen_diamonds_0_2510314702":{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},"card_room_1768479178038_ace_clubs_0_2700761781":{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":4,"userId":"6966b28e689c135500f1f970","email":"toastlord@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img003.jpg","collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f96e_1768479183190505","name":"emmafox","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_diamonds_0_2361332698","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96e_1768479183190505":{"card_room_1768479178038_3_hearts_0_2544939805":{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","rank":"3","suit":"hearts","points":3},"card_room_1768479178038_4_hearts_0_3125114950":{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},"card_room_1768479178038_4_diamonds_0_2514069008":{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","rank":"4","suit":"diamonds","points":4,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":9,"userId":"6966b28e689c135500f1f96e","email":"emmafox@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img001.jpg","collection_rank":null,"cardsToPeek":[]}],"discardPile":[{"cardId":"card_room_1768479178038_3_clubs_0_1491843039","rank":"3","suit":"clubs","points":3},{"cardId":"card_room_1768479178038_7_diamonds_0_2889439878","rank":"7","suit":"diamonds","points":7},{"cardId":"card_room_1768479178038_9_clubs_0_1803640071","rank":"9","suit":"clubs","points":9},{"cardId":"card_room_1768479178038_9_hearts_0_1586487203","rank":"9","suit":"hearts","points":9},{"cardId":"card_room_1768479178038_4_spades_0_1816679200","rank":"4","suit":"spades","points":4},{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},{"cardId":"card_room_1768479178038_ace_spades_0_2274827432","rank":"ace","suit":"spades","points":1},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","rank":"2","suit":"diamonds","points":2},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2}],"drawPile":[{"cardId":"card_room_1768479178038_ace_diamonds_0_2709442627","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_hearts_0_1884093033","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_spades_0_1416700472","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_spades_0_2687920453","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_hearts_0_2563658784","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_clubs_0_1521322776","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_diamonds_0_1522632788","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_clubs_0_1329112179","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_clubs_0_1596998760","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_hearts_0_1903953274","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_hearts_0_2287533053","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_spades_0_1544171881","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_diamonds_0_1355490217","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_hearts_0_1548463078","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_clubs_0_2449091067","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_4_clubs_0_2753482310","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_hearts_0_1847033524","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_diamonds_0_2159086933","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_clubs_0_1530444916","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_clubs_0_2080851400","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_clubs_0_2122920328","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_3_diamonds_0_2888192680","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_hearts_0_2168956179","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_joker_joker_1_1890303858","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_2_hearts_0_2281706427","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_spades_0_1936547888","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_9_diamonds_0_2145288646","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_hearts_0_2524965989","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_diamonds_0_2544269852","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_ace_hearts_0_2914841452","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_9_spades_0_1015149144","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_joker_joker_0_1854192425","suit":"?","rank":"?","points":0}],"originalDeck":[{"cardId":"card_room_1768479178038_10_spades_0_1200083244","rank":"10","suit":"spades","points":10},{"cardId":"card_room_1768479178038_5_spades_0_1005252912","rank":"5","suit":"spades","points":5},{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","rank":"6","suit":"diamonds","points":6},{"cardId":"card_room_1768479178038_7_diamonds_0_2889439878","rank":"7","suit":"diamonds","points":7},{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},{"cardId":"card_room_1768479178038_9_clubs_0_1803640071","rank":"9","suit":"clubs","points":9},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","rank":"2","suit":"diamonds","points":2},{"cardId":"card_room_1768479178038_9_hearts_0_1586487203","rank":"9","suit":"hearts","points":9},{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2},{"cardId":"card_room_1768479178038_4_spades_0_1816679200","rank":"4","suit":"spades","points":4},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","rank":"king","suit":"clubs","points":10},{"cardId":"card_room_1768479178038_ace_spades_0_2274827432","rank":"ace","suit":"spades","points":1},{"cardId":"card_room_1768479178038_5_diamonds_0_2361332698","rank":"5","suit":"diamonds","points":5},{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","rank":"3","suit":"hearts","points":3},{"cardId":"card_room_1768479178038_3_clubs_0_1491843039","rank":"3","suit":"clubs","points":3},{"cardId":"card_room_1768479178038_ace_diamonds_0_2709442627","rank":"ace","suit":"diamonds","points":1},{"cardId":"card_room_1768479178038_king_hearts_0_1884093033","rank":"king","suit":"hearts","points":10},{"cardId":"card_room_1768479178038_6_spades_0_1416700472","rank":"6","suit":"spades","points":6},{"cardId":"card_room_1768479178038_queen_spades_0_2687920453","rank":"queen","suit":"spades","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_7_hearts_0_2563658784","rank":"7","suit":"hearts","points":7},{"cardId":"card_room_1768479178038_jack_clubs_0_1521322776","rank":"jack","suit":"clubs","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_jack_diamonds_0_1522632788","rank":"jack","suit":"diamonds","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_8_clubs_0_1329112179","rank":"8","suit":"clubs","points":8},{"cardId":"card_room_1768479178038_5_clubs_0_1596998760","rank":"5","suit":"clubs","points":5},{"cardId":"card_room_1768479178038_8_hearts_0_1903953274","rank":"8","suit":"hearts","points":8},{"cardId":"card_room_1768479178038_10_hearts_0_2287533053","rank":"10","suit":"hearts","points":10},{"cardId":"card_room_1768479178038_8_spades_0_1544171881","rank":"8","suit":"spades","points":8},{"cardId":"card_room_1768479178038_8_diamonds_0_1355490217","rank":"8","suit":"diamonds","points":8},{"cardId":"card_room_1768479178038_jack_hearts_0_1548463078","rank":"jack","suit":"hearts","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_7_clubs_0_2449091067","rank":"7","suit":"clubs","points":7},{"cardId":"card_room_1768479178038_4_clubs_0_2753482310","rank":"4","suit":"clubs","points":4},{"cardId":"card_room_1768479178038_6_hearts_0_1847033524","rank":"6","suit":"hearts","points":6},{"cardId":"card_room_1768479178038_king_diamonds_0_2159086933","rank":"king","suit":"diamonds","points":10},{"cardId":"card_room_1768479178038_6_clubs_0_1530444916","rank":"6","suit":"clubs","points":6},{"cardId":"card_room_1768479178038_10_clubs_0_2080851400","rank":"10","suit":"clubs","points":10},{"cardId":"card_room_1768479178038_queen_clubs_0_2122920328","rank":"queen","suit":"clubs","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_3_diamonds_0_2888192680","rank":"3","suit":"diamonds","points":3},{"cardId":"card_room_1768479178038_5_hearts_0_2168956179","rank":"5","suit":"hearts","points":5},{"cardId":"card_room_1768479178038_joker_joker_1_1890303858","rank":"joker","suit":"joker","points":0},{"cardId":"card_room_1768479178038_2_hearts_0_2281706427","rank":"2","suit":"hearts","points":2},{"cardId":"card_room_1768479178038_7_spades_0_1936547888","rank":"7","suit":"spades","points":7},{"cardId":"card_room_1768479178038_9_diamonds_0_2145288646","rank":"9","suit":"diamonds","points":9},{"cardId":"card_room_1768479178038_queen_hearts_0_2524965989","rank":"queen","suit":"hearts","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_10_diamonds_0_2544269852","rank":"10","suit":"diamonds","points":10},{"cardId":"card_room_1768479178038_ace_hearts_0_2914841452","rank":"ace","suit":"hearts","points":1},{"cardId":"card_room_1768479178038_9_spades_0_1015149144","rank":"9","suit":"spades","points":9},{"cardId":"card_room_1768479178038_joker_joker_0_1854192425","rank":"joker","suit":"joker","points":0},{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","rank":"4","suit":"diamonds","points":4},{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2},{"cardId":"card_room_1768479178038_3_spades_0_1634811251","rank":"3","suit":"spades","points":3}],"gameType":"multiplayer","isGameActive":true,"phase":"playing","playerCount":4,"maxPlayers":4,"minPlayers":2,"showInstructions":false,"match_class":"standard","coin_cost_per_player":25,"match_pot":100,"isClearAndCollect":false,"timerConfig":{"initial_peek":15,"drawing_card":23420,"playing_card":30,"same_rank_window":10,"queen_peek":15,"jack_swap":20,"peeking":10,"waiting":0,"default":30},"roundStartTime":1768479198.211,"currentTurnStartTime":1768479198.211,"roundStatus":"active","actionsPerformed":[],"currentPlayer":{"id":"comp_6966b28e689c135500f1f96f_1768479183189700","name":"zoebean668","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_king_spades_0_1726337296","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","suit":"?","rank":"?","points":0},null],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96f_1768479183189700":{"card_room_1768479178038_king_spades_0_1726337296":{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},"card_room_1768479178038_jack_spades_0_1560544297":{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":1,"userId":"6966b28e689c135500f1f96f","email":"zoebean668@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img002.jpg","collection_rank":null,"cardsToPeek":[]}},"turn_events":[{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","actionType":"draw"},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","actionType":"play"},{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","actionType":"reposition"},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","actionType":"play"},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","actionType":"play"}],"owner_id":"69627310feeb61f1231a10a9","timestamp":"2026-01-15T13:15:18.217674"}
[2026-01-15T13:15:18.218450] [DART] [2026-01-15T13:15:18.218447] [DEBUG] [Logger] üì§ Total connections: 1
[2026-01-15T13:15:18.218515] [DART] [2026-01-15T13:15:18.218513] [DEBUG] [Logger] üì§ Connection type: IOWebSocketChannel
[2026-01-15T13:15:18.218589] [DART] [2026-01-15T13:15:18.218587] [DEBUG] [Logger] üì§ All session IDs in _connections: [1edf2159-8256-4e43-b9a4-a5da5a9fe307]
[2026-01-15T13:15:18.218657] [DART] [2026-01-15T13:15:18.218654] [DEBUG] [Logger] üì§ Connection hash: 387708583, Stored hash: 387708583
[2026-01-15T13:15:18.218717] [DART] [2026-01-15T13:15:18.218715] [DEBUG] [Logger] üì§ Connection identity match: true
[2026-01-15T13:15:18.219012] [DART] [2026-01-15T13:15:18.218996] [INFO] [Logger] ‚úÖ Event "game_state_updated" sent successfully to session: 1edf2159-8256-4e43-b9a4-a5da5a9fe307
[2026-01-15T13:15:18.219209] [DART] [2026-01-15T13:15:18.219203] [DEBUG] [Logger] ‚úÖ Message length: 16078 bytes
[2026-01-15T13:15:18.219480] [DART] [2026-01-15T13:15:18.219461] [INFO] [Logger] StateQueueValidator: Applied validated update with keys: games
[2026-01-15T13:15:18.219587] [DART] [2026-01-15T13:15:18.219577] [INFO] [Logger] Dutch: Updated known_cards for all players after same_rank_play
[2026-01-15T13:15:18.219710] [DART] [2026-01-15T13:15:18.219699] [INFO] [Logger] Dutch: All computer same rank plays completed
[2026-01-15T13:15:18.219806] [DART] [2026-01-15T13:15:18.219795] [INFO] [Logger] Dutch: Checking computer players for collection from discard pile
[2026-01-15T13:15:18.219880] [DART] [2026-01-15T13:15:18.219872] [INFO] [Logger] Dutch: _checkComputerPlayerCollectionFromDiscard using provided gamesMap (avoiding stale state read)
[2026-01-15T13:15:18.219982] [DART] [2026-01-15T13:15:18.219973] [INFO] [Logger] Dutch: Collection disabled - skipping computer player collection check
[2026-01-15T13:15:18.220070] [DART] [2026-01-15T13:15:18.220060] [INFO] [Logger] Dutch: No special cards played in this round - moving to next player
[2026-01-15T13:15:18.220144] [DART] [2026-01-15T13:15:18.220136] [INFO] [Logger] Dutch: Moving to next player (with 2 second delay)
[2026-01-15T13:15:18.888] [INFO] üé¨ UnifiedGameBoardWidget: Starting position scan
[2026-01-15T13:15:18.894] [INFO] üé¨ UnifiedGameBoardWidget: Detected 3 animations
[2026-01-15T13:15:20.221811] [DART] [2026-01-15T13:15:20.221784] [INFO] [Logger] Dutch: Delay complete, proceeding with move to next player
[2026-01-15T13:15:20.222037] [DART] [2026-01-15T13:15:20.222021] [INFO] [Logger] üîç TURN_EVENTS DEBUG - onGameStateChanged received NO turn_events in updates. Keys: [games, playerStatus]
[2026-01-15T13:15:20.222181] [DART] [2026-01-15T13:15:20.222170] [INFO] [Logger] StateQueueValidator: Enqueued update with keys: games, playerStatus
[2026-01-15T13:15:20.222322] [DART] [2026-01-15T13:15:20.222296] [INFO] [Logger] üîç TURN_EVENTS DEBUG - _applyValidatedUpdates received NO turn_events in validatedUpdates. Keys: [games, playerStatus]
[2026-01-15T13:15:20.222443] [DART] [2026-01-15T13:15:20.222435] [INFO] [Logger] GameStateStore: merged root for room_1768479178038 -> keys: (games, playerStatus)
[2026-01-15T13:15:20.222536] [DART] [2026-01-15T13:15:20.222524] [INFO] [Logger] üîç TURN_EVENTS DEBUG - _applyValidatedUpdates extracted turn_events from root state: 5 events
[2026-01-15T13:15:20.222662] [DART] [2026-01-15T13:15:20.222647] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:20.222809] [DART] [2026-01-15T13:15:20.222795] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Broadcasting game_state_updated with 5 turn_events
[2026-01-15T13:15:20.222954] [DART] [2026-01-15T13:15:20.222938] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events in broadcast: card_room_1768479178038_jack_spades_0_1560544297:draw, card_room_1768479178038_2_diamonds_0_2316111478:play, card_room_1768479178038_jack_spades_0_1560544297:reposition, card_room_1768479178038_2_spades_0_1750289206:play, card_room_1768479178038_2_clubs_0_1414737583:play
[2026-01-15T13:15:20.223035] [DART] [2026-01-15T13:15:20.223027] [INFO] [Room] üì¢ Broadcasting to room room_1768479178038 (1 clients)
[2026-01-15T13:15:20.223149] [DART] [2026-01-15T13:15:20.223121] [INFO] [Logger] üîç sendToSession called: sessionId=1edf2159-8256-4e43-b9a4-a5da5a9fe307, event=game_state_updated, userIdInMessage=null
[2026-01-15T13:15:20.223374] [DART] [2026-01-15T13:15:20.223321] [INFO] [Logger] üîç VERIFY: sessionId != userIdInMessage? true
[2026-01-15T13:15:20.223733] [DART] [2026-01-15T13:15:20.223719] [INFO] [Logger] üì§ Sending event "game_state_updated" to session: 1edf2159-8256-4e43-b9a4-a5da5a9fe307
[2026-01-15T13:15:20.223853] [DART] [2026-01-15T13:15:20.223842] [DEBUG] [Logger] üì§ Message payload: {"event":"game_state_updated","game_id":"room_1768479178038","game_state":{"gameId":"room_1768479178038","gameName":"Dutch Game room_1768479178038","players":[{"id":"1edf2159-8256-4e43-b9a4-a5da5a9fe307","name":"Player_1edf2159","isHuman":true,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_10_spades_0_1200083244","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_spades_0_1005252912","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_3_spades_0_1634811251","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"1edf2159-8256-4e43-b9a4-a5da5a9fe307":{"card_room_1768479178038_6_diamonds_0_2293306230":{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","rank":"6","suit":"diamonds","points":6}}},"collection_rank_cards":[],"isActive":true,"collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f96f_1768479183189700","name":"zoebean668","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_king_spades_0_1726337296","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","suit":"?","rank":"?","points":0},null],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96f_1768479183189700":{"card_room_1768479178038_king_spades_0_1726337296":{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},"card_room_1768479178038_jack_spades_0_1560544297":{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":1,"userId":"6966b28e689c135500f1f96f","email":"zoebean668@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img002.jpg","collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f970_1768479183190199","name":"toastlord","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f970_1768479183190199":{"card_room_1768479178038_queen_diamonds_0_2510314702":{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},"card_room_1768479178038_ace_clubs_0_2700761781":{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":4,"userId":"6966b28e689c135500f1f970","email":"toastlord@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img003.jpg","collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f96e_1768479183190505","name":"emmafox","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_diamonds_0_2361332698","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96e_1768479183190505":{"card_room_1768479178038_3_hearts_0_2544939805":{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","rank":"3","suit":"hearts","points":3},"card_room_1768479178038_4_hearts_0_3125114950":{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},"card_room_1768479178038_4_diamonds_0_2514069008":{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","rank":"4","suit":"diamonds","points":4,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":9,"userId":"6966b28e689c135500f1f96e","email":"emmafox@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img001.jpg","collection_rank":null,"cardsToPeek":[]}],"discardPile":[{"cardId":"card_room_1768479178038_3_clubs_0_1491843039","rank":"3","suit":"clubs","points":3},{"cardId":"card_room_1768479178038_7_diamonds_0_2889439878","rank":"7","suit":"diamonds","points":7},{"cardId":"card_room_1768479178038_9_clubs_0_1803640071","rank":"9","suit":"clubs","points":9},{"cardId":"card_room_1768479178038_9_hearts_0_1586487203","rank":"9","suit":"hearts","points":9},{"cardId":"card_room_1768479178038_4_spades_0_1816679200","rank":"4","suit":"spades","points":4},{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},{"cardId":"card_room_1768479178038_ace_spades_0_2274827432","rank":"ace","suit":"spades","points":1},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","rank":"2","suit":"diamonds","points":2},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2}],"drawPile":[{"cardId":"card_room_1768479178038_ace_diamonds_0_2709442627","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_hearts_0_1884093033","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_spades_0_1416700472","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_spades_0_2687920453","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_hearts_0_2563658784","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_clubs_0_1521322776","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_diamonds_0_1522632788","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_clubs_0_1329112179","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_clubs_0_1596998760","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_hearts_0_1903953274","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_hearts_0_2287533053","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_spades_0_1544171881","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_diamonds_0_1355490217","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_hearts_0_1548463078","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_clubs_0_2449091067","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_4_clubs_0_2753482310","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_hearts_0_1847033524","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_diamonds_0_2159086933","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_clubs_0_1530444916","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_clubs_0_2080851400","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_clubs_0_2122920328","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_3_diamonds_0_2888192680","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_hearts_0_2168956179","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_joker_joker_1_1890303858","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_2_hearts_0_2281706427","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_spades_0_1936547888","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_9_diamonds_0_2145288646","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_hearts_0_2524965989","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_diamonds_0_2544269852","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_ace_hearts_0_2914841452","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_9_spades_0_1015149144","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_joker_joker_0_1854192425","suit":"?","rank":"?","points":0}],"originalDeck":[{"cardId":"card_room_1768479178038_10_spades_0_1200083244","rank":"10","suit":"spades","points":10},{"cardId":"card_room_1768479178038_5_spades_0_1005252912","rank":"5","suit":"spades","points":5},{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","rank":"6","suit":"diamonds","points":6},{"cardId":"card_room_1768479178038_7_diamonds_0_2889439878","rank":"7","suit":"diamonds","points":7},{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},{"cardId":"card_room_1768479178038_9_clubs_0_1803640071","rank":"9","suit":"clubs","points":9},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","rank":"2","suit":"diamonds","points":2},{"cardId":"card_room_1768479178038_9_hearts_0_1586487203","rank":"9","suit":"hearts","points":9},{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2},{"cardId":"card_room_1768479178038_4_spades_0_1816679200","rank":"4","suit":"spades","points":4},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","rank":"king","suit":"clubs","points":10},{"cardId":"card_room_1768479178038_ace_spades_0_2274827432","rank":"ace","suit":"spades","points":1},{"cardId":"card_room_1768479178038_5_diamonds_0_2361332698","rank":"5","suit":"diamonds","points":5},{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","rank":"3","suit":"hearts","points":3},{"cardId":"card_room_1768479178038_3_clubs_0_1491843039","rank":"3","suit":"clubs","points":3},{"cardId":"card_room_1768479178038_ace_diamonds_0_2709442627","rank":"ace","suit":"diamonds","points":1},{"cardId":"card_room_1768479178038_king_hearts_0_1884093033","rank":"king","suit":"hearts","points":10},{"cardId":"card_room_1768479178038_6_spades_0_1416700472","rank":"6","suit":"spades","points":6},{"cardId":"card_room_1768479178038_queen_spades_0_2687920453","rank":"queen","suit":"spades","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_7_hearts_0_2563658784","rank":"7","suit":"hearts","points":7},{"cardId":"card_room_1768479178038_jack_clubs_0_1521322776","rank":"jack","suit":"clubs","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_jack_diamonds_0_1522632788","rank":"jack","suit":"diamonds","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_8_clubs_0_1329112179","rank":"8","suit":"clubs","points":8},{"cardId":"card_room_1768479178038_5_clubs_0_1596998760","rank":"5","suit":"clubs","points":5},{"cardId":"card_room_1768479178038_8_hearts_0_1903953274","rank":"8","suit":"hearts","points":8},{"cardId":"card_room_1768479178038_10_hearts_0_2287533053","rank":"10","suit":"hearts","points":10},{"cardId":"card_room_1768479178038_8_spades_0_1544171881","rank":"8","suit":"spades","points":8},{"cardId":"card_room_1768479178038_8_diamonds_0_1355490217","rank":"8","suit":"diamonds","points":8},{"cardId":"card_room_1768479178038_jack_hearts_0_1548463078","rank":"jack","suit":"hearts","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_7_clubs_0_2449091067","rank":"7","suit":"clubs","points":7},{"cardId":"card_room_1768479178038_4_clubs_0_2753482310","rank":"4","suit":"clubs","points":4},{"cardId":"card_room_1768479178038_6_hearts_0_1847033524","rank":"6","suit":"hearts","points":6},{"cardId":"card_room_1768479178038_king_diamonds_0_2159086933","rank":"king","suit":"diamonds","points":10},{"cardId":"card_room_1768479178038_6_clubs_0_1530444916","rank":"6","suit":"clubs","points":6},{"cardId":"card_room_1768479178038_10_clubs_0_2080851400","rank":"10","suit":"clubs","points":10},{"cardId":"card_room_1768479178038_queen_clubs_0_2122920328","rank":"queen","suit":"clubs","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_3_diamonds_0_2888192680","rank":"3","suit":"diamonds","points":3},{"cardId":"card_room_1768479178038_5_hearts_0_2168956179","rank":"5","suit":"hearts","points":5},{"cardId":"card_room_1768479178038_joker_joker_1_1890303858","rank":"joker","suit":"joker","points":0},{"cardId":"card_room_1768479178038_2_hearts_0_2281706427","rank":"2","suit":"hearts","points":2},{"cardId":"card_room_1768479178038_7_spades_0_1936547888","rank":"7","suit":"spades","points":7},{"cardId":"card_room_1768479178038_9_diamonds_0_2145288646","rank":"9","suit":"diamonds","points":9},{"cardId":"card_room_1768479178038_queen_hearts_0_2524965989","rank":"queen","suit":"hearts","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_10_diamonds_0_2544269852","rank":"10","suit":"diamonds","points":10},{"cardId":"card_room_1768479178038_ace_hearts_0_2914841452","rank":"ace","suit":"hearts","points":1},{"cardId":"card_room_1768479178038_9_spades_0_1015149144","rank":"9","suit":"spades","points":9},{"cardId":"card_room_1768479178038_joker_joker_0_1854192425","rank":"joker","suit":"joker","points":0},{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","rank":"4","suit":"diamonds","points":4},{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2},{"cardId":"card_room_1768479178038_3_spades_0_1634811251","rank":"3","suit":"spades","points":3}],"gameType":"multiplayer","isGameActive":true,"phase":"playing","playerCount":4,"maxPlayers":4,"minPlayers":2,"showInstructions":false,"match_class":"standard","coin_cost_per_player":25,"match_pot":100,"isClearAndCollect":false,"timerConfig":{"initial_peek":15,"drawing_card":23420,"playing_card":30,"same_rank_window":10,"queen_peek":15,"jack_swap":20,"peeking":10,"waiting":0,"default":30},"roundStartTime":1768479198.211,"currentTurnStartTime":1768479198.211,"roundStatus":"active","actionsPerformed":[],"currentPlayer":{"id":"comp_6966b28e689c135500f1f96f_1768479183189700","name":"zoebean668","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_king_spades_0_1726337296","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","suit":"?","rank":"?","points":0},null],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96f_1768479183189700":{"card_room_1768479178038_king_spades_0_1726337296":{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},"card_room_1768479178038_jack_spades_0_1560544297":{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":1,"userId":"6966b28e689c135500f1f96f","email":"zoebean668@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img002.jpg","collection_rank":null,"cardsToPeek":[]}},"turn_events":[{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","actionType":"draw"},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","actionType":"play"},{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","actionType":"reposition"},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","actionType":"play"},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","actionType":"play"}],"owner_id":"69627310feeb61f1231a10a9","timestamp":"2026-01-15T13:15:20.223020"}
[2026-01-15T13:15:20.224047] [DART] [2026-01-15T13:15:20.224031] [DEBUG] [Logger] üì§ Total connections: 1
[2026-01-15T13:15:20.224147] [DART] [2026-01-15T13:15:20.224145] [DEBUG] [Logger] üì§ Connection type: IOWebSocketChannel
[2026-01-15T13:15:20.224273] [DART] [2026-01-15T13:15:20.224269] [DEBUG] [Logger] üì§ All session IDs in _connections: [1edf2159-8256-4e43-b9a4-a5da5a9fe307]
[2026-01-15T13:15:20.224353] [DART] [2026-01-15T13:15:20.224347] [DEBUG] [Logger] üì§ Connection hash: 387708583, Stored hash: 387708583
[2026-01-15T13:15:20.224463] [DART] [2026-01-15T13:15:20.224461] [DEBUG] [Logger] üì§ Connection identity match: true
[2026-01-15T13:15:20.224740] [DART] [2026-01-15T13:15:20.224721] [INFO] [Logger] ‚úÖ Event "game_state_updated" sent successfully to session: 1edf2159-8256-4e43-b9a4-a5da5a9fe307
[2026-01-15T13:15:20.224864] [DART] [2026-01-15T13:15:20.224860] [DEBUG] [Logger] ‚úÖ Message length: 16078 bytes
[2026-01-15T13:15:20.224959] [DART] [2026-01-15T13:15:20.224946] [INFO] [Logger] StateQueueValidator: Applied validated update with keys: games, playerStatus
[2026-01-15T13:15:20.225141] [DART] [2026-01-15T13:15:20.225127] [INFO] [Logger] Dutch: Set current player comp_6966b28e689c135500f1f96f_1768479183189700 status to waiting
[2026-01-15T13:15:20.225285] [DART] [2026-01-15T13:15:20.225274] [INFO] [Logger] Dutch: Updated game state currentPlayer to: toastlord
[2026-01-15T13:15:20.225405] [DART] [2026-01-15T13:15:20.225396] [INFO] [Logger] Dutch: Updated currentPlayer in games map to: toastlord
[2026-01-15T13:15:20.225523] [DART] [2026-01-15T13:15:20.225511] [INFO] [Logger] üîç TURN_EVENTS DEBUG - onGameStateChanged received turn_events: 0 events
[2026-01-15T13:15:20.225624] [DART] [2026-01-15T13:15:20.225616] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: 
[2026-01-15T13:15:20.225714] [DART] [2026-01-15T13:15:20.225701] [INFO] [Logger] üîç TURN_EVENTS DEBUG - StateQueueValidator.enqueueUpdate received turn_events: 0 events
[2026-01-15T13:15:20.225804] [DART] [2026-01-15T13:15:20.225795] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: 
[2026-01-15T13:15:20.225911] [DART] [2026-01-15T13:15:20.225902] [INFO] [Logger] StateQueueValidator: Enqueued update with keys: games, currentPlayer, playerStatus, turn_events
[2026-01-15T13:15:20.226003] [DART] [2026-01-15T13:15:20.225993] [INFO] [Logger] üîç TURN_EVENTS DEBUG - StateQueueValidator validated turn_events: 0 events
[2026-01-15T13:15:20.226175] [DART] [2026-01-15T13:15:20.226140] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: 
[2026-01-15T13:15:20.226303] [DART] [2026-01-15T13:15:20.226292] [INFO] [Logger] üîç TURN_EVENTS DEBUG - _applyValidatedUpdates received turn_events in validatedUpdates: 0 events
[2026-01-15T13:15:20.226392] [DART] [2026-01-15T13:15:20.226382] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: 
[2026-01-15T13:15:20.226479] [DART] [2026-01-15T13:15:20.226468] [INFO] [Logger] üîç TURN_EVENTS DEBUG - mergeRoot received turn_events: 0 events
[2026-01-15T13:15:20.226580] [DART] [2026-01-15T13:15:20.226572] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: 
[2026-01-15T13:15:20.226656] [DART] [2026-01-15T13:15:20.226646] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Previous turn_events in state before merge: 5 events
[2026-01-15T13:15:20.226761] [DART] [2026-01-15T13:15:20.226739] [INFO] [Logger] GameStateStore: merged root for room_1768479178038 -> keys: (games, currentPlayer, playerStatus, turn_events)
[2026-01-15T13:15:20.226849] [DART] [2026-01-15T13:15:20.226841] [INFO] [Logger] üîç TURN_EVENTS DEBUG - turn_events in state after merge: 0 events
[2026-01-15T13:15:20.226913] [DART] [2026-01-15T13:15:20.226906] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: 
[2026-01-15T13:15:20.227104] [DART] [2026-01-15T13:15:20.227078] [INFO] [Logger] üîç TURN_EVENTS DEBUG - _applyValidatedUpdates extracted turn_events from root state: 0 events
[2026-01-15T13:15:20.227232] [DART] [2026-01-15T13:15:20.227217] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events details: 
[2026-01-15T13:15:20.227351] [DART] [2026-01-15T13:15:20.227332] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Broadcasting game_state_updated with 0 turn_events
[2026-01-15T13:15:20.227486] [DART] [2026-01-15T13:15:20.227456] [INFO] [Logger] üîç TURN_EVENTS DEBUG - Turn events in broadcast: 
[2026-01-15T13:15:20.227598] [DART] [2026-01-15T13:15:20.227586] [INFO] [Room] üì¢ Broadcasting to room room_1768479178038 (1 clients)
[2026-01-15T13:15:20.227703] [DART] [2026-01-15T13:15:20.227690] [INFO] [Logger] üîç sendToSession called: sessionId=1edf2159-8256-4e43-b9a4-a5da5a9fe307, event=game_state_updated, userIdInMessage=null
[2026-01-15T13:15:20.227814] [DART] [2026-01-15T13:15:20.227802] [INFO] [Logger] üîç VERIFY: sessionId != userIdInMessage? true
[2026-01-15T13:15:20.228671] [DART] [2026-01-15T13:15:20.228653] [INFO] [Logger] üì§ Sending event "game_state_updated" to session: 1edf2159-8256-4e43-b9a4-a5da5a9fe307
[2026-01-15T13:15:20.228876] [DART] [2026-01-15T13:15:20.228869] [DEBUG] [Logger] üì§ Message payload: {"event":"game_state_updated","game_id":"room_1768479178038","game_state":{"gameId":"room_1768479178038","gameName":"Dutch Game room_1768479178038","players":[{"id":"1edf2159-8256-4e43-b9a4-a5da5a9fe307","name":"Player_1edf2159","isHuman":true,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_10_spades_0_1200083244","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_spades_0_1005252912","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_3_spades_0_1634811251","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"1edf2159-8256-4e43-b9a4-a5da5a9fe307":{"card_room_1768479178038_6_diamonds_0_2293306230":{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","rank":"6","suit":"diamonds","points":6}}},"collection_rank_cards":[],"isActive":true,"collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f96f_1768479183189700","name":"zoebean668","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_king_spades_0_1726337296","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","suit":"?","rank":"?","points":0},null],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96f_1768479183189700":{"card_room_1768479178038_king_spades_0_1726337296":{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},"card_room_1768479178038_jack_spades_0_1560544297":{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":1,"userId":"6966b28e689c135500f1f96f","email":"zoebean668@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img002.jpg","collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f970_1768479183190199","name":"toastlord","isHuman":false,"status":"drawing_card","hand":[{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f970_1768479183190199":{"card_room_1768479178038_queen_diamonds_0_2510314702":{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},"card_room_1768479178038_ace_clubs_0_2700761781":{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":4,"userId":"6966b28e689c135500f1f970","email":"toastlord@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img003.jpg","collection_rank":null,"cardsToPeek":[]},{"id":"comp_6966b28e689c135500f1f96e_1768479183190505","name":"emmafox","isHuman":false,"status":"waiting","hand":[{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_diamonds_0_2361332698","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f96e_1768479183190505":{"card_room_1768479178038_3_hearts_0_2544939805":{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","rank":"3","suit":"hearts","points":3},"card_room_1768479178038_4_hearts_0_3125114950":{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},"card_room_1768479178038_4_diamonds_0_2514069008":{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","rank":"4","suit":"diamonds","points":4,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":9,"userId":"6966b28e689c135500f1f96e","email":"emmafox@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img001.jpg","collection_rank":null,"cardsToPeek":[]}],"discardPile":[{"cardId":"card_room_1768479178038_3_clubs_0_1491843039","rank":"3","suit":"clubs","points":3},{"cardId":"card_room_1768479178038_7_diamonds_0_2889439878","rank":"7","suit":"diamonds","points":7},{"cardId":"card_room_1768479178038_9_clubs_0_1803640071","rank":"9","suit":"clubs","points":9},{"cardId":"card_room_1768479178038_9_hearts_0_1586487203","rank":"9","suit":"hearts","points":9},{"cardId":"card_room_1768479178038_4_spades_0_1816679200","rank":"4","suit":"spades","points":4},{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},{"cardId":"card_room_1768479178038_ace_spades_0_2274827432","rank":"ace","suit":"spades","points":1},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","rank":"2","suit":"diamonds","points":2},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2}],"drawPile":[{"cardId":"card_room_1768479178038_ace_diamonds_0_2709442627","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_hearts_0_1884093033","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_spades_0_1416700472","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_spades_0_2687920453","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_hearts_0_2563658784","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_clubs_0_1521322776","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_diamonds_0_1522632788","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_clubs_0_1329112179","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_clubs_0_1596998760","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_hearts_0_1903953274","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_hearts_0_2287533053","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_spades_0_1544171881","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_8_diamonds_0_1355490217","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_jack_hearts_0_1548463078","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_clubs_0_2449091067","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_4_clubs_0_2753482310","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_hearts_0_1847033524","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_diamonds_0_2159086933","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_6_clubs_0_1530444916","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_clubs_0_2080851400","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_clubs_0_2122920328","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_3_diamonds_0_2888192680","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_5_hearts_0_2168956179","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_joker_joker_1_1890303858","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_2_hearts_0_2281706427","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_7_spades_0_1936547888","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_9_diamonds_0_2145288646","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_queen_hearts_0_2524965989","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_10_diamonds_0_2544269852","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_ace_hearts_0_2914841452","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_9_spades_0_1015149144","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_joker_joker_0_1854192425","suit":"?","rank":"?","points":0}],"originalDeck":[{"cardId":"card_room_1768479178038_10_spades_0_1200083244","rank":"10","suit":"spades","points":10},{"cardId":"card_room_1768479178038_5_spades_0_1005252912","rank":"5","suit":"spades","points":5},{"cardId":"card_room_1768479178038_6_diamonds_0_2293306230","rank":"6","suit":"diamonds","points":6},{"cardId":"card_room_1768479178038_7_diamonds_0_2889439878","rank":"7","suit":"diamonds","points":7},{"cardId":"card_room_1768479178038_king_spades_0_1726337296","rank":"king","suit":"spades","points":10},{"cardId":"card_room_1768479178038_9_clubs_0_1803640071","rank":"9","suit":"clubs","points":9},{"cardId":"card_room_1768479178038_2_diamonds_0_2316111478","rank":"2","suit":"diamonds","points":2},{"cardId":"card_room_1768479178038_9_hearts_0_1586487203","rank":"9","suit":"hearts","points":9},{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_2_clubs_0_1414737583","rank":"2","suit":"clubs","points":2},{"cardId":"card_room_1768479178038_4_spades_0_1816679200","rank":"4","suit":"spades","points":4},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","rank":"king","suit":"clubs","points":10},{"cardId":"card_room_1768479178038_ace_spades_0_2274827432","rank":"ace","suit":"spades","points":1},{"cardId":"card_room_1768479178038_5_diamonds_0_2361332698","rank":"5","suit":"diamonds","points":5},{"cardId":"card_room_1768479178038_4_hearts_0_3125114950","rank":"4","suit":"hearts","points":4},{"cardId":"card_room_1768479178038_3_hearts_0_2544939805","rank":"3","suit":"hearts","points":3},{"cardId":"card_room_1768479178038_3_clubs_0_1491843039","rank":"3","suit":"clubs","points":3},{"cardId":"card_room_1768479178038_ace_diamonds_0_2709442627","rank":"ace","suit":"diamonds","points":1},{"cardId":"card_room_1768479178038_king_hearts_0_1884093033","rank":"king","suit":"hearts","points":10},{"cardId":"card_room_1768479178038_6_spades_0_1416700472","rank":"6","suit":"spades","points":6},{"cardId":"card_room_1768479178038_queen_spades_0_2687920453","rank":"queen","suit":"spades","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_7_hearts_0_2563658784","rank":"7","suit":"hearts","points":7},{"cardId":"card_room_1768479178038_jack_clubs_0_1521322776","rank":"jack","suit":"clubs","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_jack_diamonds_0_1522632788","rank":"jack","suit":"diamonds","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_8_clubs_0_1329112179","rank":"8","suit":"clubs","points":8},{"cardId":"card_room_1768479178038_5_clubs_0_1596998760","rank":"5","suit":"clubs","points":5},{"cardId":"card_room_1768479178038_8_hearts_0_1903953274","rank":"8","suit":"hearts","points":8},{"cardId":"card_room_1768479178038_10_hearts_0_2287533053","rank":"10","suit":"hearts","points":10},{"cardId":"card_room_1768479178038_8_spades_0_1544171881","rank":"8","suit":"spades","points":8},{"cardId":"card_room_1768479178038_8_diamonds_0_1355490217","rank":"8","suit":"diamonds","points":8},{"cardId":"card_room_1768479178038_jack_hearts_0_1548463078","rank":"jack","suit":"hearts","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_7_clubs_0_2449091067","rank":"7","suit":"clubs","points":7},{"cardId":"card_room_1768479178038_4_clubs_0_2753482310","rank":"4","suit":"clubs","points":4},{"cardId":"card_room_1768479178038_6_hearts_0_1847033524","rank":"6","suit":"hearts","points":6},{"cardId":"card_room_1768479178038_king_diamonds_0_2159086933","rank":"king","suit":"diamonds","points":10},{"cardId":"card_room_1768479178038_6_clubs_0_1530444916","rank":"6","suit":"clubs","points":6},{"cardId":"card_room_1768479178038_10_clubs_0_2080851400","rank":"10","suit":"clubs","points":10},{"cardId":"card_room_1768479178038_queen_clubs_0_2122920328","rank":"queen","suit":"clubs","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_3_diamonds_0_2888192680","rank":"3","suit":"diamonds","points":3},{"cardId":"card_room_1768479178038_5_hearts_0_2168956179","rank":"5","suit":"hearts","points":5},{"cardId":"card_room_1768479178038_joker_joker_1_1890303858","rank":"joker","suit":"joker","points":0},{"cardId":"card_room_1768479178038_2_hearts_0_2281706427","rank":"2","suit":"hearts","points":2},{"cardId":"card_room_1768479178038_7_spades_0_1936547888","rank":"7","suit":"spades","points":7},{"cardId":"card_room_1768479178038_9_diamonds_0_2145288646","rank":"9","suit":"diamonds","points":9},{"cardId":"card_room_1768479178038_queen_hearts_0_2524965989","rank":"queen","suit":"hearts","points":10,"specialPower":"peek_at_card"},{"cardId":"card_room_1768479178038_10_diamonds_0_2544269852","rank":"10","suit":"diamonds","points":10},{"cardId":"card_room_1768479178038_ace_hearts_0_2914841452","rank":"ace","suit":"hearts","points":1},{"cardId":"card_room_1768479178038_9_spades_0_1015149144","rank":"9","suit":"spades","points":9},{"cardId":"card_room_1768479178038_joker_joker_0_1854192425","rank":"joker","suit":"joker","points":0},{"cardId":"card_room_1768479178038_jack_spades_0_1560544297","rank":"jack","suit":"spades","points":10,"specialPower":"switch_cards"},{"cardId":"card_room_1768479178038_4_diamonds_0_2514069008","rank":"4","suit":"diamonds","points":4},{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1},{"cardId":"card_room_1768479178038_2_spades_0_1750289206","rank":"2","suit":"spades","points":2},{"cardId":"card_room_1768479178038_3_spades_0_1634811251","rank":"3","suit":"spades","points":3}],"gameType":"multiplayer","isGameActive":true,"phase":"playing","playerCount":4,"maxPlayers":4,"minPlayers":2,"showInstructions":false,"match_class":"standard","coin_cost_per_player":25,"match_pot":100,"isClearAndCollect":false,"timerConfig":{"initial_peek":15,"drawing_card":23420,"playing_card":30,"same_rank_window":10,"queen_peek":15,"jack_swap":20,"peeking":10,"waiting":0,"default":30},"roundStartTime":1768479198.211,"currentTurnStartTime":1768479198.211,"roundStatus":"active","actionsPerformed":[],"currentPlayer":{"id":"comp_6966b28e689c135500f1f970_1768479183190199","name":"toastlord","isHuman":false,"status":"drawing_card","hand":[{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","suit":"?","rank":"?","points":0},null,{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","suit":"?","rank":"?","points":0},{"cardId":"card_room_1768479178038_king_clubs_0_1062342021","suit":"?","rank":"?","points":0}],"visible_cards":[],"points":0,"known_cards":{"comp_6966b28e689c135500f1f970_1768479183190199":{"card_room_1768479178038_queen_diamonds_0_2510314702":{"cardId":"card_room_1768479178038_queen_diamonds_0_2510314702","rank":"queen","suit":"diamonds","points":10,"specialPower":"peek_at_card"},"card_room_1768479178038_ace_clubs_0_2700761781":{"cardId":"card_room_1768479178038_ace_clubs_0_2700761781","rank":"ace","suit":"clubs","points":1,"specialPower":null}}},"collection_rank_cards":[],"isActive":true,"difficulty":"easy","rank":"beginner","level":4,"userId":"6966b28e689c135500f1f970","email":"toastlord@cp.com","profile_picture":"https://dutch.reignofplay.com/sim_players/images/img003.jpg","collection_rank":null,"cardsToPeek":[]}},"turn_events":[],"owner_id":"69627310feeb61f1231a10a9","timestamp":"2026-01-15T13:15:20.227579"}
[2026-01-15T13:15:20.229066] [DART] [2026-01-15T13:15:20.229063] [DEBUG] [Logger] üì§ Total connections: 1
[2026-01-15T13:15:20.229149] [DART] [2026-01-15T13:15:20.229146] [DEBUG] [Logger] üì§ Connection type: IOWebSocketChannel
[2026-01-15T13:15:20.229235] [DART] [2026-01-15T13:15:20.229233] [DEBUG] [Logger] üì§ All session IDs in _connections: [1edf2159-8256-4e43-b9a4-a5da5a9fe307]
[2026-01-15T13:15:20.229311] [DART] [2026-01-15T13:15:20.229309] [DEBUG] [Logger] üì§ Connection hash: 387708583, Stored hash: 387708583
[2026-01-15T13:15:20.229386] [DART] [2026-01-15T13:15:20.229384] [DEBUG] [Logger] üì§ Connection identity match: true
[2026-01-15T13:15:20.229660] [DART] [2026-01-15T13:15:20.229641] [INFO] [Logger] ‚úÖ Event "game_state_updated" sent successfully to session: 1edf2159-8256-4e43-b9a4-a5da5a9fe307
[2026-01-15T13:15:20.230091] [DART] [2026-01-15T13:15:20.230086] [DEBUG] [Logger] ‚úÖ Message length: 15791 bytes
[2026-01-15T13:15:20.230196] [DART] [2026-01-15T13:15:20.230184] [INFO] [Logger] StateQueueValidator: Applied validated update with keys: games, currentPlayer, playerStatus, turn_events
[2026-01-15T13:15:20.230412] [DART] [2026-01-15T13:15:20.230399] [INFO] [Logger] Dutch: Updated games map with new currentPlayer, status, and cleared turn_events for new turn
[2026-01-15T13:15:20.230575] [DART] [2026-01-15T13:15:20.230566] [INFO] [Logger] Dutch: === TURN START for comp_6966b28e689c135500f1f970_1768479183190199 ===
[2026-01-15T13:15:20.230741] [DART] [2026-01-15T13:15:20.230730] [INFO] [Logger] Dutch: Player hand: [card_room_1768479178038_queen_diamonds_0_2510314702, null, card_room_1768479178038_ace_clubs_0_2700761781, card_room_1768479178038_king_clubs_0_1062342021]
[2026-01-15T13:15:20.231118] [DART] [2026-01-15T13:15:20.231011] [INFO] [Logger] Dutch: Player known_cards: {comp_6966b28e689c135500f1f970_1768479183190199: {card_room_1768479178038_queen_diamonds_0_2510314702: {cardId: card_room_1768479178038_queen_diamonds_0_2510314702, rank: queen, suit: diamonds, points: 10, specialPower: peek_at_card}, card_room_1768479178038_ace_clubs_0_2700761781: {cardId: card_room_1768479178038_ace_clubs_0_2700761781, rank: ace, suit: clubs, points: 1, specialPower: null}}}
[2026-01-15T13:15:20.231267] [DART] [2026-01-15T13:15:20.231255] [INFO] [Logger] Dutch: Player collection_rank: none
[2026-01-15T13:15:20.231460] [DART] [2026-01-15T13:15:20.231448] [INFO] [Logger] Dutch: Player collection_rank_cards: []
[2026-01-15T13:15:20.231573] [DART] [2026-01-15T13:15:20.231563] [INFO] [Logger] Dutch: Set next player toastlord to drawing_card status
[2026-01-15T13:15:20.231688] [DART] [2026-01-15T13:15:20.231678] [INFO] [Logger] GameRegistry: getTimerConfig() for room room_1768479178038 - phase: playing, status: drawing_card
[2026-01-15T13:15:20.231794] [DART] [2026-01-15T13:15:20.231783] [INFO] [Logger] GameRegistry: getTimerConfig() returning turnTimeLimit: 10 for room room_1768479178038
[2026-01-15T13:15:20.231953] [DART] [2026-01-15T13:15:20.231942] [INFO] [Logger] GameRegistry: getTimerConfig() for room room_1768479178038 - phase: playing, status: drawing_card
[2026-01-15T13:15:20.233065] [DART] [2026-01-15T13:15:20.233036] [INFO] [Logger] GameRegistry: getTimerConfig() returning turnTimeLimit: 10 for room room_1768479178038
[2026-01-15T13:15:20.233340] [DART] [2026-01-15T13:15:20.233325] [INFO] [Logger] Dutch: Starting draw action timer for player comp_6966b28e689c135500f1f970_1768479183190199 (10s)
[2026-01-15T13:15:20.233593] [DART] [2026-01-15T13:15:20.233577] [INFO] [Logger] Dutch: Computer player detected - triggering computer turn logic
[2026-01-15T13:15:20.233807] [DART] [2026-01-15T13:15:20.233795] [INFO] [Logger] Dutch: ===== INITIALIZING COMPUTER TURN =====
[2026-01-15T13:15:20.233986] [DART] [2026-01-15T13:15:20.233969] [INFO] [Logger] Dutch: Computer player toastlord (comp_6966b28e689c135500f1f970_1768479183190199) starting turn
[2026-01-15T13:15:20.234215] [DART] [2026-01-15T13:15:20.234194] [INFO] [Logger] Dutch: üéØ BEFORE YAML PARSING - Player: toastlord (ID: comp_6966b28e689c135500f1f970_1768479183190199), Rank: beginner, Level: 4
[2026-01-15T13:15:20.234339] [DART] [2026-01-15T13:15:20.234325] [INFO] [Logger] Dutch: ‚úÖ Using stored difficulty for player toastlord: easy (from rank: beginner)
[2026-01-15T13:15:20.234537] [DART] [2026-01-15T13:15:20.234523] [INFO] [Logger] Dutch: Computer player difficulty: easy
[2026-01-15T13:15:20.234666] [DART] [2026-01-15T13:15:20.234654] [INFO] [Logger] Dutch: Current event needed: draw_card
[2026-01-15T13:15:20.234930] [DART] [2026-01-15T13:15:20.234909] [INFO] [Logger] Dutch: üéØ BEFORE YAML PARSING - Player: toastlord (ID: comp_6966b28e689c135500f1f970_1768479183190199), Rank: beginner, Difficulty: easy, Event: draw_card
[2026-01-15T13:15:20.235089] [DART] [2026-01-15T13:15:20.235068] [INFO] [Logger] Dutch: ‚úÖ AFTER YAML PARSING - Player: toastlord, Rank: beginner, Difficulty: easy, Decision: draw_card, Card: null, Reasoning: Drawing from deck (100.0% probability)
[2026-01-15 13:15:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:15:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73428 bytes (app.debug.py:127)
[2026-01-15 13:15:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:15:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 122.0 (app.debug.py:133)
[2026-01-15 13:15:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.025539875030517578, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:15:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:15:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.025539875030517578, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:15:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.026s (metrics_collector.py:312)
[2026-01-15 13:15:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:15:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:15:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:15:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:15:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:15:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:15:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:15:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:15:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:15:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:15:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:15:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:15:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73428 bytes (app.debug.py:127)
[2026-01-15 13:15:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:15:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 123.0 (app.debug.py:133)
[2026-01-15 13:15:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02009415626525879, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:15:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:15:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02009415626525879, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:15:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.020s (metrics_collector.py:312)
[2026-01-15 13:15:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:15:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:15:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:15:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:15:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:15:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:15:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:15:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:15:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:15:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:15:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:15:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:15:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73427 bytes (app.debug.py:127)
[2026-01-15 13:15:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:15:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 124.0 (app.debug.py:133)
[2026-01-15 13:15:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05039715766906738, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:15:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:15:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05039715766906738, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:15:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.050s (metrics_collector.py:312)
[2026-01-15 13:15:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:16:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:16:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:16:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:16:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:16:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:16:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:16:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:16:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73426 bytes (app.debug.py:127)
[2026-01-15 13:16:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:16:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 125.0 (app.debug.py:133)
[2026-01-15 13:16:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03630495071411133, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03630495071411133, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:16:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.036s (metrics_collector.py:312)
[2026-01-15 13:16:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:16:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:16:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:16:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:16:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:16:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:16:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:16:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:16:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73427 bytes (app.debug.py:127)
[2026-01-15 13:16:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:16:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 126.0 (app.debug.py:133)
[2026-01-15 13:16:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.032240867614746094, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.032240867614746094, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:16:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.032s (metrics_collector.py:312)
[2026-01-15 13:16:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:16:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:16:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:16:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:16:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:16:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:16:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:16:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:16:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73425 bytes (app.debug.py:127)
[2026-01-15 13:16:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:16:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 127.0 (app.debug.py:133)
[2026-01-15 13:16:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.0178830623626709, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.0178830623626709, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:16:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.018s (metrics_collector.py:312)
[2026-01-15 13:16:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:16:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:16:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:16:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:16:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:16:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:16:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:16:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:16:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73427 bytes (app.debug.py:127)
[2026-01-15 13:16:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:16:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 128.0 (app.debug.py:133)
[2026-01-15 13:16:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.01732611656188965, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.01732611656188965, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:16:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.017s (metrics_collector.py:312)
[2026-01-15 13:16:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.000270843505859375, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.000270843505859375, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS health_check status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:16:59] - custom_log - INFO - Getting module status for user_management_module (module_manager.py:248)
[2026-01-15 13:16:59] - custom_log - INFO - Getting module status for stripe_module (module_manager.py:248)
[2026-01-15 13:16:59] - custom_log - INFO - Getting module status for system_actions_module (module_manager.py:248)
[2026-01-15 13:16:59] - custom_log - INFO - Getting module status for communications_module (module_manager.py:248)
[2026-01-15 13:16:59] - custom_log - INFO - Getting module status for dutch_game (module_manager.py:248)
[2026-01-15 13:16:59] - custom_log - INFO - Getting module status for analytics_module (module_manager.py:248)
[2026-01-15 13:16:59] - custom_log - INFO - Getting module status for wallet_module (module_manager.py:248)
[2026-01-15 13:16:59] - custom_log - INFO - Getting module status for transactions_module (module_manager.py:248)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.012977838516235352, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.012977838516235352, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector: Tracked request - GET health_check status=200 duration=0.013s (metrics_collector.py:312)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.00040912628173828125, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.00040912628173828125, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:16:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:00] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:17:00] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475820 (jwt_manager.py:205)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475820 (jwt_manager.py:221)
[2026-01-15 13:17:00] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:17:00] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:17:00] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10878801345825195, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10878801345825195, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.109s (metrics_collector.py:312)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:00] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:17:00] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:17:00] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:17:00] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:17:00] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4MDQ4NSwiaWF0IjoxNzY4NDc2ODg1fQ.Ua0TOMAxZcl_G9OZGQwe2Vl5JiJ8bLKb60Svx61plP4'} (api_endpoints.py:27)
[2026-01-15 13:17:00] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4MDQ4NSwiaWF0IjoxNzY4NDc2ODg1fQ.Ua0TOMAxZcl_G9OZGQwe2Vl5JiJ8bLKb60Svx61plP4'} (api_endpoints.py:27)
[2026-01-15 13:17:00] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:17:00] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:17:00] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:17:00] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:17:00] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:17:00] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475820 (jwt_manager.py:205)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475820 (jwt_manager.py:205)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475820 (jwt_manager.py:221)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:17:00] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475820 (jwt_manager.py:221)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:17:00] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:17:00] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:17:00] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:17:00] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:17:00] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:17:00] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:17:00] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.5448200702667236, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.5448200702667236, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.545s (metrics_collector.py:312)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:00] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.5637161731719971, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.5637161731719971, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.564s (metrics_collector.py:312)
[2026-01-15 13:17:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:17:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:17:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:17:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:17:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:17:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:17:02] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.00039315223693847656, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:02] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:02] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.00039315223693847656, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:17:02] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS track_event status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:17:02] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:02] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:17:02] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475822 (jwt_manager.py:205)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475822 (jwt_manager.py:221)
[2026-01-15 13:17:02] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:17:02] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:17:02] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:17:02] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:17:02] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:17:02] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:17:02] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/lobby'} (analytics_service.py:93)
[2026-01-15 13:17:02] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:17:02] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:17:02] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:17:02] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10564804077148438, 'size': 142}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:02] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:02] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10564804077148438, 'size': 142} (metrics_collector.py:286)
[2026-01-15 13:17:02] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.106s (metrics_collector.py:312)
[2026-01-15 13:17:02] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:04] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:17:04] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475824 (jwt_manager.py:205)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475824 (jwt_manager.py:221)
[2026-01-15 13:17:04] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:17:04] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:17:04] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:17:04] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:17:04] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10597991943359375, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:04] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:04] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10597991943359375, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:17:04] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.106s (metrics_collector.py:312)
[2026-01-15 13:17:04] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:05] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:17:05] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475825 (jwt_manager.py:205)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475825 (jwt_manager.py:221)
[2026-01-15 13:17:05] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:17:05] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:17:05] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:17:05] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.000782012939453125, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.000782012939453125, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET None status=404 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:05] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:17:05] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:17:05] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/game-play'} (analytics_service.py:93)
[2026-01-15 13:17:05] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:17:05] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:17:05] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10605311393737793, 'size': 146}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10605311393737793, 'size': 146} (metrics_collector.py:286)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.106s (metrics_collector.py:312)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:17:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73427 bytes (app.debug.py:127)
[2026-01-15 13:17:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:17:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 129.0 (app.debug.py:133)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.034003257751464844, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.034003257751464844, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.034s (metrics_collector.py:312)
[2026-01-15 13:17:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:09] - custom_log - INFO -  DutchGame: Received get-comp-players request (dutch_game_main.py:740)
[2026-01-15 13:17:09] - custom_log - INFO -  DutchGame: Requesting 3 comp player(s) with rank filter: ['beginner', 'novice'] (dutch_game_main.py:772)
[2026-01-15 13:17:09] - custom_log - INFO -  DutchGame: Filtering comp players by ranks: ['beginner', 'novice'] (dutch_game_main.py:795)
[2026-01-15 13:17:09] - custom_log - INFO -  DutchGame: Querying database for comp players with query: {'is_comp_player': True, 'status': 'active', 'modules.dutch_game.rank': {'$in': ['beginner', 'novice']}} (dutch_game_main.py:797)
[2026-01-15 13:17:09] - custom_log - INFO -  DutchGame: Found 5 comp player(s) in database (dutch_game_main.py:829)
[2026-01-15 13:17:09] - custom_log - INFO -  DutchGame: Selected 3 comp player(s) randomly and shuffled (dutch_game_main.py:841)
[2026-01-15 13:17:09] - custom_log - INFO -  DutchGame: Added comp player [1/3] - user_id: 6966b28e689c135500f1f96e, username: emmafox, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:17:09] - custom_log - INFO -  DutchGame: Added comp player [2/3] - user_id: 6966b28e689c135500f1f96d, username: sampickle, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:17:09] - custom_log - INFO -  DutchGame: Added comp player [3/3] - user_id: 6966b28e689c135500f1f96f, username: zoebean668, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:17:09] - custom_log - INFO -  DutchGame: Successfully retrieved 3 comp player(s) (dutch_game_main.py:871)
[2026-01-15 13:17:09] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.10651016235351562, 'size': 47}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:09] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:09] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.10651016235351562, 'size': 47} (metrics_collector.py:286)
[2026-01-15 13:17:09] - custom_log - DEBUG - MetricsCollector: Tracked request - POST get_comp_players status=200 duration=0.107s (metrics_collector.py:312)
[2026-01-15 13:17:09] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:10] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.0004661083221435547, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:10] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:10] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.0004661083221435547, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:17:10] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS deduct_game_coins status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:17:10] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:10] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:17:10] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475830 (jwt_manager.py:205)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475830 (jwt_manager.py:221)
[2026-01-15 13:17:10] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:17:10] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:17:10] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:17:10] - custom_log - INFO -  DutchGame: Deducting 25 coins for game room_1768479424770 from 4 player(s) (dutch_game_main.py:585)
[2026-01-15 13:17:10] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 69627310feeb61f1231a10a9 (dutch_game_main.py:621)
[2026-01-15 13:17:10] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 69627310feeb61f1231a10a9 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:17:10] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96e (dutch_game_main.py:621)
[2026-01-15 13:17:10] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96e - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:17:10] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96d (dutch_game_main.py:621)
[2026-01-15 13:17:10] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96d - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:17:10] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96f (dutch_game_main.py:621)
[2026-01-15 13:17:10] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96f - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:17:10] - custom_log - INFO -  DutchGame: Successfully deducted coins for 4 player(s) (dutch_game_main.py:703)
[2026-01-15 13:17:10] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.4097309112548828, 'size': 166}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:10] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:10] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.4097309112548828, 'size': 166} (metrics_collector.py:286)
[2026-01-15 13:17:10] - custom_log - DEBUG - MetricsCollector: Tracked request - POST deduct_game_coins status=200 duration=0.410s (metrics_collector.py:312)
[2026-01-15 13:17:10] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:11] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0003440380096435547, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:11] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:11] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0003440380096435547, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:17:11] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:17:11] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:11] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:17:11] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475831 (jwt_manager.py:205)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475831 (jwt_manager.py:221)
[2026-01-15 13:17:11] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:17:11] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:17:11] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:17:11] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:17:11] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10544824600219727, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:11] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:11] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10544824600219727, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:17:11] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.105s (metrics_collector.py:312)
[2026-01-15 13:17:11] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:17:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:17:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:17:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:17:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:17:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:17:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:17:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73427 bytes (app.debug.py:127)
[2026-01-15 13:17:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:17:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 130.0 (app.debug.py:133)
[2026-01-15 13:17:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.020196914672851562, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.020196914672851562, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:17:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.020s (metrics_collector.py:312)
[2026-01-15 13:17:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:17:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:17:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:17:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:17:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:17:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:17:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:17:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73425 bytes (app.debug.py:127)
[2026-01-15 13:17:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:17:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 131.0 (app.debug.py:133)
[2026-01-15 13:17:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02325582504272461, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02325582504272461, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:17:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.023s (metrics_collector.py:312)
[2026-01-15 13:17:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:17:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:17:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:17:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:17:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:17:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:17:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:17:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:17:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73427 bytes (app.debug.py:127)
[2026-01-15 13:17:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:17:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 132.0 (app.debug.py:133)
[2026-01-15 13:17:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.019208908081054688, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:17:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:17:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.019208908081054688, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:17:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.019s (metrics_collector.py:312)
[2026-01-15 13:17:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:18:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:18:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:18:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:18:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:18:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:18:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:18:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:18:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:18:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:18:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:18:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:18:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73426 bytes (app.debug.py:127)
[2026-01-15 13:18:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:18:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 133.0 (app.debug.py:133)
[2026-01-15 13:18:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.019481182098388672, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:18:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:18:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.019481182098388672, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:18:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.019s (metrics_collector.py:312)
[2026-01-15 13:18:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:18:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:18:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:18:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:18:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:18:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:18:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:18:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:18:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:18:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:18:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:18:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:18:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73423 bytes (app.debug.py:127)
[2026-01-15 13:18:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:18:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 134.0 (app.debug.py:133)
[2026-01-15 13:18:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.0213620662689209, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:18:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:18:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.0213620662689209, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:18:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:18:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:18:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:18:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:18:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:18:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:18:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:18:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:18:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:18:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:18:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:18:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:18:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:18:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73427 bytes (app.debug.py:127)
[2026-01-15 13:18:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:18:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 135.0 (app.debug.py:133)
[2026-01-15 13:18:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02075481414794922, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:18:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:18:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02075481414794922, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:18:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:18:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:18:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:18:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:18:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:18:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:18:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:18:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:18:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:18:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:18:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:18:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:18:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:18:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73424 bytes (app.debug.py:127)
[2026-01-15 13:18:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:18:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 136.0 (app.debug.py:133)
[2026-01-15 13:18:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02888011932373047, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:18:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:18:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02888011932373047, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:18:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.029s (metrics_collector.py:312)
[2026-01-15 13:18:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:19:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:19:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:19:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:19:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:19:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:19:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:19:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73427 bytes (app.debug.py:127)
[2026-01-15 13:19:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:19:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 137.0 (app.debug.py:133)
[2026-01-15 13:19:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.023862838745117188, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.023862838745117188, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.024s (metrics_collector.py:312)
[2026-01-15 13:19:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:19:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:19:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:19:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:19:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:19:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:19:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:19:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73427 bytes (app.debug.py:127)
[2026-01-15 13:19:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:19:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 138.0 (app.debug.py:133)
[2026-01-15 13:19:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.01710200309753418, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.01710200309753418, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.017s (metrics_collector.py:312)
[2026-01-15 13:19:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:19:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:19:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:19:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:19:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:19:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:19:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:19:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73427 bytes (app.debug.py:127)
[2026-01-15 13:19:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:19:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 139.0 (app.debug.py:133)
[2026-01-15 13:19:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.018083810806274414, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.018083810806274414, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.018s (metrics_collector.py:312)
[2026-01-15 13:19:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.00026416778564453125, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.00026416778564453125, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS health_check status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:38] - custom_log - INFO - Getting module status for user_management_module (module_manager.py:248)
[2026-01-15 13:19:38] - custom_log - INFO - Getting module status for stripe_module (module_manager.py:248)
[2026-01-15 13:19:38] - custom_log - INFO - Getting module status for system_actions_module (module_manager.py:248)
[2026-01-15 13:19:38] - custom_log - INFO - Getting module status for communications_module (module_manager.py:248)
[2026-01-15 13:19:38] - custom_log - INFO - Getting module status for dutch_game (module_manager.py:248)
[2026-01-15 13:19:38] - custom_log - INFO - Getting module status for analytics_module (module_manager.py:248)
[2026-01-15 13:19:38] - custom_log - INFO - Getting module status for wallet_module (module_manager.py:248)
[2026-01-15 13:19:38] - custom_log - INFO - Getting module status for transactions_module (module_manager.py:248)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.00851297378540039, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.00851297378540039, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector: Tracked request - GET health_check status=200 duration=0.009s (metrics_collector.py:312)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0004761219024658203, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0004761219024658203, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:38] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:19:38] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475978 (jwt_manager.py:205)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475978 (jwt_manager.py:221)
[2026-01-15 13:19:38] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:19:38] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:19:38] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:19:38] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10610294342041016, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10610294342041016, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.106s (metrics_collector.py:312)
[2026-01-15 13:19:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:39] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:19:39] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:19:39] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:19:39] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:19:39] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4MDQ4NSwiaWF0IjoxNzY4NDc2ODg1fQ.Ua0TOMAxZcl_G9OZGQwe2Vl5JiJ8bLKb60Svx61plP4'} (api_endpoints.py:27)
[2026-01-15 13:19:39] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4MDQ4NSwiaWF0IjoxNzY4NDc2ODg1fQ.Ua0TOMAxZcl_G9OZGQwe2Vl5JiJ8bLKb60Svx61plP4'} (api_endpoints.py:27)
[2026-01-15 13:19:39] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:19:39] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:19:39] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:19:39] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:19:39] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:19:39] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475979 (jwt_manager.py:205)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475979 (jwt_manager.py:205)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475979 (jwt_manager.py:221)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475979 (jwt_manager.py:221)
[2026-01-15 13:19:39] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:19:39] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:19:39] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:19:39] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:19:39] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:19:39] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:19:39] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:19:39] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:19:39] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:19:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.39451122283935547, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.4003489017486572, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:39] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:39] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.39451122283935547, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:19:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.4003489017486572, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:19:39] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.395s (metrics_collector.py:312)
[2026-01-15 13:19:39] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.400s (metrics_collector.py:312)
[2026-01-15 13:19:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0003528594970703125, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:41] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0003528594970703125, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:41] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS track_event status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:19:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:41] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:19:41] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475981 (jwt_manager.py:205)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475981 (jwt_manager.py:221)
[2026-01-15 13:19:41] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:19:41] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:19:41] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:19:41] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:19:41] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:19:41] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:19:41] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/lobby'} (analytics_service.py:93)
[2026-01-15 13:19:41] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:19:41] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:19:41] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:19:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10448908805847168, 'size': 142}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:41] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10448908805847168, 'size': 142} (metrics_collector.py:286)
[2026-01-15 13:19:41] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.104s (metrics_collector.py:312)
[2026-01-15 13:19:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:43] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.00035190582275390625, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:43] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:43] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.00035190582275390625, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:43] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:19:43] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:43] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:19:43] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475983 (jwt_manager.py:205)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475983 (jwt_manager.py:221)
[2026-01-15 13:19:43] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:19:43] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:19:43] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:19:44] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10610508918762207, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10610508918762207, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.106s (metrics_collector.py:312)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:44] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:19:44] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475984 (jwt_manager.py:205)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475984 (jwt_manager.py:221)
[2026-01-15 13:19:44] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:19:44] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:19:44] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:19:44] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:19:44] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:19:44] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:19:44] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/game-play'} (analytics_service.py:93)
[2026-01-15 13:19:44] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:19:44] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:19:44] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10482311248779297, 'size': 146}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10482311248779297, 'size': 146} (metrics_collector.py:286)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.105s (metrics_collector.py:312)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0006990432739257812, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0006990432739257812, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector: Tracked request - GET None status=404 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:19:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:19:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:19:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:19:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:19:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:19:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Received get-comp-players request (dutch_game_main.py:740)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Requesting 3 comp player(s) with rank filter: ['beginner', 'novice'] (dutch_game_main.py:772)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Filtering comp players by ranks: ['beginner', 'novice'] (dutch_game_main.py:795)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Querying database for comp players with query: {'is_comp_player': True, 'status': 'active', 'modules.dutch_game.rank': {'$in': ['beginner', 'novice']}} (dutch_game_main.py:797)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Found 5 comp player(s) in database (dutch_game_main.py:829)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Selected 3 comp player(s) randomly and shuffled (dutch_game_main.py:841)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Added comp player [1/3] - user_id: 6966b28e689c135500f1f96f, username: zoebean668, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Added comp player [2/3] - user_id: 6966b28e689c135500f1f96e, username: emmafox, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Added comp player [3/3] - user_id: 6966b28e689c135500f1f96d, username: sampickle, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Successfully retrieved 3 comp player(s) (dutch_game_main.py:871)
[2026-01-15 13:19:49] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.1068730354309082, 'size': 47}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:49] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:49] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.1068730354309082, 'size': 47} (metrics_collector.py:286)
[2026-01-15 13:19:49] - custom_log - DEBUG - MetricsCollector: Tracked request - POST get_comp_players status=200 duration=0.107s (metrics_collector.py:312)
[2026-01-15 13:19:49] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:49] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.0002760887145996094, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:49] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:49] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.0002760887145996094, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:49] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS deduct_game_coins status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:19:49] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:49] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:19:49] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475989 (jwt_manager.py:205)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475989 (jwt_manager.py:221)
[2026-01-15 13:19:49] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:19:49] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:19:49] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Deducting 25 coins for game room_1768479584144 from 4 player(s) (dutch_game_main.py:585)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 69627310feeb61f1231a10a9 (dutch_game_main.py:621)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 69627310feeb61f1231a10a9 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96f (dutch_game_main.py:621)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96f - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:19:49] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96e (dutch_game_main.py:621)
[2026-01-15 13:19:50] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96e - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:19:50] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96d (dutch_game_main.py:621)
[2026-01-15 13:19:50] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96d - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:19:50] - custom_log - INFO -  DutchGame: Successfully deducted coins for 4 player(s) (dutch_game_main.py:703)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.48931884765625, 'size': 166}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.48931884765625, 'size': 166} (metrics_collector.py:286)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector: Tracked request - POST deduct_game_coins status=200 duration=0.489s (metrics_collector.py:312)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:19:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73474 bytes (app.debug.py:127)
[2026-01-15 13:19:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:19:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 140.0 (app.debug.py:133)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.025156736373901367, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.025156736373901367, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.025s (metrics_collector.py:312)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0003998279571533203, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0003998279571533203, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:19:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:19:50] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:19:50] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768475990 (jwt_manager.py:205)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768475990 (jwt_manager.py:221)
[2026-01-15 13:19:50] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:19:50] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:19:50] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:19:51] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:19:51] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.102691650390625, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:19:51] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:19:51] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.102691650390625, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:19:51] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.103s (metrics_collector.py:312)
[2026-01-15 13:19:51] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:20:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:20:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:20:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:20:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:20:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:20:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:20:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:20:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:20:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:20:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:20:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:20:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73475 bytes (app.debug.py:127)
[2026-01-15 13:20:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:20:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 141.0 (app.debug.py:133)
[2026-01-15 13:20:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02160787582397461, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:20:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:20:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02160787582397461, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:20:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:20:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:20:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:20:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:20:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:20:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:20:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:20:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:20:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:20:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:20:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:20:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:20:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:20:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73473 bytes (app.debug.py:127)
[2026-01-15 13:20:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:20:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 142.0 (app.debug.py:133)
[2026-01-15 13:20:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.025934219360351562, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:20:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:20:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.025934219360351562, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:20:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.026s (metrics_collector.py:312)
[2026-01-15 13:20:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:20:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:20:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:20:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:20:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:20:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:20:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:20:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:20:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:20:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:20:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:20:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:20:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73474 bytes (app.debug.py:127)
[2026-01-15 13:20:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:20:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 143.0 (app.debug.py:133)
[2026-01-15 13:20:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021123170852661133, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:20:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:20:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021123170852661133, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:20:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:20:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:20:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:20:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:20:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:20:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:20:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:20:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:20:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:20:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:20:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:20:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:20:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:20:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73473 bytes (app.debug.py:127)
[2026-01-15 13:20:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:20:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 144.0 (app.debug.py:133)
[2026-01-15 13:20:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.042704105377197266, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:20:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:20:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.042704105377197266, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:20:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.043s (metrics_collector.py:312)
[2026-01-15 13:20:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:21:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:21:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:21:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:21:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:21:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:21:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:21:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:21:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:21:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:21:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:21:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:21:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73473 bytes (app.debug.py:127)
[2026-01-15 13:21:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:21:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 145.0 (app.debug.py:133)
[2026-01-15 13:21:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04430842399597168, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:21:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:21:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04430842399597168, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:21:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.044s (metrics_collector.py:312)
[2026-01-15 13:21:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:21:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:21:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:21:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:21:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:21:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:21:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:21:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:21:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:21:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:21:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:21:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:21:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73474 bytes (app.debug.py:127)
[2026-01-15 13:21:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:21:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 146.0 (app.debug.py:133)
[2026-01-15 13:21:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.07396697998046875, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:21:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:21:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.07396697998046875, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:21:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.074s (metrics_collector.py:312)
[2026-01-15 13:21:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:21:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:21:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:21:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:21:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:21:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:21:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:21:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:21:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:21:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:21:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:21:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:21:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73474 bytes (app.debug.py:127)
[2026-01-15 13:21:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:21:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 147.0 (app.debug.py:133)
[2026-01-15 13:21:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03595113754272461, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:21:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:21:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03595113754272461, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:21:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.036s (metrics_collector.py:312)
[2026-01-15 13:21:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:21:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:21:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:21:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:21:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:21:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:21:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:21:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:21:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:21:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:21:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:21:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:21:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73473 bytes (app.debug.py:127)
[2026-01-15 13:21:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:21:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 148.0 (app.debug.py:133)
[2026-01-15 13:21:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021122217178344727, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:21:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:21:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021122217178344727, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:21:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:21:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:22:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:22:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:22:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:22:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:22:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:22:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:22:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:22:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:22:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:22:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:22:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:22:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73473 bytes (app.debug.py:127)
[2026-01-15 13:22:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:22:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 149.0 (app.debug.py:133)
[2026-01-15 13:22:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03044915199279785, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:22:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:22:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03044915199279785, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:22:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.030s (metrics_collector.py:312)
[2026-01-15 13:22:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:22:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:22:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:22:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:22:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:22:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:22:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:22:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:22:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:22:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:22:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:22:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:22:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73474 bytes (app.debug.py:127)
[2026-01-15 13:22:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:22:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 150.0 (app.debug.py:133)
[2026-01-15 13:22:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.06164383888244629, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:22:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:22:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.06164383888244629, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:22:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.062s (metrics_collector.py:312)
[2026-01-15 13:22:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:22:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:22:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:22:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:22:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:22:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:22:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:22:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:22:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:22:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:22:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:22:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:22:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73473 bytes (app.debug.py:127)
[2026-01-15 13:22:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:22:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 151.0 (app.debug.py:133)
[2026-01-15 13:22:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.026510000228881836, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:22:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:22:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.026510000228881836, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:22:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.027s (metrics_collector.py:312)
[2026-01-15 13:22:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:22:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:22:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:22:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:22:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:22:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:22:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:22:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:22:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:22:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:22:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:22:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:22:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73473 bytes (app.debug.py:127)
[2026-01-15 13:22:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:22:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 152.0 (app.debug.py:133)
[2026-01-15 13:22:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.027647018432617188, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:22:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:22:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.027647018432617188, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:22:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.028s (metrics_collector.py:312)
[2026-01-15 13:22:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:23:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:23:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:23:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:23:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:23:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:23:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:23:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73473 bytes (app.debug.py:127)
[2026-01-15 13:23:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:23:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 153.0 (app.debug.py:133)
[2026-01-15 13:23:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04030299186706543, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04030299186706543, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.040s (metrics_collector.py:312)
[2026-01-15 13:23:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.0002601146697998047, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.0002601146697998047, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS health_check status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:12] - custom_log - INFO - Getting module status for user_management_module (module_manager.py:248)
[2026-01-15 13:23:12] - custom_log - INFO - Getting module status for stripe_module (module_manager.py:248)
[2026-01-15 13:23:12] - custom_log - INFO - Getting module status for system_actions_module (module_manager.py:248)
[2026-01-15 13:23:12] - custom_log - INFO - Getting module status for communications_module (module_manager.py:248)
[2026-01-15 13:23:12] - custom_log - INFO - Getting module status for dutch_game (module_manager.py:248)
[2026-01-15 13:23:12] - custom_log - INFO - Getting module status for analytics_module (module_manager.py:248)
[2026-01-15 13:23:12] - custom_log - INFO - Getting module status for wallet_module (module_manager.py:248)
[2026-01-15 13:23:12] - custom_log - INFO - Getting module status for transactions_module (module_manager.py:248)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.02606797218322754, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.02606797218322754, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector: Tracked request - GET health_check status=200 duration=0.026s (metrics_collector.py:312)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.000759124755859375, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.000759124755859375, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:12] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:23:12] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476192 (jwt_manager.py:205)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476192 (jwt_manager.py:221)
[2026-01-15 13:23:12] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:23:12] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:23:12] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.1031038761138916, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.1031038761138916, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.103s (metrics_collector.py:312)
[2026-01-15 13:23:12] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:12] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:23:12] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:23:12] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4MDQ4NSwiaWF0IjoxNzY4NDc2ODg1fQ.Ua0TOMAxZcl_G9OZGQwe2Vl5JiJ8bLKb60Svx61plP4'} (api_endpoints.py:27)
[2026-01-15 13:23:12] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:23:12] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:23:12] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:23:12] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4MDQ4NSwiaWF0IjoxNzY4NDc2ODg1fQ.Ua0TOMAxZcl_G9OZGQwe2Vl5JiJ8bLKb60Svx61plP4'} (api_endpoints.py:27)
[2026-01-15 13:23:12] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:23:12] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:23:12] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:23:12] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:23:12] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476192 (jwt_manager.py:205)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476192 (jwt_manager.py:205)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476192 (jwt_manager.py:221)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476192 (jwt_manager.py:221)
[2026-01-15 13:23:12] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:23:12] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:23:12] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:23:12] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:23:12] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:23:12] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:23:12] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:23:13] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:23:13] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.5988070964813232, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:13] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:13] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.5988070964813232, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:23:13] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.599s (metrics_collector.py:312)
[2026-01-15 13:23:13] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:13] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:23:13] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.599733829498291, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:13] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:13] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.599733829498291, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:23:13] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.600s (metrics_collector.py:312)
[2026-01-15 13:23:13] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:15] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0004973411560058594, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:15] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:15] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0004973411560058594, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:15] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS track_event status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:23:15] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:15] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:23:15] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476195 (jwt_manager.py:205)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476195 (jwt_manager.py:221)
[2026-01-15 13:23:15] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:23:15] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:23:15] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:23:15] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:23:15] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:23:15] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:23:15] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/lobby'} (analytics_service.py:93)
[2026-01-15 13:23:15] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:23:15] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:23:15] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:23:15] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10783004760742188, 'size': 142}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:15] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:15] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10783004760742188, 'size': 142} (metrics_collector.py:286)
[2026-01-15 13:23:15] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.108s (metrics_collector.py:312)
[2026-01-15 13:23:15] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:23:16] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:23:16] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476196 (jwt_manager.py:205)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476196 (jwt_manager.py:221)
[2026-01-15 13:23:16] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:23:16] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:23:16] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:23:16] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10547208786010742, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10547208786010742, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.105s (metrics_collector.py:312)
[2026-01-15 13:23:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:17] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:23:17] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476197 (jwt_manager.py:205)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476197 (jwt_manager.py:221)
[2026-01-15 13:23:17] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:23:17] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:23:17] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:23:17] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:23:17] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:23:17] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:23:17] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/game-play'} (analytics_service.py:93)
[2026-01-15 13:23:17] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:23:17] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:23:17] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:23:17] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.1079411506652832, 'size': 146}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:17] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:17] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.1079411506652832, 'size': 146} (metrics_collector.py:286)
[2026-01-15 13:23:17] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.108s (metrics_collector.py:312)
[2026-01-15 13:23:17] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:18] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0007817745208740234, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:18] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:18] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0007817745208740234, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:18] - custom_log - DEBUG - MetricsCollector: Tracked request - GET None status=404 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:23:18] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:23:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73612 bytes (app.debug.py:127)
[2026-01-15 13:23:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:23:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 154.0 (app.debug.py:133)
[2026-01-15 13:23:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03039097785949707, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03039097785949707, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.030s (metrics_collector.py:312)
[2026-01-15 13:23:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Received get-comp-players request (dutch_game_main.py:740)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Requesting 3 comp player(s) with rank filter: ['beginner', 'novice'] (dutch_game_main.py:772)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Filtering comp players by ranks: ['beginner', 'novice'] (dutch_game_main.py:795)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Querying database for comp players with query: {'is_comp_player': True, 'status': 'active', 'modules.dutch_game.rank': {'$in': ['beginner', 'novice']}} (dutch_game_main.py:797)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Found 5 comp player(s) in database (dutch_game_main.py:829)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Selected 3 comp player(s) randomly and shuffled (dutch_game_main.py:841)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Added comp player [1/3] - user_id: 6966b28e689c135500f1f96e, username: emmafox, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Added comp player [2/3] - user_id: 6966b28e689c135500f1f970, username: toastlord, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Added comp player [3/3] - user_id: 6966b28e689c135500f1f96d, username: sampickle, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Successfully retrieved 3 comp player(s) (dutch_game_main.py:871)
[2026-01-15 13:23:22] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.10708475112915039, 'size': 47}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:22] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:22] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.10708475112915039, 'size': 47} (metrics_collector.py:286)
[2026-01-15 13:23:22] - custom_log - DEBUG - MetricsCollector: Tracked request - POST get_comp_players status=200 duration=0.107s (metrics_collector.py:312)
[2026-01-15 13:23:22] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:22] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.000370025634765625, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:22] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:22] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.000370025634765625, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:22] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS deduct_game_coins status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:23:22] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:22] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:23:22] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476202 (jwt_manager.py:205)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476202 (jwt_manager.py:221)
[2026-01-15 13:23:22] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:23:22] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:23:22] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Deducting 25 coins for game room_1768479797102 from 4 player(s) (dutch_game_main.py:585)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 69627310feeb61f1231a10a9 (dutch_game_main.py:621)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 69627310feeb61f1231a10a9 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96e (dutch_game_main.py:621)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96e - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f970 (dutch_game_main.py:621)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f970 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:23:22] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96d (dutch_game_main.py:621)
[2026-01-15 13:23:23] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96d - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:23:23] - custom_log - INFO -  DutchGame: Successfully deducted coins for 4 player(s) (dutch_game_main.py:703)
[2026-01-15 13:23:23] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.418226957321167, 'size': 166}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:23] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:23] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.418226957321167, 'size': 166} (metrics_collector.py:286)
[2026-01-15 13:23:23] - custom_log - DEBUG - MetricsCollector: Tracked request - POST deduct_game_coins status=200 duration=0.418s (metrics_collector.py:312)
[2026-01-15 13:23:23] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:24] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0011267662048339844, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:24] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:24] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0011267662048339844, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:24] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:23:24] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:24] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:23:24] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476204 (jwt_manager.py:205)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476204 (jwt_manager.py:221)
[2026-01-15 13:23:24] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:23:24] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:23:24] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:23:24] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:23:24] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10292887687683105, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:24] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:24] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10292887687683105, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:24] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.103s (metrics_collector.py:312)
[2026-01-15 13:23:24] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:23:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:23:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:23:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:23:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:23:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:23:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:23:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73696 bytes (app.debug.py:127)
[2026-01-15 13:23:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:23:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 155.0 (app.debug.py:133)
[2026-01-15 13:23:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.019997119903564453, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.019997119903564453, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.020s (metrics_collector.py:312)
[2026-01-15 13:23:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:23:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:23:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:23:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:23:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:23:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:23:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:23:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:23:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73696 bytes (app.debug.py:127)
[2026-01-15 13:23:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:23:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 156.0 (app.debug.py:133)
[2026-01-15 13:23:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021605730056762695, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:23:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:23:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021605730056762695, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:23:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:23:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:24:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:24:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:24:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:24:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:24:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:24:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:24:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:24:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:24:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:24:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:24:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:24:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73696 bytes (app.debug.py:127)
[2026-01-15 13:24:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:24:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 157.0 (app.debug.py:133)
[2026-01-15 13:24:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.026082992553710938, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:24:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:24:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.026082992553710938, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:24:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.026s (metrics_collector.py:312)
[2026-01-15 13:24:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:24:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:24:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:24:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:24:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:24:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:24:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:24:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:24:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:24:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:24:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:24:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:24:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73695 bytes (app.debug.py:127)
[2026-01-15 13:24:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:24:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 158.0 (app.debug.py:133)
[2026-01-15 13:24:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03139495849609375, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:24:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:24:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03139495849609375, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:24:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.031s (metrics_collector.py:312)
[2026-01-15 13:24:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:24:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:24:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:24:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:24:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:24:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:24:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:24:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:24:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:24:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:24:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:24:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:24:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73696 bytes (app.debug.py:127)
[2026-01-15 13:24:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:24:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 159.0 (app.debug.py:133)
[2026-01-15 13:24:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.023919105529785156, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:24:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:24:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.023919105529785156, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:24:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.024s (metrics_collector.py:312)
[2026-01-15 13:24:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:24:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:24:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:24:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:24:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:24:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:24:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:24:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:24:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:24:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:24:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:24:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:24:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73697 bytes (app.debug.py:127)
[2026-01-15 13:24:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:24:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 160.0 (app.debug.py:133)
[2026-01-15 13:24:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02150416374206543, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:24:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:24:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02150416374206543, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:24:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:24:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:25:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:25:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:25:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:25:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:25:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:25:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:25:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:25:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73696 bytes (app.debug.py:127)
[2026-01-15 13:25:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:25:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 161.0 (app.debug.py:133)
[2026-01-15 13:25:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02167510986328125, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02167510986328125, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:25:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:25:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:25:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:25:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:25:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:25:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:25:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:25:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:25:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:25:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73696 bytes (app.debug.py:127)
[2026-01-15 13:25:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:25:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 162.0 (app.debug.py:133)
[2026-01-15 13:25:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.022213220596313477, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.022213220596313477, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:25:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:25:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:25:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:25:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:25:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:25:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:25:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:25:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:25:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:25:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73696 bytes (app.debug.py:127)
[2026-01-15 13:25:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:25:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 163.0 (app.debug.py:133)
[2026-01-15 13:25:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.0181272029876709, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.0181272029876709, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:25:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.018s (metrics_collector.py:312)
[2026-01-15 13:25:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:25:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:25:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:25:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:25:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:25:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:25:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:25:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:25:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73696 bytes (app.debug.py:127)
[2026-01-15 13:25:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:25:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 164.0 (app.debug.py:133)
[2026-01-15 13:25:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.025665998458862305, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.025665998458862305, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:25:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.026s (metrics_collector.py:312)
[2026-01-15 13:25:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.0003418922424316406, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.0003418922424316406, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS health_check status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:25:58] - custom_log - INFO - Getting module status for user_management_module (module_manager.py:248)
[2026-01-15 13:25:58] - custom_log - INFO - Getting module status for stripe_module (module_manager.py:248)
[2026-01-15 13:25:58] - custom_log - INFO - Getting module status for system_actions_module (module_manager.py:248)
[2026-01-15 13:25:58] - custom_log - INFO - Getting module status for communications_module (module_manager.py:248)
[2026-01-15 13:25:58] - custom_log - INFO - Getting module status for dutch_game (module_manager.py:248)
[2026-01-15 13:25:58] - custom_log - INFO - Getting module status for analytics_module (module_manager.py:248)
[2026-01-15 13:25:58] - custom_log - INFO - Getting module status for wallet_module (module_manager.py:248)
[2026-01-15 13:25:58] - custom_log - INFO - Getting module status for transactions_module (module_manager.py:248)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.012645959854125977, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.012645959854125977, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector: Tracked request - GET health_check status=200 duration=0.013s (metrics_collector.py:312)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.00045371055603027344, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.00045371055603027344, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:25:58] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:25:58] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476358 (jwt_manager.py:205)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476358 (jwt_manager.py:221)
[2026-01-15 13:25:58] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:25:58] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:25:58] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10555601119995117, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10555601119995117, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.106s (metrics_collector.py:312)
[2026-01-15 13:25:58] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:25:58] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:25:58] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:25:58] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4MDQ4NSwiaWF0IjoxNzY4NDc2ODg1fQ.Ua0TOMAxZcl_G9OZGQwe2Vl5JiJ8bLKb60Svx61plP4'} (api_endpoints.py:27)
[2026-01-15 13:25:58] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:25:58] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:25:58] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:25:58] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:25:58] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4MDQ4NSwiaWF0IjoxNzY4NDc2ODg1fQ.Ua0TOMAxZcl_G9OZGQwe2Vl5JiJ8bLKb60Svx61plP4'} (api_endpoints.py:27)
[2026-01-15 13:25:58] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:25:58] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:25:58] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:25:59] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:25:59] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476359 (jwt_manager.py:205)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476359 (jwt_manager.py:221)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:25:59] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476359 (jwt_manager.py:205)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476359 (jwt_manager.py:221)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:25:59] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:25:59] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:25:59] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:25:59] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:25:59] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:25:59] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:25:59] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:25:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.3931269645690918, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:59] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.3931269645690918, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:25:59] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.393s (metrics_collector.py:312)
[2026-01-15 13:25:59] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:25:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:25:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.2740011215209961, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:25:59] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:25:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.2740011215209961, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:25:59] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.274s (metrics_collector.py:312)
[2026-01-15 13:25:59] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:26:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:26:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:26:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:26:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:26:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:26:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:26:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:26:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:26:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:26:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:26:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:26:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73701 bytes (app.debug.py:127)
[2026-01-15 13:26:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:26:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 165.0 (app.debug.py:133)
[2026-01-15 13:26:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.022871732711791992, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:26:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:26:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.022871732711791992, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:26:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.023s (metrics_collector.py:312)
[2026-01-15 13:26:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:26:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:26:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:26:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:26:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:26:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:26:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:26:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:26:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:26:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:26:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:26:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:26:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73700 bytes (app.debug.py:127)
[2026-01-15 13:26:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:26:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 166.0 (app.debug.py:133)
[2026-01-15 13:26:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021627187728881836, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:26:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:26:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021627187728881836, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:26:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:26:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:26:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:26:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:26:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:26:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:26:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:26:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:26:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:26:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:26:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:26:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:26:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:26:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73701 bytes (app.debug.py:127)
[2026-01-15 13:26:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:26:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 167.0 (app.debug.py:133)
[2026-01-15 13:26:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021890878677368164, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:26:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:26:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021890878677368164, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:26:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:26:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:26:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:26:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:26:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:26:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:26:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:26:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:26:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:26:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:26:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:26:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:26:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:26:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73700 bytes (app.debug.py:127)
[2026-01-15 13:26:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:26:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 168.0 (app.debug.py:133)
[2026-01-15 13:26:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.022211074829101562, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:26:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:26:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.022211074829101562, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:26:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:26:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:27:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:27:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:27:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:27:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:27:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:27:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:27:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:27:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:27:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:27:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:27:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:27:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73702 bytes (app.debug.py:127)
[2026-01-15 13:27:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:27:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 169.0 (app.debug.py:133)
[2026-01-15 13:27:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021483898162841797, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:27:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:27:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021483898162841797, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:27:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:27:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:27:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:27:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:27:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:27:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:27:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:27:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:27:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:27:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:27:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:27:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:27:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:27:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73702 bytes (app.debug.py:127)
[2026-01-15 13:27:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:27:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 170.0 (app.debug.py:133)
[2026-01-15 13:27:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021867752075195312, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:27:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:27:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021867752075195312, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:27:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:27:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:27:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:27:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:27:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:27:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:27:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:27:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:27:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:27:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:27:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:27:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:27:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:27:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73701 bytes (app.debug.py:127)
[2026-01-15 13:27:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:27:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 171.0 (app.debug.py:133)
[2026-01-15 13:27:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021054983139038086, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:27:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:27:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021054983139038086, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:27:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:27:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:27:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:27:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:27:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:27:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:27:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:27:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:27:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:27:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:27:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:27:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:27:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:27:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73702 bytes (app.debug.py:127)
[2026-01-15 13:27:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:27:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 172.0 (app.debug.py:133)
[2026-01-15 13:27:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021496295928955078, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:27:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:27:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021496295928955078, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:27:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:27:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:28:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:28:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:28:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:28:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:28:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:28:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:28:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:28:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:28:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:28:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:28:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:28:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73702 bytes (app.debug.py:127)
[2026-01-15 13:28:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:28:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 173.0 (app.debug.py:133)
[2026-01-15 13:28:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.01878190040588379, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:28:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:28:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.01878190040588379, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:28:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.019s (metrics_collector.py:312)
[2026-01-15 13:28:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:28:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:28:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:28:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:28:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:28:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:28:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:28:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:28:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:28:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:28:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:28:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:28:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73703 bytes (app.debug.py:127)
[2026-01-15 13:28:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:28:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 174.0 (app.debug.py:133)
[2026-01-15 13:28:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.020769119262695312, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:28:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:28:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.020769119262695312, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:28:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:28:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:28:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:28:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:28:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:28:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:28:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:28:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:28:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:28:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:28:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:28:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:28:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:28:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73702 bytes (app.debug.py:127)
[2026-01-15 13:28:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:28:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 175.0 (app.debug.py:133)
[2026-01-15 13:28:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02145099639892578, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:28:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:28:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02145099639892578, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:28:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:28:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:28:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:28:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:28:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:28:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:28:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:28:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:28:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:28:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:28:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:28:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:28:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:28:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73702 bytes (app.debug.py:127)
[2026-01-15 13:28:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:28:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 176.0 (app.debug.py:133)
[2026-01-15 13:28:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021924972534179688, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:28:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:28:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021924972534179688, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:28:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:28:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:29:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:29:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:29:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:29:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:29:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:29:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:29:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:29:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:29:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:29:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:29:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:29:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73702 bytes (app.debug.py:127)
[2026-01-15 13:29:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:29:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 177.0 (app.debug.py:133)
[2026-01-15 13:29:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021419048309326172, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:29:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:29:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021419048309326172, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:29:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:29:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:29:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:29:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:29:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:29:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:29:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:29:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:29:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:29:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:29:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:29:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:29:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:29:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73703 bytes (app.debug.py:127)
[2026-01-15 13:29:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:29:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 178.0 (app.debug.py:133)
[2026-01-15 13:29:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02144312858581543, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:29:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:29:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02144312858581543, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:29:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:29:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:29:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:29:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:29:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:29:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:29:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:29:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:29:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:29:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:29:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:29:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:29:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:29:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73702 bytes (app.debug.py:127)
[2026-01-15 13:29:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:29:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 179.0 (app.debug.py:133)
[2026-01-15 13:29:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021503925323486328, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:29:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:29:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021503925323486328, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:29:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:29:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:29:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:29:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:29:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:29:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:29:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:29:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:29:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:29:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:29:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:29:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:29:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:29:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73701 bytes (app.debug.py:127)
[2026-01-15 13:29:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:29:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 180.0 (app.debug.py:133)
[2026-01-15 13:29:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.017270803451538086, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:29:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:29:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.017270803451538086, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:29:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.017s (metrics_collector.py:312)
[2026-01-15 13:29:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:30:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:30:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:30:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:30:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:30:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:30:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:30:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:30:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:30:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:30:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:30:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:30:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73702 bytes (app.debug.py:127)
[2026-01-15 13:30:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:30:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 181.0 (app.debug.py:133)
[2026-01-15 13:30:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.01789116859436035, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:30:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:30:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.01789116859436035, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:30:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.018s (metrics_collector.py:312)
[2026-01-15 13:30:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:30:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:30:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:30:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:30:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:30:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:30:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:30:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:30:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:30:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:30:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:30:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:30:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73703 bytes (app.debug.py:127)
[2026-01-15 13:30:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:30:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 182.0 (app.debug.py:133)
[2026-01-15 13:30:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.017330169677734375, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:30:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:30:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.017330169677734375, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:30:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.017s (metrics_collector.py:312)
[2026-01-15 13:30:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:30:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:30:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:30:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:30:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:30:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:30:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:30:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:30:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:30:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:30:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:30:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:30:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73703 bytes (app.debug.py:127)
[2026-01-15 13:30:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:30:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 183.0 (app.debug.py:133)
[2026-01-15 13:30:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.12641501426696777, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:30:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:30:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.12641501426696777, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:30:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.126s (metrics_collector.py:312)
[2026-01-15 13:30:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:30:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:30:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:30:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:30:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:30:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:30:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:30:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:30:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:30:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:30:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:30:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:30:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73703 bytes (app.debug.py:127)
[2026-01-15 13:30:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:30:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 184.0 (app.debug.py:133)
[2026-01-15 13:30:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02145695686340332, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:30:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:30:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02145695686340332, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:30:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:30:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:31:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:31:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:31:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:31:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:31:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:31:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:31:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73703 bytes (app.debug.py:127)
[2026-01-15 13:31:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:31:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 185.0 (app.debug.py:133)
[2026-01-15 13:31:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02158212661743164, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02158212661743164, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:31:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:31:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:31:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:31:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:31:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:31:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:31:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:31:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:31:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73702 bytes (app.debug.py:127)
[2026-01-15 13:31:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:31:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 186.0 (app.debug.py:133)
[2026-01-15 13:31:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.017149925231933594, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.017149925231933594, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:31:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.017s (metrics_collector.py:312)
[2026-01-15 13:31:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:31:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:31:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:31:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:31:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:31:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0003452301025390625, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0003452301025390625, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS track_event status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:35] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:31:35] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:31:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:31:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73704 bytes (app.debug.py:127)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:31:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:31:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 187.0 (app.debug.py:133)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03348207473754883, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03348207473754883, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.033s (metrics_collector.py:312)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476695 (jwt_manager.py:205)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476695 (jwt_manager.py:221)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: Token issued at valid time (jwt_manager.py:227)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:31:35] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:31:35] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:31:35] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:31:35] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:31:35] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:31:35] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/lobby'} (analytics_service.py:93)
[2026-01-15 13:31:35] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:31:35] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:31:35] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10575103759765625, 'size': 142}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10575103759765625, 'size': 142} (metrics_collector.py:286)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.106s (metrics_collector.py:312)
[2026-01-15 13:31:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0003039836883544922, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:38] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0003039836883544922, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:31:38] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:31:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:38] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:31:38] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476698 (jwt_manager.py:205)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476698 (jwt_manager.py:221)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Token issued at valid time (jwt_manager.py:227)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:31:38] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:31:38] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:31:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10393810272216797, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:38] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10393810272216797, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:31:38] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.104s (metrics_collector.py:312)
[2026-01-15 13:31:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:38] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:31:38] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476698 (jwt_manager.py:205)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476698 (jwt_manager.py:221)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Token issued at valid time (jwt_manager.py:227)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:31:38] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:31:38] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:31:38] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:31:39] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:31:39] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:31:39] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/game-play'} (analytics_service.py:93)
[2026-01-15 13:31:39] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:31:39] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:31:39] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:31:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10480189323425293, 'size': 146}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:39] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10480189323425293, 'size': 146} (metrics_collector.py:286)
[2026-01-15 13:31:39] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.105s (metrics_collector.py:312)
[2026-01-15 13:31:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0010678768157958984, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:39] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0010678768157958984, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:31:39] - custom_log - DEBUG - MetricsCollector: Tracked request - GET None status=404 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:31:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:43] - custom_log - INFO -  DutchGame: Received get-comp-players request (dutch_game_main.py:740)
[2026-01-15 13:31:43] - custom_log - INFO -  DutchGame: Requesting 3 comp player(s) with rank filter: ['beginner', 'novice'] (dutch_game_main.py:772)
[2026-01-15 13:31:43] - custom_log - INFO -  DutchGame: Filtering comp players by ranks: ['beginner', 'novice'] (dutch_game_main.py:795)
[2026-01-15 13:31:43] - custom_log - INFO -  DutchGame: Querying database for comp players with query: {'is_comp_player': True, 'status': 'active', 'modules.dutch_game.rank': {'$in': ['beginner', 'novice']}} (dutch_game_main.py:797)
[2026-01-15 13:31:43] - custom_log - INFO -  DutchGame: Found 5 comp player(s) in database (dutch_game_main.py:829)
[2026-01-15 13:31:43] - custom_log - INFO -  DutchGame: Selected 3 comp player(s) randomly and shuffled (dutch_game_main.py:841)
[2026-01-15 13:31:43] - custom_log - INFO -  DutchGame: Added comp player [1/3] - user_id: 6966b28e689c135500f1f96d, username: sampickle, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:31:43] - custom_log - INFO -  DutchGame: Added comp player [2/3] - user_id: 6966b28e689c135500f1f96e, username: emmafox, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:31:43] - custom_log - INFO -  DutchGame: Added comp player [3/3] - user_id: 6966b28e689c135500f1f971, username: ben.leo6, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:31:43] - custom_log - INFO -  DutchGame: Successfully retrieved 3 comp player(s) (dutch_game_main.py:871)
[2026-01-15 13:31:43] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.10796403884887695, 'size': 47}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:43] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:43] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.10796403884887695, 'size': 47} (metrics_collector.py:286)
[2026-01-15 13:31:43] - custom_log - DEBUG - MetricsCollector: Tracked request - POST get_comp_players status=200 duration=0.108s (metrics_collector.py:312)
[2026-01-15 13:31:43] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.0008988380432128906, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:44] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.0008988380432128906, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:31:44] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS deduct_game_coins status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:31:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:44] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:31:44] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476704 (jwt_manager.py:205)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476704 (jwt_manager.py:221)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: Token issued at valid time (jwt_manager.py:227)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:31:44] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:31:44] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:31:44] - custom_log - INFO -  DutchGame: Deducting 25 coins for game room_1768480298558 from 4 player(s) (dutch_game_main.py:585)
[2026-01-15 13:31:44] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 69627310feeb61f1231a10a9 (dutch_game_main.py:621)
[2026-01-15 13:31:44] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 69627310feeb61f1231a10a9 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:31:44] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96d (dutch_game_main.py:621)
[2026-01-15 13:31:44] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96d - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:31:44] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96e (dutch_game_main.py:621)
[2026-01-15 13:31:44] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96e - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:31:44] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f971 (dutch_game_main.py:621)
[2026-01-15 13:31:44] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f971 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:31:44] - custom_log - INFO -  DutchGame: Successfully deducted coins for 4 player(s) (dutch_game_main.py:703)
[2026-01-15 13:31:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.4147520065307617, 'size': 166}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:44] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.4147520065307617, 'size': 166} (metrics_collector.py:286)
[2026-01-15 13:31:44] - custom_log - DEBUG - MetricsCollector: Tracked request - POST deduct_game_coins status=200 duration=0.415s (metrics_collector.py:312)
[2026-01-15 13:31:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:45] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0003147125244140625, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:45] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:45] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0003147125244140625, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:31:45] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:31:45] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:45] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:31:45] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768480485, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768480485 (jwt_manager.py:197)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768480485, current: 1768476705 (jwt_manager.py:205)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768476705 (jwt_manager.py:221)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: Token issued at valid time (jwt_manager.py:227)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:31:45] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:31:45] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:31:45] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:31:45] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10637807846069336, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:45] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:45] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10637807846069336, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:31:45] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.106s (metrics_collector.py:312)
[2026-01-15 13:31:45] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:31:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:31:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:31:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:31:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:31:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:31:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:31:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:31:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:31:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:31:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 188.0 (app.debug.py:133)
[2026-01-15 13:31:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.018011808395385742, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:31:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:31:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.018011808395385742, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:31:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.018s (metrics_collector.py:312)
[2026-01-15 13:31:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:32:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:32:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:32:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:32:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:32:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:32:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:32:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:32:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:32:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:32:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:32:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:32:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:32:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:32:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 189.0 (app.debug.py:133)
[2026-01-15 13:32:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04352593421936035, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:32:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:32:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04352593421936035, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:32:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.044s (metrics_collector.py:312)
[2026-01-15 13:32:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:32:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:32:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:32:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:32:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:32:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:32:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:32:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:32:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:32:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:32:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:32:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:32:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:32:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:32:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 190.0 (app.debug.py:133)
[2026-01-15 13:32:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.024204015731811523, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:32:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:32:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.024204015731811523, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:32:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.024s (metrics_collector.py:312)
[2026-01-15 13:32:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:32:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:32:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:32:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:32:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:32:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:32:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:32:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:32:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:32:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:32:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:32:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:32:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73703 bytes (app.debug.py:127)
[2026-01-15 13:32:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:32:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 191.0 (app.debug.py:133)
[2026-01-15 13:32:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.16662001609802246, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:32:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:32:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.16662001609802246, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:32:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.167s (metrics_collector.py:312)
[2026-01-15 13:32:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:32:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:32:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:32:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:32:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:32:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:32:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:32:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:32:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:32:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:32:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:32:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:32:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:32:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:32:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 192.0 (app.debug.py:133)
[2026-01-15 13:32:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.019165992736816406, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:32:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:32:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.019165992736816406, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:32:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.019s (metrics_collector.py:312)
[2026-01-15 13:32:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:33:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:33:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:33:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:33:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:33:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:33:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:33:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:33:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:33:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:33:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:33:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:33:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:33:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:33:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 193.0 (app.debug.py:133)
[2026-01-15 13:33:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.018029212951660156, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:33:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:33:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.018029212951660156, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:33:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.018s (metrics_collector.py:312)
[2026-01-15 13:33:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:33:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:33:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:33:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:33:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:33:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:33:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:33:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:33:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:33:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:33:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:33:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:33:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:33:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:33:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 194.0 (app.debug.py:133)
[2026-01-15 13:33:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.01770806312561035, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:33:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:33:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.01770806312561035, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:33:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.018s (metrics_collector.py:312)
[2026-01-15 13:33:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:33:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:33:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:33:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:33:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:33:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:33:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:33:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:33:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:33:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:33:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:33:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:33:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:33:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:33:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 195.0 (app.debug.py:133)
[2026-01-15 13:33:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021265268325805664, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:33:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:33:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021265268325805664, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:33:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:33:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:33:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:33:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:33:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:33:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:33:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:33:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:33:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:33:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:33:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:33:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:33:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:33:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:33:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:33:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 196.0 (app.debug.py:133)
[2026-01-15 13:33:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021268844604492188, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:33:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:33:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021268844604492188, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:33:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:33:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:34:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:34:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:34:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:34:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:34:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:34:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:34:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:34:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:34:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:34:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:34:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:34:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73705 bytes (app.debug.py:127)
[2026-01-15 13:34:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:34:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 197.0 (app.debug.py:133)
[2026-01-15 13:34:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02133011817932129, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:34:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:34:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02133011817932129, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:34:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:34:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:34:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:34:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:34:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:34:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:34:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:34:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:34:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:34:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:34:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:34:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:34:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:34:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:34:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:34:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 198.0 (app.debug.py:133)
[2026-01-15 13:34:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02105712890625, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:34:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:34:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02105712890625, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:34:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:34:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:34:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:34:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:34:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:34:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:34:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:34:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:34:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:34:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:34:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:34:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:34:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:34:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:34:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:34:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 199.0 (app.debug.py:133)
[2026-01-15 13:34:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021311044692993164, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:34:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:34:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021311044692993164, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:34:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:34:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:34:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:34:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:34:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:34:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:34:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:34:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:34:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:34:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:34:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:34:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:34:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:34:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:34:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:34:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 200.0 (app.debug.py:133)
[2026-01-15 13:34:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021004915237426758, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:34:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:34:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021004915237426758, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:34:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:34:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:35:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:35:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:35:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:35:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:35:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:35:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:35:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:35:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:35:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:35:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:35:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:35:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:35:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:35:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 201.0 (app.debug.py:133)
[2026-01-15 13:35:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.017192840576171875, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:35:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:35:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.017192840576171875, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:35:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.017s (metrics_collector.py:312)
[2026-01-15 13:35:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:35:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:35:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:35:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:35:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:35:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:35:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:35:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:35:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:35:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:35:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:35:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:35:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73705 bytes (app.debug.py:127)
[2026-01-15 13:35:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:35:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 202.0 (app.debug.py:133)
[2026-01-15 13:35:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021132707595825195, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:35:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:35:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021132707595825195, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:35:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:35:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:35:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:35:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:35:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:35:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:35:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:35:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:35:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:35:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:35:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:35:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:35:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:35:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:35:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:35:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 203.0 (app.debug.py:133)
[2026-01-15 13:35:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.020543813705444336, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:35:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:35:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.020543813705444336, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:35:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:35:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:35:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:35:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:35:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:35:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:35:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:35:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:35:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:35:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:35:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:35:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:35:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:35:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73705 bytes (app.debug.py:127)
[2026-01-15 13:35:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:35:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 204.0 (app.debug.py:133)
[2026-01-15 13:35:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02122020721435547, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:35:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:35:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02122020721435547, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:35:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:35:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:36:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:36:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:36:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:36:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:36:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:36:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:36:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:36:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:36:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:36:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:36:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:36:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:36:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:36:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 205.0 (app.debug.py:133)
[2026-01-15 13:36:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021497249603271484, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:36:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:36:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021497249603271484, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:36:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:36:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:36:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:36:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:36:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:36:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:36:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:36:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:36:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:36:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:36:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:36:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:36:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:36:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:36:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:36:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 206.0 (app.debug.py:133)
[2026-01-15 13:36:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.020985126495361328, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:36:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:36:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.020985126495361328, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:36:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:36:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:36:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:36:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:36:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:36:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:36:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:36:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:36:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:36:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:36:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:36:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:36:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:36:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:36:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:36:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 207.0 (app.debug.py:133)
[2026-01-15 13:36:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02155900001525879, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:36:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:36:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02155900001525879, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:36:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:36:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:36:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:36:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:36:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:36:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:36:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:36:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:36:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:36:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:36:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:36:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:36:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:36:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:36:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:36:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 208.0 (app.debug.py:133)
[2026-01-15 13:36:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021371126174926758, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:36:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:36:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021371126174926758, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:36:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:36:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:37:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:37:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:37:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:37:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:37:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:37:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:37:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:37:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:37:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:37:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:37:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:37:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:37:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:37:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 209.0 (app.debug.py:133)
[2026-01-15 13:37:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.01727008819580078, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:37:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:37:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.01727008819580078, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:37:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.017s (metrics_collector.py:312)
[2026-01-15 13:37:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:37:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:37:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:37:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:37:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:37:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:37:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:37:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:37:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:37:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:37:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:37:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:37:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:37:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:37:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 210.0 (app.debug.py:133)
[2026-01-15 13:37:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.017721891403198242, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:37:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:37:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.017721891403198242, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:37:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.018s (metrics_collector.py:312)
[2026-01-15 13:37:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:37:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:37:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:37:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:37:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:37:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:37:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:37:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:37:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:37:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:37:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:37:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:37:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:37:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:37:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 211.0 (app.debug.py:133)
[2026-01-15 13:37:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.09668111801147461, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:37:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:37:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.09668111801147461, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:37:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.097s (metrics_collector.py:312)
[2026-01-15 13:37:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:37:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:37:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:37:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:37:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:37:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:37:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:37:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:37:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:37:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:37:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:37:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:37:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:37:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:37:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 212.0 (app.debug.py:133)
[2026-01-15 13:37:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.07511401176452637, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:37:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:37:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.07511401176452637, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:37:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.075s (metrics_collector.py:312)
[2026-01-15 13:37:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:38:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:38:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:38:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:38:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:38:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:38:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:38:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:38:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:38:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:38:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:38:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:38:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:38:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:38:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 213.0 (app.debug.py:133)
[2026-01-15 13:38:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02158188819885254, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:38:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:38:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02158188819885254, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:38:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:38:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:38:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:38:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:38:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:38:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:38:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:38:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:38:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:38:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:38:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:38:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:38:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:38:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:38:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:38:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 214.0 (app.debug.py:133)
[2026-01-15 13:38:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02080512046813965, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:38:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:38:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02080512046813965, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:38:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:38:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:38:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:38:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:38:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:38:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:38:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:38:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:38:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:38:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:38:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:38:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:38:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:38:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:38:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:38:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 215.0 (app.debug.py:133)
[2026-01-15 13:38:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.019695758819580078, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:38:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:38:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.019695758819580078, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:38:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.020s (metrics_collector.py:312)
[2026-01-15 13:38:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:38:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:38:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:38:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:38:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:38:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:38:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:38:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:38:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:38:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:38:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:38:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:38:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:38:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:38:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 216.0 (app.debug.py:133)
[2026-01-15 13:38:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.035639047622680664, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:38:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:38:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.035639047622680664, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:38:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.036s (metrics_collector.py:312)
[2026-01-15 13:38:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:39:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:39:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:39:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:39:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:39:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:39:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:39:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:39:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:39:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:39:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:39:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:39:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:39:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:39:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 217.0 (app.debug.py:133)
[2026-01-15 13:39:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04511213302612305, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:39:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:39:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04511213302612305, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:39:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.045s (metrics_collector.py:312)
[2026-01-15 13:39:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:39:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:39:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:39:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:39:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:39:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:39:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:39:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:39:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:39:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:39:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:39:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:39:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:39:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:39:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 218.0 (app.debug.py:133)
[2026-01-15 13:39:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02437615394592285, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:39:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:39:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02437615394592285, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:39:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.024s (metrics_collector.py:312)
[2026-01-15 13:39:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:39:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:39:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:39:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:39:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:39:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:39:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:39:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:39:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:39:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:39:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:39:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:39:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:39:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:39:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 219.0 (app.debug.py:133)
[2026-01-15 13:39:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.023502111434936523, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:39:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:39:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.023502111434936523, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:39:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.024s (metrics_collector.py:312)
[2026-01-15 13:39:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:39:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:39:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:39:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:39:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:39:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:39:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:39:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:39:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:39:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:39:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:39:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:39:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:39:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:39:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 220.0 (app.debug.py:133)
[2026-01-15 13:39:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.023669004440307617, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:39:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:39:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.023669004440307617, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:39:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.024s (metrics_collector.py:312)
[2026-01-15 13:39:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:40:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:40:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:40:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:40:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:40:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:40:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:40:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:40:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:40:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:40:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:40:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:40:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:40:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:40:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 221.0 (app.debug.py:133)
[2026-01-15 13:40:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02196502685546875, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:40:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:40:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02196502685546875, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:40:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:40:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:40:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:40:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:40:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:40:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:40:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:40:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:40:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:40:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:40:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:40:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:40:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:40:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:40:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:40:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 222.0 (app.debug.py:133)
[2026-01-15 13:40:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02201223373413086, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:40:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:40:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02201223373413086, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:40:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:40:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:40:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:40:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:40:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:40:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:40:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:40:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:40:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:40:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:40:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:40:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:40:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:40:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:40:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:40:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 223.0 (app.debug.py:133)
[2026-01-15 13:40:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02956986427307129, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:40:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:40:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02956986427307129, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:40:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.030s (metrics_collector.py:312)
[2026-01-15 13:40:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:40:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:40:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:40:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:40:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:40:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:40:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:40:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:40:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:40:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:40:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:40:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:40:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:40:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:40:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 224.0 (app.debug.py:133)
[2026-01-15 13:40:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021431684494018555, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:40:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:40:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021431684494018555, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:40:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:40:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:41:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:41:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:41:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:41:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:41:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:41:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:41:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:41:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:41:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:41:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:41:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:41:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:41:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:41:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 225.0 (app.debug.py:133)
[2026-01-15 13:41:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.030586957931518555, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:41:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:41:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.030586957931518555, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:41:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.031s (metrics_collector.py:312)
[2026-01-15 13:41:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:41:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:41:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:41:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:41:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:41:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:41:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:41:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:41:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:41:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:41:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:41:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:41:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:41:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:41:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 226.0 (app.debug.py:133)
[2026-01-15 13:41:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.027465105056762695, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:41:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:41:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.027465105056762695, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:41:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.027s (metrics_collector.py:312)
[2026-01-15 13:41:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:41:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:41:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:41:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:41:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:41:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:41:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:41:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:41:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:41:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:41:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:41:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:41:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:41:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:41:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 227.0 (app.debug.py:133)
[2026-01-15 13:41:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021903038024902344, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:41:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:41:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021903038024902344, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:41:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:41:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:41:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:41:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:41:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:41:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:41:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:41:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:41:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:41:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:41:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:41:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:41:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:41:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:41:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:41:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 228.0 (app.debug.py:133)
[2026-01-15 13:41:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021834135055541992, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:41:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:41:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.021834135055541992, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:41:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:41:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:42:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:42:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:42:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:42:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:42:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:42:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:42:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:42:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:42:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:42:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:42:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:42:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:42:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:42:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 229.0 (app.debug.py:133)
[2026-01-15 13:42:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02282094955444336, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:42:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:42:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02282094955444336, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:42:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.023s (metrics_collector.py:312)
[2026-01-15 13:42:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:42:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:42:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:42:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:42:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:42:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:42:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:42:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:42:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:42:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:42:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:42:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:42:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:42:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:42:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 230.0 (app.debug.py:133)
[2026-01-15 13:42:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02505803108215332, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:42:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:42:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02505803108215332, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:42:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.025s (metrics_collector.py:312)
[2026-01-15 13:42:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:42:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:42:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:42:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:42:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:42:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:42:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:42:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:42:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:42:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:42:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:42:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:42:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:42:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:42:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 231.0 (app.debug.py:133)
[2026-01-15 13:42:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02547621726989746, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:42:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:42:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02547621726989746, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:42:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.025s (metrics_collector.py:312)
[2026-01-15 13:42:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:42:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:42:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:42:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:42:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:42:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:42:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:42:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:42:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:42:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:42:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:42:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:42:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73705 bytes (app.debug.py:127)
[2026-01-15 13:42:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:42:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 232.0 (app.debug.py:133)
[2026-01-15 13:42:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.027483224868774414, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:42:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:42:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.027483224868774414, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:42:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.027s (metrics_collector.py:312)
[2026-01-15 13:42:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:43:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:43:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:43:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:43:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:43:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:43:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:43:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:43:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:43:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:43:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:43:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:43:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73705 bytes (app.debug.py:127)
[2026-01-15 13:43:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:43:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 233.0 (app.debug.py:133)
[2026-01-15 13:43:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02681589126586914, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:43:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:43:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02681589126586914, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:43:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.027s (metrics_collector.py:312)
[2026-01-15 13:43:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:43:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:43:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:43:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:43:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:43:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:43:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:43:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:43:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:43:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:43:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:43:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:43:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:43:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:43:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 234.0 (app.debug.py:133)
[2026-01-15 13:43:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.024775028228759766, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:43:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:43:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.024775028228759766, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:43:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.025s (metrics_collector.py:312)
[2026-01-15 13:43:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:43:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:43:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:43:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:43:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:43:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:43:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:43:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:43:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:43:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:43:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:43:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:43:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:43:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:43:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 235.0 (app.debug.py:133)
[2026-01-15 13:43:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.024766921997070312, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:43:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:43:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.024766921997070312, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:43:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.025s (metrics_collector.py:312)
[2026-01-15 13:43:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:43:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:43:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:43:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:43:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:43:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:43:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:43:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:43:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:43:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:43:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:43:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:43:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:43:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:43:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 236.0 (app.debug.py:133)
[2026-01-15 13:43:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.023019075393676758, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:43:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:43:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.023019075393676758, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:43:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.023s (metrics_collector.py:312)
[2026-01-15 13:43:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:44:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:44:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:44:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:44:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:44:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:44:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:44:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:44:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:44:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:44:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:44:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:44:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:44:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:44:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 237.0 (app.debug.py:133)
[2026-01-15 13:44:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.024312257766723633, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:44:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:44:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.024312257766723633, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:44:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.024s (metrics_collector.py:312)
[2026-01-15 13:44:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:44:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:44:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:44:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:44:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:44:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:44:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:44:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:44:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:44:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:44:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:44:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:44:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73705 bytes (app.debug.py:127)
[2026-01-15 13:44:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:44:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 238.0 (app.debug.py:133)
[2026-01-15 13:44:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02550673484802246, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:44:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:44:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02550673484802246, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:44:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.026s (metrics_collector.py:312)
[2026-01-15 13:44:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:44:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:44:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:44:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:44:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:44:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:44:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:44:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:44:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:44:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:44:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:44:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:44:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:44:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:44:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 239.0 (app.debug.py:133)
[2026-01-15 13:44:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.025933027267456055, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:44:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:44:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.025933027267456055, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:44:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.026s (metrics_collector.py:312)
[2026-01-15 13:44:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:44:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:44:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:44:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:44:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:44:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:44:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:44:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:44:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:44:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:44:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:44:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:44:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:44:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:44:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 240.0 (app.debug.py:133)
[2026-01-15 13:44:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.032646894454956055, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:44:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:44:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.032646894454956055, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:44:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.033s (metrics_collector.py:312)
[2026-01-15 13:44:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:45:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:45:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:45:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:45:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:45:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:45:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:45:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:45:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:45:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:45:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:45:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:45:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:45:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:45:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 241.0 (app.debug.py:133)
[2026-01-15 13:45:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04247760772705078, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:45:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:45:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04247760772705078, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:45:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.042s (metrics_collector.py:312)
[2026-01-15 13:45:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:45:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:45:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:45:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:45:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:45:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:45:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:45:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:45:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:45:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:45:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:45:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:45:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73705 bytes (app.debug.py:127)
[2026-01-15 13:45:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:45:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 242.0 (app.debug.py:133)
[2026-01-15 13:45:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02566695213317871, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:45:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:45:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02566695213317871, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:45:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.026s (metrics_collector.py:312)
[2026-01-15 13:45:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:45:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:45:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:45:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:45:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:45:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:45:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:45:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:45:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:45:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:45:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:45:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:45:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73707 bytes (app.debug.py:127)
[2026-01-15 13:45:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:45:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 243.0 (app.debug.py:133)
[2026-01-15 13:45:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03153204917907715, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:45:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:45:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03153204917907715, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:45:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.032s (metrics_collector.py:312)
[2026-01-15 13:45:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:45:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:45:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:45:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:45:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:45:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:45:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:45:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:45:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:45:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:45:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:45:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:45:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:45:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:45:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 244.0 (app.debug.py:133)
[2026-01-15 13:45:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03406405448913574, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:45:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:45:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03406405448913574, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:45:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.034s (metrics_collector.py:312)
[2026-01-15 13:45:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:46:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:46:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:46:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:46:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:46:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:46:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:46:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=73706 bytes (app.debug.py:127)
[2026-01-15 13:46:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=12 lines (app.debug.py:128)
[2026-01-15 13:46:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 245.0 (app.debug.py:133)
[2026-01-15 13:46:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.10228896141052246, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.10228896141052246, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.102s (metrics_collector.py:312)
[2026-01-15 13:46:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:15] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'refresh_token', 'status': 200, 'duration': 0.0007350444793701172, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:15] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:15] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'refresh_token', 'status': 200, 'duration': 0.0007350444793701172, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:15] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS refresh_token status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:46:15] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:15] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT: Expected type: TokenType.REFRESH (jwt_manager.py:100)
[2026-01-15 13:46:15] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Revoke: Token type: refresh (jwt_manager.py:396)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT: Checking token type - expected: refresh, actual: refresh (jwt_manager.py:145)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'type': 'refresh', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1769081685, 'iat': 1768476885} (jwt_manager.py:186)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1769081685 (jwt_manager.py:197)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768476885 (jwt_manager.py:197)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: Found required claim: type = refresh (jwt_manager.py:197)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1769081685, current: 1768477575 (jwt_manager.py:205)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768476885, current: 1768477575 (jwt_manager.py:221)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: Token issued at valid time (jwt_manager.py:227)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Custom: No username in payload (jwt_manager.py:295)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:46:15] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:46:15] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:46:16] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:46:16] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:46:16] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:46:16] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'refresh_token', 'status': 200, 'duration': 0.2638206481933594, 'size': 328}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'refresh_token', 'status': 200, 'duration': 0.2638206481933594, 'size': 328} (metrics_collector.py:286)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector: Tracked request - POST refresh_token status=200 duration=0.264s (metrics_collector.py:312)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0012090206146240234, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0012090206146240234, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:16] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:46:16] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:46:16] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:46:16] - custom_log - ERROR -  JWT: Invalid token error: Signature has expired (jwt_manager.py:109)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 401, 'duration': 0, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 401, 'duration': 0, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=401 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.0016570091247558594, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.0016570091247558594, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS health_check status=200 duration=0.002s (metrics_collector.py:312)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:16] - custom_log - INFO - Getting module status for user_management_module (module_manager.py:248)
[2026-01-15 13:46:16] - custom_log - INFO - Getting module status for stripe_module (module_manager.py:248)
[2026-01-15 13:46:16] - custom_log - INFO - Getting module status for system_actions_module (module_manager.py:248)
[2026-01-15 13:46:16] - custom_log - INFO - Getting module status for communications_module (module_manager.py:248)
[2026-01-15 13:46:16] - custom_log - INFO - Getting module status for dutch_game (module_manager.py:248)
[2026-01-15 13:46:16] - custom_log - INFO - Getting module status for analytics_module (module_manager.py:248)
[2026-01-15 13:46:16] - custom_log - INFO - Getting module status for wallet_module (module_manager.py:248)
[2026-01-15 13:46:16] - custom_log - INFO - Getting module status for transactions_module (module_manager.py:248)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.02761983871459961, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.02761983871459961, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector: Tracked request - GET health_check status=200 duration=0.028s (metrics_collector.py:312)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:46:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:46:16] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:46:16] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:46:16] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4MDQ4NSwiaWF0IjoxNzY4NDc2ODg1fQ.Ua0TOMAxZcl_G9OZGQwe2Vl5JiJ8bLKb60Svx61plP4'} (api_endpoints.py:27)
[2026-01-15 13:46:16] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:46:16] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:46:16] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:46:16] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:46:16] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:46:16] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:46:16] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4MDQ4NSwiaWF0IjoxNzY4NDc2ODg1fQ.Ua0TOMAxZcl_G9OZGQwe2Vl5JiJ8bLKb60Svx61plP4'} (api_endpoints.py:27)
[2026-01-15 13:46:16] - custom_log - ERROR -  JWT: Invalid token error: Signature has expired (jwt_manager.py:109)
[2026-01-15 13:46:16] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:46:16] - custom_log - WARNING -  API: Token validation returned None (invalid/expired/revoked) (api_endpoints.py:46)
[2026-01-15 13:46:17] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:46:17] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 401, 'duration': 0.3712749481201172, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:17] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:46:17] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:17] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:46:17] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 401, 'duration': 0.3712749481201172, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:46:17] - custom_log - ERROR -  JWT: Invalid token error: Signature has expired (jwt_manager.py:109)
[2026-01-15 13:46:17] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=401 duration=0.371s (metrics_collector.py:312)
[2026-01-15 13:46:17] - custom_log - WARNING -  API: Token validation returned None (invalid/expired/revoked) (api_endpoints.py:46)
[2026-01-15 13:46:17] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:17] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 401, 'duration': 0.1441049575805664, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:17] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:17] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 401, 'duration': 0.1441049575805664, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:46:17] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=401 duration=0.144s (metrics_collector.py:312)
[2026-01-15 13:46:17] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:18] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0005352497100830078, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:18] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:18] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0005352497100830078, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:18] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS track_event status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:46:18] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:18] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:46:18] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477578 (jwt_manager.py:205)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477578 (jwt_manager.py:221)
[2026-01-15 13:46:18] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:46:18] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:46:18] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:46:18] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:46:18] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:46:18] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:46:18] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/lobby'} (analytics_service.py:93)
[2026-01-15 13:46:18] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:46:18] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:46:18] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:46:18] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10923099517822266, 'size': 142}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:18] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:18] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10923099517822266, 'size': 142} (metrics_collector.py:286)
[2026-01-15 13:46:18] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.109s (metrics_collector.py:312)
[2026-01-15 13:46:18] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:46:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89631 bytes (app.debug.py:127)
[2026-01-15 13:46:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:46:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 246.0 (app.debug.py:133)
[2026-01-15 13:46:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04588174819946289, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04588174819946289, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.046s (metrics_collector.py:312)
[2026-01-15 13:46:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:20] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:46:20] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477580 (jwt_manager.py:205)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477580 (jwt_manager.py:221)
[2026-01-15 13:46:20] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:46:20] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:46:20] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:46:20] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:46:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10901975631713867, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10901975631713867, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.109s (metrics_collector.py:312)
[2026-01-15 13:46:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:21] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:46:21] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477581 (jwt_manager.py:205)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477581 (jwt_manager.py:221)
[2026-01-15 13:46:21] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:46:21] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:46:21] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:46:21] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:46:21] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:46:21] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:46:21] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/game-play'} (analytics_service.py:93)
[2026-01-15 13:46:21] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:46:21] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:46:21] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:46:21] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.11555290222167969, 'size': 146}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:21] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:21] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.11555290222167969, 'size': 146} (metrics_collector.py:286)
[2026-01-15 13:46:21] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.116s (metrics_collector.py:312)
[2026-01-15 13:46:21] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:21] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0015110969543457031, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:21] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:21] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0015110969543457031, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:21] - custom_log - DEBUG - MetricsCollector: Tracked request - GET None status=404 duration=0.002s (metrics_collector.py:312)
[2026-01-15 13:46:21] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:25] - custom_log - INFO -  DutchGame: Received get-comp-players request (dutch_game_main.py:740)
[2026-01-15 13:46:25] - custom_log - INFO -  DutchGame: Requesting 3 comp player(s) (dutch_game_main.py:772)
[2026-01-15 13:46:25] - custom_log - INFO -  DutchGame: Querying database for comp players with query: {'is_comp_player': True, 'status': 'active'} (dutch_game_main.py:797)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Found 13 comp player(s) in database (dutch_game_main.py:829)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Selected 3 comp player(s) randomly and shuffled (dutch_game_main.py:841)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Added comp player [1/3] - user_id: 6966b28e689c135500f1f977, username: amywobbly, rank: legend, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Added comp player [2/3] - user_id: 6966b28e689c135500f1f96d, username: sampickle, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Added comp player [3/3] - user_id: 6966b28e689c135500f1f978, username: fredwobbly, rank: legend, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Successfully retrieved 3 comp player(s) (dutch_game_main.py:871)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.10601067543029785, 'size': 11}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.10601067543029785, 'size': 11} (metrics_collector.py:286)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector: Tracked request - POST get_comp_players status=200 duration=0.106s (metrics_collector.py:312)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.000392913818359375, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.000392913818359375, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS deduct_game_coins status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:26] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:46:26] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477586 (jwt_manager.py:205)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477586 (jwt_manager.py:221)
[2026-01-15 13:46:26] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:46:26] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:46:26] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Deducting 25 coins for game room_1768481180957 from 4 player(s) (dutch_game_main.py:585)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 69627310feeb61f1231a10a9 (dutch_game_main.py:621)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 69627310feeb61f1231a10a9 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f977 (dutch_game_main.py:621)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f977 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96d (dutch_game_main.py:621)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96d - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f978 (dutch_game_main.py:621)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f978 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:46:26] - custom_log - INFO -  DutchGame: Successfully deducted coins for 4 player(s) (dutch_game_main.py:703)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.4370880126953125, 'size': 166}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.4370880126953125, 'size': 166} (metrics_collector.py:286)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector: Tracked request - POST deduct_game_coins status=200 duration=0.437s (metrics_collector.py:312)
[2026-01-15 13:46:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:28] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.00043582916259765625, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:28] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:28] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.00043582916259765625, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:28] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:46:28] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:28] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:46:28] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477588 (jwt_manager.py:205)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477588 (jwt_manager.py:221)
[2026-01-15 13:46:28] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:46:28] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:46:28] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:46:28] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:46:28] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.11564183235168457, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:28] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:28] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.11564183235168457, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:28] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.116s (metrics_collector.py:312)
[2026-01-15 13:46:28] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:46:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:46:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:46:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:46:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:46:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:46:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:46:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:46:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:46:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 247.0 (app.debug.py:133)
[2026-01-15 13:46:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03441596031188965, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03441596031188965, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.034s (metrics_collector.py:312)
[2026-01-15 13:46:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:46:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:46:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:46:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:46:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:46:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:46:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:46:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:46:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89637 bytes (app.debug.py:127)
[2026-01-15 13:46:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:46:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 248.0 (app.debug.py:133)
[2026-01-15 13:46:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.022375106811523438, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:46:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:46:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.022375106811523438, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:46:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:46:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:47:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:47:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:47:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:47:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:47:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:47:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:47:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:47:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:47:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:47:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:47:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:47:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:47:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:47:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 249.0 (app.debug.py:133)
[2026-01-15 13:47:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.028074026107788086, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:47:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:47:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.028074026107788086, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:47:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.028s (metrics_collector.py:312)
[2026-01-15 13:47:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:47:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:47:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:47:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:47:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:47:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:47:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:47:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:47:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:47:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:47:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:47:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:47:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:47:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:47:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 250.0 (app.debug.py:133)
[2026-01-15 13:47:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.027462005615234375, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:47:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:47:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.027462005615234375, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:47:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.027s (metrics_collector.py:312)
[2026-01-15 13:47:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:47:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:47:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:47:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:47:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:47:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:47:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:47:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:47:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:47:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:47:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:47:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:47:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:47:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:47:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 251.0 (app.debug.py:133)
[2026-01-15 13:47:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.030133962631225586, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:47:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:47:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.030133962631225586, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:47:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.030s (metrics_collector.py:312)
[2026-01-15 13:47:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:47:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:47:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:47:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:47:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:47:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:47:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:47:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:47:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:47:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:47:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:47:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:47:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:47:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:47:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 252.0 (app.debug.py:133)
[2026-01-15 13:47:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03281092643737793, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:47:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:47:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03281092643737793, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:47:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.033s (metrics_collector.py:312)
[2026-01-15 13:47:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:48:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:48:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:48:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:48:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:48:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:48:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:48:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:48:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:48:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:48:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:48:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:48:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:48:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:48:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 253.0 (app.debug.py:133)
[2026-01-15 13:48:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03412675857543945, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:48:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:48:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03412675857543945, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:48:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.034s (metrics_collector.py:312)
[2026-01-15 13:48:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:48:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:48:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:48:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:48:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:48:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:48:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:48:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:48:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:48:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:48:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:48:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:48:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89637 bytes (app.debug.py:127)
[2026-01-15 13:48:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:48:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 254.0 (app.debug.py:133)
[2026-01-15 13:48:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02478504180908203, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:48:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:48:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02478504180908203, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:48:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.025s (metrics_collector.py:312)
[2026-01-15 13:48:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:48:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:48:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:48:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:48:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:48:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:48:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:48:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:48:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:48:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:48:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:48:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:48:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89637 bytes (app.debug.py:127)
[2026-01-15 13:48:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:48:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 255.0 (app.debug.py:133)
[2026-01-15 13:48:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.027846813201904297, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:48:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:48:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.027846813201904297, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:48:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.028s (metrics_collector.py:312)
[2026-01-15 13:48:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:48:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:48:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:48:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:48:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:48:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:48:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:48:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:48:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:48:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:48:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:48:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:48:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:48:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:48:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 256.0 (app.debug.py:133)
[2026-01-15 13:48:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.0279390811920166, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:48:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:48:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.0279390811920166, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:48:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.028s (metrics_collector.py:312)
[2026-01-15 13:48:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:49:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:49:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:49:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:49:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:49:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:49:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:49:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:49:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:49:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:49:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:49:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:49:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:49:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:49:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 257.0 (app.debug.py:133)
[2026-01-15 13:49:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.028251171112060547, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:49:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:49:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.028251171112060547, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:49:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.028s (metrics_collector.py:312)
[2026-01-15 13:49:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:49:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:49:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:49:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:49:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:49:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:49:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:49:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:49:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:49:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:49:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:49:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:49:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:49:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:49:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 258.0 (app.debug.py:133)
[2026-01-15 13:49:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.033147335052490234, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:49:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:49:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.033147335052490234, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:49:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.033s (metrics_collector.py:312)
[2026-01-15 13:49:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:49:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:49:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:49:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:49:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:49:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:49:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:49:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:49:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:49:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:49:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:49:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:49:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:49:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:49:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 259.0 (app.debug.py:133)
[2026-01-15 13:49:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.049031972885131836, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:49:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:49:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.049031972885131836, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:49:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.049s (metrics_collector.py:312)
[2026-01-15 13:49:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:49:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:49:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:49:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:49:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:49:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:49:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:49:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:49:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:49:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:49:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:49:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:49:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:49:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:49:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 260.0 (app.debug.py:133)
[2026-01-15 13:49:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.033013105392456055, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:49:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:49:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.033013105392456055, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:49:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.033s (metrics_collector.py:312)
[2026-01-15 13:49:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:50:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:50:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:50:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:50:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:50:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:50:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:50:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:50:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:50:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:50:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:50:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:50:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89635 bytes (app.debug.py:127)
[2026-01-15 13:50:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:50:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 261.0 (app.debug.py:133)
[2026-01-15 13:50:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.028921842575073242, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:50:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:50:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.028921842575073242, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:50:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.029s (metrics_collector.py:312)
[2026-01-15 13:50:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:50:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:50:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:50:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:50:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:50:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:50:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:50:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:50:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:50:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:50:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:50:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:50:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:50:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:50:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 262.0 (app.debug.py:133)
[2026-01-15 13:50:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04263901710510254, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:50:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:50:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04263901710510254, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:50:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.043s (metrics_collector.py:312)
[2026-01-15 13:50:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:50:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:50:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:50:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:50:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:50:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:50:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:50:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:50:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:50:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:50:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:50:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:50:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:50:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:50:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 263.0 (app.debug.py:133)
[2026-01-15 13:50:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.031954288482666016, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:50:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:50:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.031954288482666016, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:50:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.032s (metrics_collector.py:312)
[2026-01-15 13:50:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:50:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:50:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:50:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:50:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:50:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:50:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:50:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:50:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:50:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:50:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:50:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:50:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:50:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:50:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 264.0 (app.debug.py:133)
[2026-01-15 13:50:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02193164825439453, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:50:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:50:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02193164825439453, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:50:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:50:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:51:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:51:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:51:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:51:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:51:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:51:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:51:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89635 bytes (app.debug.py:127)
[2026-01-15 13:51:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:51:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 265.0 (app.debug.py:133)
[2026-01-15 13:51:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02540111541748047, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02540111541748047, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.025s (metrics_collector.py:312)
[2026-01-15 13:51:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:51:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:51:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:51:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 1}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 1} (metrics_collector.py:286)
[2026-01-15 13:51:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=1 (metrics_collector.py:343)
[2026-01-15 13:51:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:51:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:51:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:51:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:51:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 266.0 (app.debug.py:133)
[2026-01-15 13:51:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03219771385192871, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03219771385192871, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.032s (metrics_collector.py:312)
[2026-01-15 13:51:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.0002999305725097656, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.0002999305725097656, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS health_check status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:25] - custom_log - INFO - Getting module status for user_management_module (module_manager.py:248)
[2026-01-15 13:51:25] - custom_log - INFO - Getting module status for stripe_module (module_manager.py:248)
[2026-01-15 13:51:25] - custom_log - INFO - Getting module status for system_actions_module (module_manager.py:248)
[2026-01-15 13:51:25] - custom_log - INFO - Getting module status for communications_module (module_manager.py:248)
[2026-01-15 13:51:25] - custom_log - INFO - Getting module status for dutch_game (module_manager.py:248)
[2026-01-15 13:51:25] - custom_log - INFO - Getting module status for analytics_module (module_manager.py:248)
[2026-01-15 13:51:25] - custom_log - INFO - Getting module status for wallet_module (module_manager.py:248)
[2026-01-15 13:51:25] - custom_log - INFO - Getting module status for transactions_module (module_manager.py:248)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.02857804298400879, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.02857804298400879, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector: Tracked request - GET health_check status=200 duration=0.029s (metrics_collector.py:312)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0009560585021972656, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0009560585021972656, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:25] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:51:25] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477885 (jwt_manager.py:205)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477885 (jwt_manager.py:221)
[2026-01-15 13:51:25] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:51:25] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:51:25] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:51:25] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10949397087097168, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10949397087097168, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.109s (metrics_collector.py:312)
[2026-01-15 13:51:25] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:25] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:51:25] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:51:25] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:51:25] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:51:25] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4NDc3NiwiaWF0IjoxNzY4NDgxMTc2fQ.YybMsJmA9bX63PkI2LR4ZgrAwREmJpaUNH9-zmU6_as'} (api_endpoints.py:27)
[2026-01-15 13:51:25] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4NDc3NiwiaWF0IjoxNzY4NDgxMTc2fQ.YybMsJmA9bX63PkI2LR4ZgrAwREmJpaUNH9-zmU6_as'} (api_endpoints.py:27)
[2026-01-15 13:51:25] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:51:25] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:51:26] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:51:26] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:51:26] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:51:26] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477886 (jwt_manager.py:205)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477886 (jwt_manager.py:221)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:51:26] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477886 (jwt_manager.py:205)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477886 (jwt_manager.py:221)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:51:26] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:51:26] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:51:26] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:51:26] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:51:26] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:51:26] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:51:26] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:51:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.4484672546386719, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:26] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.4484672546386719, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:51:26] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.448s (metrics_collector.py:312)
[2026-01-15 13:51:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:26] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:51:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.45719122886657715, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:26] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.45719122886657715, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:51:26] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.457s (metrics_collector.py:312)
[2026-01-15 13:51:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:27] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0004458427429199219, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:27] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:27] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0004458427429199219, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:27] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS track_event status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:51:27] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:27] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:51:27] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477887 (jwt_manager.py:205)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477887 (jwt_manager.py:221)
[2026-01-15 13:51:27] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:51:27] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:51:27] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:51:27] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:51:27] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:51:27] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:51:27] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/lobby'} (analytics_service.py:93)
[2026-01-15 13:51:27] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:51:27] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:51:27] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:51:27] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10845613479614258, 'size': 142}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:27] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:27] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10845613479614258, 'size': 142} (metrics_collector.py:286)
[2026-01-15 13:51:27] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.108s (metrics_collector.py:312)
[2026-01-15 13:51:27] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:28] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:51:28] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477888 (jwt_manager.py:205)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477888 (jwt_manager.py:221)
[2026-01-15 13:51:28] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:51:28] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:51:28] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:51:29] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10475683212280273, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10475683212280273, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.105s (metrics_collector.py:312)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:29] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:51:29] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477889 (jwt_manager.py:205)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477889 (jwt_manager.py:221)
[2026-01-15 13:51:29] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:51:29] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:51:29] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:51:29] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0010941028594970703, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0010941028594970703, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector: Tracked request - GET None status=404 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:29] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:51:29] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:51:29] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/game-play'} (analytics_service.py:93)
[2026-01-15 13:51:29] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:51:29] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:51:29] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.17018866539001465, 'size': 146}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.17018866539001465, 'size': 146} (metrics_collector.py:286)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.170s (metrics_collector.py:312)
[2026-01-15 13:51:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:51:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:51:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:51:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:51:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:51:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Received get-comp-players request (dutch_game_main.py:740)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Requesting 3 comp player(s) with rank filter: ['beginner', 'novice'] (dutch_game_main.py:772)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Filtering comp players by ranks: ['beginner', 'novice'] (dutch_game_main.py:795)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Querying database for comp players with query: {'is_comp_player': True, 'status': 'active', 'modules.dutch_game.rank': {'$in': ['beginner', 'novice']}} (dutch_game_main.py:797)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Found 5 comp player(s) in database (dutch_game_main.py:829)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Selected 3 comp player(s) randomly and shuffled (dutch_game_main.py:841)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Added comp player [1/3] - user_id: 6966b28e689c135500f1f96e, username: emmafox, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Added comp player [2/3] - user_id: 6966b28e689c135500f1f96f, username: zoebean668, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Added comp player [3/3] - user_id: 6966b28e689c135500f1f971, username: ben.leo6, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Successfully retrieved 3 comp player(s) (dutch_game_main.py:871)
[2026-01-15 13:51:34] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.10871100425720215, 'size': 47}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:34] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:34] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.10871100425720215, 'size': 47} (metrics_collector.py:286)
[2026-01-15 13:51:34] - custom_log - DEBUG - MetricsCollector: Tracked request - POST get_comp_players status=200 duration=0.109s (metrics_collector.py:312)
[2026-01-15 13:51:34] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:34] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.0005192756652832031, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:34] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:34] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.0005192756652832031, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:34] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS deduct_game_coins status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:51:34] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:34] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:51:34] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477894 (jwt_manager.py:205)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477894 (jwt_manager.py:221)
[2026-01-15 13:51:34] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:51:34] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:51:34] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Deducting 25 coins for game room_1768481489074 from 4 player(s) (dutch_game_main.py:585)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 69627310feeb61f1231a10a9 (dutch_game_main.py:621)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 69627310feeb61f1231a10a9 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96e (dutch_game_main.py:621)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96e - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96f (dutch_game_main.py:621)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96f - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:51:34] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f971 (dutch_game_main.py:621)
[2026-01-15 13:51:35] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f971 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:51:35] - custom_log - INFO -  DutchGame: Successfully deducted coins for 4 player(s) (dutch_game_main.py:703)
[2026-01-15 13:51:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.49065423011779785, 'size': 166}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.49065423011779785, 'size': 166} (metrics_collector.py:286)
[2026-01-15 13:51:35] - custom_log - DEBUG - MetricsCollector: Tracked request - POST deduct_game_coins status=200 duration=0.491s (metrics_collector.py:312)
[2026-01-15 13:51:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:51:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89635 bytes (app.debug.py:127)
[2026-01-15 13:51:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:51:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 267.0 (app.debug.py:133)
[2026-01-15 13:51:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.029503345489501953, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.029503345489501953, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.030s (metrics_collector.py:312)
[2026-01-15 13:51:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:36] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0004811286926269531, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:36] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:36] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0004811286926269531, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:36] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:51:36] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:36] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:51:36] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768477896 (jwt_manager.py:205)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768477896 (jwt_manager.py:221)
[2026-01-15 13:51:36] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:51:36] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:51:36] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:51:36] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:51:36] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10700178146362305, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:36] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:36] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10700178146362305, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:36] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.107s (metrics_collector.py:312)
[2026-01-15 13:51:36] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:51:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:51:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:51:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:51:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:51:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:51:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:51:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:51:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89637 bytes (app.debug.py:127)
[2026-01-15 13:51:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:51:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 268.0 (app.debug.py:133)
[2026-01-15 13:51:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.022437095642089844, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:51:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:51:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.022437095642089844, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:51:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.022s (metrics_collector.py:312)
[2026-01-15 13:51:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:52:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:52:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:52:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:52:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:52:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:52:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:52:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:52:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:52:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:52:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:52:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:52:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:52:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:52:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 269.0 (app.debug.py:133)
[2026-01-15 13:52:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04350709915161133, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:52:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:52:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04350709915161133, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:52:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.044s (metrics_collector.py:312)
[2026-01-15 13:52:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:52:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:52:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:52:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:52:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:52:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:52:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:52:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:52:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:52:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:52:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:52:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:52:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:52:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:52:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 270.0 (app.debug.py:133)
[2026-01-15 13:52:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.030842065811157227, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:52:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:52:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.030842065811157227, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:52:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.031s (metrics_collector.py:312)
[2026-01-15 13:52:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:52:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:52:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:52:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:52:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:52:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:52:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:52:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:52:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:52:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:52:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:52:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:52:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:52:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:52:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 271.0 (app.debug.py:133)
[2026-01-15 13:52:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04107308387756348, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:52:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:52:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04107308387756348, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:52:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.041s (metrics_collector.py:312)
[2026-01-15 13:52:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:52:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:52:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:52:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:52:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:52:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:52:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:52:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:52:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:52:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:52:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:52:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:52:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:52:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:52:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 272.0 (app.debug.py:133)
[2026-01-15 13:52:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.09098505973815918, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:52:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:52:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.09098505973815918, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:52:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.091s (metrics_collector.py:312)
[2026-01-15 13:52:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:53:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:53:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:53:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:53:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:53:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:53:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:53:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:53:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:53:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 273.0 (app.debug.py:133)
[2026-01-15 13:53:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.026331186294555664, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.026331186294555664, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.026s (metrics_collector.py:312)
[2026-01-15 13:53:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:53:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:53:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:53:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:53:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:53:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:53:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:53:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89635 bytes (app.debug.py:127)
[2026-01-15 13:53:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:53:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 274.0 (app.debug.py:133)
[2026-01-15 13:53:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02676677703857422, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02676677703857422, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.027s (metrics_collector.py:312)
[2026-01-15 13:53:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:53:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:53:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:53:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:53:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:53:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:53:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:53:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89637 bytes (app.debug.py:127)
[2026-01-15 13:53:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:53:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 275.0 (app.debug.py:133)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.025829315185546875, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.025829315185546875, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.026s (metrics_collector.py:312)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.00036978721618652344, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.00036978721618652344, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS health_check status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:35] - custom_log - INFO - Getting module status for user_management_module (module_manager.py:248)
[2026-01-15 13:53:35] - custom_log - INFO - Getting module status for stripe_module (module_manager.py:248)
[2026-01-15 13:53:35] - custom_log - INFO - Getting module status for system_actions_module (module_manager.py:248)
[2026-01-15 13:53:35] - custom_log - INFO - Getting module status for communications_module (module_manager.py:248)
[2026-01-15 13:53:35] - custom_log - INFO - Getting module status for dutch_game (module_manager.py:248)
[2026-01-15 13:53:35] - custom_log - INFO - Getting module status for analytics_module (module_manager.py:248)
[2026-01-15 13:53:35] - custom_log - INFO - Getting module status for wallet_module (module_manager.py:248)
[2026-01-15 13:53:35] - custom_log - INFO - Getting module status for transactions_module (module_manager.py:248)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.0335080623626709, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.0335080623626709, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET health_check status=200 duration=0.034s (metrics_collector.py:312)
[2026-01-15 13:53:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:36] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0005631446838378906, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:36] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:36] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0005631446838378906, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:36] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:53:36] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:36] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:53:36] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478016 (jwt_manager.py:205)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478016 (jwt_manager.py:221)
[2026-01-15 13:53:36] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:53:36] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:53:36] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:53:36] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.11566495895385742, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:36] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:36] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.11566495895385742, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:36] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.116s (metrics_collector.py:312)
[2026-01-15 13:53:36] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:36] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:53:36] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:53:36] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:53:36] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4NDc3NiwiaWF0IjoxNzY4NDgxMTc2fQ.YybMsJmA9bX63PkI2LR4ZgrAwREmJpaUNH9-zmU6_as'} (api_endpoints.py:27)
[2026-01-15 13:53:36] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:53:36] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:53:36] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4NDc3NiwiaWF0IjoxNzY4NDgxMTc2fQ.YybMsJmA9bX63PkI2LR4ZgrAwREmJpaUNH9-zmU6_as'} (api_endpoints.py:27)
[2026-01-15 13:53:36] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:53:36] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:53:36] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:53:36] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:53:36] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478016 (jwt_manager.py:205)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478016 (jwt_manager.py:205)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478016 (jwt_manager.py:221)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478016 (jwt_manager.py:221)
[2026-01-15 13:53:36] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:53:36] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:53:36] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:53:36] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:53:36] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:53:36] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:53:36] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:53:37] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:53:37] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:53:37] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.41260218620300293, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:37] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.41810178756713867, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:37] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:37] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:37] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.41810178756713867, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:53:37] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.41260218620300293, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:53:37] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.418s (metrics_collector.py:312)
[2026-01-15 13:53:37] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:37] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.413s (metrics_collector.py:312)
[2026-01-15 13:53:37] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:40] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0006639957427978516, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:40] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:40] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0006639957427978516, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:40] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS track_event status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:53:40] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:40] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:53:40] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478020 (jwt_manager.py:205)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478020 (jwt_manager.py:221)
[2026-01-15 13:53:40] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:53:40] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:53:40] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:53:40] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:53:40] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:53:40] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:53:40] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/lobby'} (analytics_service.py:93)
[2026-01-15 13:53:40] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:53:40] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:53:40] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:53:40] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10793185234069824, 'size': 142}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:40] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:40] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10793185234069824, 'size': 142} (metrics_collector.py:286)
[2026-01-15 13:53:40] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.108s (metrics_collector.py:312)
[2026-01-15 13:53:40] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:42] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0007691383361816406, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:42] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:42] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0007691383361816406, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:42] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:53:42] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:42] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:53:42] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478022 (jwt_manager.py:205)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478022 (jwt_manager.py:221)
[2026-01-15 13:53:42] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:53:42] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:53:42] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:53:42] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:53:42] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10903501510620117, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:42] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:42] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10903501510620117, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:42] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.109s (metrics_collector.py:312)
[2026-01-15 13:53:42] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:43] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:53:43] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478023 (jwt_manager.py:205)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478023 (jwt_manager.py:221)
[2026-01-15 13:53:43] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:53:43] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:53:43] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:53:43] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:53:43] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:53:43] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:53:43] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/game-play'} (analytics_service.py:93)
[2026-01-15 13:53:43] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:53:43] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:53:43] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:53:43] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10800576210021973, 'size': 146}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:43] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:43] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10800576210021973, 'size': 146} (metrics_collector.py:286)
[2026-01-15 13:53:43] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.108s (metrics_collector.py:312)
[2026-01-15 13:53:43] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:43] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0007452964782714844, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:43] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:43] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0007452964782714844, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:43] - custom_log - DEBUG - MetricsCollector: Tracked request - GET None status=404 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:53:43] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:53:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:53:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:53:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:53:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:53:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:53:47] - custom_log - INFO -  DutchGame: Received get-comp-players request (dutch_game_main.py:740)
[2026-01-15 13:53:47] - custom_log - INFO -  DutchGame: Requesting 3 comp player(s) with rank filter: ['beginner', 'novice'] (dutch_game_main.py:772)
[2026-01-15 13:53:47] - custom_log - INFO -  DutchGame: Filtering comp players by ranks: ['beginner', 'novice'] (dutch_game_main.py:795)
[2026-01-15 13:53:47] - custom_log - INFO -  DutchGame: Querying database for comp players with query: {'is_comp_player': True, 'status': 'active', 'modules.dutch_game.rank': {'$in': ['beginner', 'novice']}} (dutch_game_main.py:797)
[2026-01-15 13:53:47] - custom_log - INFO -  DutchGame: Found 5 comp player(s) in database (dutch_game_main.py:829)
[2026-01-15 13:53:47] - custom_log - INFO -  DutchGame: Selected 3 comp player(s) randomly and shuffled (dutch_game_main.py:841)
[2026-01-15 13:53:47] - custom_log - INFO -  DutchGame: Added comp player [1/3] - user_id: 6966b28e689c135500f1f96f, username: zoebean668, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:53:47] - custom_log - INFO -  DutchGame: Added comp player [2/3] - user_id: 6966b28e689c135500f1f970, username: toastlord, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:53:47] - custom_log - INFO -  DutchGame: Added comp player [3/3] - user_id: 6966b28e689c135500f1f971, username: ben.leo6, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:53:47] - custom_log - INFO -  DutchGame: Successfully retrieved 3 comp player(s) (dutch_game_main.py:871)
[2026-01-15 13:53:47] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.11240386962890625, 'size': 47}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:47] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:47] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.11240386962890625, 'size': 47} (metrics_collector.py:286)
[2026-01-15 13:53:47] - custom_log - DEBUG - MetricsCollector: Tracked request - POST get_comp_players status=200 duration=0.112s (metrics_collector.py:312)
[2026-01-15 13:53:47] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:49] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.0006639957427978516, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:49] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:49] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.0006639957427978516, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:49] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS deduct_game_coins status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:53:49] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:49] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:53:49] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478029 (jwt_manager.py:205)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478029 (jwt_manager.py:221)
[2026-01-15 13:53:49] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:53:49] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:53:49] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:53:49] - custom_log - INFO -  DutchGame: Deducting 25 coins for game room_1768481622723 from 4 player(s) (dutch_game_main.py:585)
[2026-01-15 13:53:49] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 69627310feeb61f1231a10a9 (dutch_game_main.py:621)
[2026-01-15 13:53:49] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 69627310feeb61f1231a10a9 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:53:49] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96f (dutch_game_main.py:621)
[2026-01-15 13:53:49] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96f - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:53:49] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f970 (dutch_game_main.py:621)
[2026-01-15 13:53:49] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f970 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:53:49] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f971 (dutch_game_main.py:621)
[2026-01-15 13:53:49] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f971 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:53:49] - custom_log - INFO -  DutchGame: Successfully deducted coins for 4 player(s) (dutch_game_main.py:703)
[2026-01-15 13:53:49] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.4283168315887451, 'size': 166}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:49] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:49] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.4283168315887451, 'size': 166} (metrics_collector.py:286)
[2026-01-15 13:53:49] - custom_log - DEBUG - MetricsCollector: Tracked request - POST deduct_game_coins status=200 duration=0.428s (metrics_collector.py:312)
[2026-01-15 13:53:49] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:53:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89637 bytes (app.debug.py:127)
[2026-01-15 13:53:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:53:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 276.0 (app.debug.py:133)
[2026-01-15 13:53:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.07655906677246094, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.07655906677246094, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.077s (metrics_collector.py:312)
[2026-01-15 13:53:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:52] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0007278919219970703, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:52] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:52] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0007278919219970703, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:52] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:53:52] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:53:52] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:53:52] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478032 (jwt_manager.py:205)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478032 (jwt_manager.py:221)
[2026-01-15 13:53:52] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:53:52] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:53:52] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:53:52] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:53:52] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.1037759780883789, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:53:52] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:53:52] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.1037759780883789, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:53:52] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.104s (metrics_collector.py:312)
[2026-01-15 13:53:52] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:54:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0013380050659179688, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:00] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0013380050659179688, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:54:00] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS track_event status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:54:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:54:00] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:54:00] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478040 (jwt_manager.py:205)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478040 (jwt_manager.py:221)
[2026-01-15 13:54:00] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:54:00] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:54:00] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:54:00] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=error_occurred, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:54:00] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=error_occurred, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:54:00] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for error_occurred (analytics_service.py:70)
[2026-01-15 13:54:00] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=error_occurred, event_data={'error': 'A RenderFlex overflowed by 171 pixels on the bottom.', 'context': 'Flutter Framework Error', 'library': 'rendering library', 'information': '[debugCreator: Column  ListenableBuilder  Expanded  Column  Expanded  Column  LayoutBuilder  ListenableBuilder  UnifiedGameBoardWidget  Expanded  Column  Stack  , The overflowing RenderFlex has an orientation of Axis.vertical., The edge of the RenderFlex that is overflowing has been marked in the rendering with a yellow and black striped pattern. This is usually caused by the contents being too big for the RenderFlex., Consider applying a flex factor (e.g. using an Expanded widget) to force the children of the RenderFlex to fit within the available space instead of being sized to their natural size., This is considered an error condition because it indicates that there is content that cannot be seen. If the content is legitimately bigger than the available space, consider clipping it with a ClipRect widget before putting it in the flex, or using a scrollable container rather than a Flex, like a ListView., The specific RenderFlex in question is: RenderFlex#c5f1d relayoutBoundary=up2 OVERFLOWING, ]'} (analytics_service.py:93)
[2026-01-15 13:54:00] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for error_occurred (analytics_service.py:104)
[2026-01-15 13:54:00] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=error_occurred (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:54:00] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: error_occurred (analytics_main.py:98)
[2026-01-15 13:54:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.1318058967590332, 'size': 1611}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:00] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.1318058967590332, 'size': 1611} (metrics_collector.py:286)
[2026-01-15 13:54:00] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.132s (metrics_collector.py:312)
[2026-01-15 13:54:00] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:54:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:54:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:54:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:54:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:54:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:54:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:54:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:54:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:54:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:54:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 277.0 (app.debug.py:133)
[2026-01-15 13:54:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.037326812744140625, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.037326812744140625, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:54:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.037s (metrics_collector.py:312)
[2026-01-15 13:54:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:54:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:54:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:54:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:54:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:54:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:54:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:54:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:54:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:54:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:54:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 278.0 (app.debug.py:133)
[2026-01-15 13:54:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.07939982414245605, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.07939982414245605, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:54:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.079s (metrics_collector.py:312)
[2026-01-15 13:54:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:54:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:54:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:54:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:54:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:54:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:54:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:54:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:54:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:54:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:54:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 279.0 (app.debug.py:133)
[2026-01-15 13:54:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03460574150085449, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03460574150085449, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:54:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.035s (metrics_collector.py:312)
[2026-01-15 13:54:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:54:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:54:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:54:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:54:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:54:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:54:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:54:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:54:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:54:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:54:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 280.0 (app.debug.py:133)
[2026-01-15 13:54:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.044821977615356445, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:54:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:54:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.044821977615356445, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:54:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.045s (metrics_collector.py:312)
[2026-01-15 13:54:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:55:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:55:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:55:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:55:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:55:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:55:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:55:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:55:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:55:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:55:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:55:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:55:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:55:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:55:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 281.0 (app.debug.py:133)
[2026-01-15 13:55:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.1660459041595459, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:55:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:55:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.1660459041595459, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:55:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.166s (metrics_collector.py:312)
[2026-01-15 13:55:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:55:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:55:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:55:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:55:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:55:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:55:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:55:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:55:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:55:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:55:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:55:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:55:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:55:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:55:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 282.0 (app.debug.py:133)
[2026-01-15 13:55:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02094101905822754, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:55:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:55:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.02094101905822754, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:55:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.021s (metrics_collector.py:312)
[2026-01-15 13:55:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:55:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:55:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:55:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:55:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:55:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:55:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:55:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:55:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:55:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:55:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:55:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:55:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89637 bytes (app.debug.py:127)
[2026-01-15 13:55:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:55:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 283.0 (app.debug.py:133)
[2026-01-15 13:55:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05329608917236328, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:55:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:55:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05329608917236328, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:55:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.053s (metrics_collector.py:312)
[2026-01-15 13:55:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:55:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:55:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:55:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:55:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:55:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:55:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:55:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:55:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:55:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:55:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:55:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:55:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:55:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:55:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 284.0 (app.debug.py:133)
[2026-01-15 13:55:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03615617752075195, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:55:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:55:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03615617752075195, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:55:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.036s (metrics_collector.py:312)
[2026-01-15 13:55:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:56:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:56:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:56:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:56:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:56:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:56:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:56:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:56:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:56:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:56:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:56:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:56:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:56:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:56:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 285.0 (app.debug.py:133)
[2026-01-15 13:56:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05598878860473633, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:56:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:56:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05598878860473633, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:56:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.056s (metrics_collector.py:312)
[2026-01-15 13:56:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:56:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:56:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:56:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:56:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:56:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:56:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:56:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:56:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:56:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:56:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:56:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:56:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:56:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:56:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 286.0 (app.debug.py:133)
[2026-01-15 13:56:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03998303413391113, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:56:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:56:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03998303413391113, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:56:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.040s (metrics_collector.py:312)
[2026-01-15 13:56:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:56:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:56:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:56:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:56:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:56:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:56:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:56:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:56:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:56:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:56:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:56:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:56:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:56:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:56:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 287.0 (app.debug.py:133)
[2026-01-15 13:56:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.038726806640625, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:56:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:56:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.038726806640625, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:56:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.039s (metrics_collector.py:312)
[2026-01-15 13:56:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:56:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:56:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:56:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:56:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:56:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:56:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:56:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:56:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:56:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:56:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:56:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:56:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89637 bytes (app.debug.py:127)
[2026-01-15 13:56:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:56:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 288.0 (app.debug.py:133)
[2026-01-15 13:56:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.029597997665405273, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:56:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:56:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.029597997665405273, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:56:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.030s (metrics_collector.py:312)
[2026-01-15 13:56:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:57:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:57:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:57:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:57:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:57:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:57:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:57:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:57:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:57:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 289.0 (app.debug.py:133)
[2026-01-15 13:57:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.024338245391845703, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.024338245391845703, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.024s (metrics_collector.py:312)
[2026-01-15 13:57:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:57:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:57:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:57:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:57:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:57:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:57:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:57:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89638 bytes (app.debug.py:127)
[2026-01-15 13:57:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:57:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 290.0 (app.debug.py:133)
[2026-01-15 13:57:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.08382201194763184, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.08382201194763184, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.084s (metrics_collector.py:312)
[2026-01-15 13:57:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.0006692409515380859, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'health_check', 'status': 200, 'duration': 0.0006692409515380859, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS health_check status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:26] - custom_log - INFO - Getting module status for user_management_module (module_manager.py:248)
[2026-01-15 13:57:26] - custom_log - INFO - Getting module status for stripe_module (module_manager.py:248)
[2026-01-15 13:57:26] - custom_log - INFO - Getting module status for system_actions_module (module_manager.py:248)
[2026-01-15 13:57:26] - custom_log - INFO - Getting module status for communications_module (module_manager.py:248)
[2026-01-15 13:57:26] - custom_log - INFO - Getting module status for dutch_game (module_manager.py:248)
[2026-01-15 13:57:26] - custom_log - INFO - Getting module status for analytics_module (module_manager.py:248)
[2026-01-15 13:57:26] - custom_log - INFO - Getting module status for wallet_module (module_manager.py:248)
[2026-01-15 13:57:26] - custom_log - INFO - Getting module status for transactions_module (module_manager.py:248)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.024648189544677734, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'health_check', 'status': 200, 'duration': 0.024648189544677734, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector: Tracked request - GET health_check status=200 duration=0.025s (metrics_collector.py:312)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0007250308990478516, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0007250308990478516, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:26] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:57:26] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478246 (jwt_manager.py:205)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478246 (jwt_manager.py:221)
[2026-01-15 13:57:26] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:57:26] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:57:26] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:57:26] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10640883445739746, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10640883445739746, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.106s (metrics_collector.py:312)
[2026-01-15 13:57:26] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:26] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:57:26] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:57:26] - custom_log - INFO -  API: Token validation request received (api_endpoints.py:22)
[2026-01-15 13:57:26] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4NDc3NiwiaWF0IjoxNzY4NDgxMTc2fQ.YybMsJmA9bX63PkI2LR4ZgrAwREmJpaUNH9-zmU6_as'} (api_endpoints.py:27)
[2026-01-15 13:57:26] - custom_log - INFO -  API: Blueprint loaded and endpoint hit! (api_endpoints.py:23)
[2026-01-15 13:57:26] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:57:26] - custom_log - DEBUG -  API: Request data: {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk2MjczMTBmZWViNjFmMTIzMWExMGE5IiwidXNlcm5hbWUiOiJzaWx2ZXN0ZXJ2ZWxsYSIsImVtYWlsIjoiIiwidHlwZSI6ImFjY2VzcyIsImZpbmdlcnByaW50IjoiZWI2YWU1MWVkY2U5NWY0N2ZhMDFlNzgxZDMxZTEwNDhmZGQ2NjhkMTdjMDIzYzViYzcyMzg3Y2RhOWE0OWU2MCIsImV4cCI6MTc2ODQ4NDc3NiwiaWF0IjoxNzY4NDgxMTc2fQ.YybMsJmA9bX63PkI2LR4ZgrAwREmJpaUNH9-zmU6_as'} (api_endpoints.py:27)
[2026-01-15 13:57:27] - custom_log - INFO -  API: Validating token: eyJhbGciOiJIUzI1NiIs... (api_endpoints.py:38)
[2026-01-15 13:57:27] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:57:27] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:57:27] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Expected type: None (jwt_manager.py:100)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:57:27] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Dart/3.8 (dart:io)' (jwt_manager.py:50)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: '0887bf8ceb...' (jwt_manager.py:53)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: '0887bf8cebaec992dcf0d2692acff6d35ed5d68636f398b06a70a6a79cd33e75' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Server-to-server call detected (User-Agent: Dart/3.8 (dart:io)), skipping fingerprint validation (jwt_manager.py:131)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478247 (jwt_manager.py:205)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478247 (jwt_manager.py:205)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478247 (jwt_manager.py:221)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478247 (jwt_manager.py:221)
[2026-01-15 13:57:27] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:57:27] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:57:27] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:57:27] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:57:27] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:57:27] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:57:27] - custom_log - INFO -  API: Token validation successful for user: 69627310feeb61f1231a10a9 (api_endpoints.py:54)
[2026-01-15 13:57:27] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:57:27] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.8516201972961426, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:27] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:27] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.8516201972961426, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:57:27] - custom_log - INFO -  API: Fetched rank=beginner, level=1 for user 69627310feeb61f1231a10a9 (api_endpoints.py:73)
[2026-01-15 13:57:27] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.852s (metrics_collector.py:312)
[2026-01-15 13:57:27] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.8517131805419922, 'size': 371}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:27] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:27] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:27] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'dutch_api.validate_token', 'status': 200, 'duration': 0.8517131805419922, 'size': 371} (metrics_collector.py:286)
[2026-01-15 13:57:27] - custom_log - DEBUG - MetricsCollector: Tracked request - POST dutch_api.validate_token status=200 duration=0.852s (metrics_collector.py:312)
[2026-01-15 13:57:27] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0007100105285644531, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:29] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0007100105285644531, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:29] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS track_event status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:57:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:29] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:57:29] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478249 (jwt_manager.py:205)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478249 (jwt_manager.py:221)
[2026-01-15 13:57:29] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:57:29] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:57:29] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:57:29] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:57:29] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:57:29] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:57:29] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/lobby'} (analytics_service.py:93)
[2026-01-15 13:57:29] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:57:29] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:57:29] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:57:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10933566093444824, 'size': 142}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:29] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10933566093444824, 'size': 142} (metrics_collector.py:286)
[2026-01-15 13:57:29] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.109s (metrics_collector.py:312)
[2026-01-15 13:57:29] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:57:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:57:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:57:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:57:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:57:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:57:32] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0004837512969970703, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:32] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:32] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0004837512969970703, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:32] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:57:32] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:32] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:57:32] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478252 (jwt_manager.py:205)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478252 (jwt_manager.py:221)
[2026-01-15 13:57:32] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:57:32] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:57:32] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:57:32] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:57:32] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10577201843261719, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:32] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:32] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10577201843261719, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:32] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.106s (metrics_collector.py:312)
[2026-01-15 13:57:32] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:33] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:57:33] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478253 (jwt_manager.py:205)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478253 (jwt_manager.py:221)
[2026-01-15 13:57:33] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:57:33] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:57:33] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:57:33] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:57:33] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:57:33] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:57:33] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/game-play'} (analytics_service.py:93)
[2026-01-15 13:57:33] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:57:33] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:57:33] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:57:33] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.1099550724029541, 'size': 146}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:33] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:33] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.1099550724029541, 'size': 146} (metrics_collector.py:286)
[2026-01-15 13:57:33] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.110s (metrics_collector.py:312)
[2026-01-15 13:57:33] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:34] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0018248558044433594, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:34] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:34] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': None, 'status': 404, 'duration': 0.0018248558044433594, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:34] - custom_log - DEBUG - MetricsCollector: Tracked request - GET None status=404 duration=0.002s (metrics_collector.py:312)
[2026-01-15 13:57:34] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:57:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89633 bytes (app.debug.py:127)
[2026-01-15 13:57:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:57:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 291.0 (app.debug.py:133)
[2026-01-15 13:57:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.07804989814758301, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.07804989814758301, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.078s (metrics_collector.py:312)
[2026-01-15 13:57:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:37] - custom_log - INFO -  DutchGame: Received get-comp-players request (dutch_game_main.py:740)
[2026-01-15 13:57:37] - custom_log - INFO -  DutchGame: Requesting 3 comp player(s) with rank filter: ['beginner', 'novice'] (dutch_game_main.py:772)
[2026-01-15 13:57:37] - custom_log - INFO -  DutchGame: Filtering comp players by ranks: ['beginner', 'novice'] (dutch_game_main.py:795)
[2026-01-15 13:57:37] - custom_log - INFO -  DutchGame: Querying database for comp players with query: {'is_comp_player': True, 'status': 'active', 'modules.dutch_game.rank': {'$in': ['beginner', 'novice']}} (dutch_game_main.py:797)
[2026-01-15 13:57:38] - custom_log - INFO -  DutchGame: Found 5 comp player(s) in database (dutch_game_main.py:829)
[2026-01-15 13:57:38] - custom_log - INFO -  DutchGame: Selected 3 comp player(s) randomly and shuffled (dutch_game_main.py:841)
[2026-01-15 13:57:38] - custom_log - INFO -  DutchGame: Added comp player [1/3] - user_id: 6966b28e689c135500f1f96f, username: zoebean668, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:57:38] - custom_log - INFO -  DutchGame: Added comp player [2/3] - user_id: 6966b28e689c135500f1f96d, username: sampickle, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:57:38] - custom_log - INFO -  DutchGame: Added comp player [3/3] - user_id: 6966b28e689c135500f1f970, username: toastlord, rank: beginner, hasPicture: True (dutch_game_main.py:856)
[2026-01-15 13:57:38] - custom_log - INFO -  DutchGame: Successfully retrieved 3 comp player(s) (dutch_game_main.py:871)
[2026-01-15 13:57:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.10653519630432129, 'size': 47}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:38] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'get_comp_players', 'status': 200, 'duration': 0.10653519630432129, 'size': 47} (metrics_collector.py:286)
[2026-01-15 13:57:38] - custom_log - DEBUG - MetricsCollector: Tracked request - POST get_comp_players status=200 duration=0.107s (metrics_collector.py:312)
[2026-01-15 13:57:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.0003120899200439453, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:38] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.0003120899200439453, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:38] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS deduct_game_coins status=200 duration=0.000s (metrics_collector.py:312)
[2026-01-15 13:57:38] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:39] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:57:39] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478259 (jwt_manager.py:205)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478259 (jwt_manager.py:221)
[2026-01-15 13:57:39] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:57:39] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:57:39] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:57:39] - custom_log - INFO -  DutchGame: Deducting 25 coins for game room_1768481852943 from 4 player(s) (dutch_game_main.py:585)
[2026-01-15 13:57:39] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 69627310feeb61f1231a10a9 (dutch_game_main.py:621)
[2026-01-15 13:57:39] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 69627310feeb61f1231a10a9 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:57:39] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96f (dutch_game_main.py:621)
[2026-01-15 13:57:39] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96f - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:57:39] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f96d (dutch_game_main.py:621)
[2026-01-15 13:57:39] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f96d - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:57:39] - custom_log - INFO -  DutchGame: Processing coin deduction for player_id: 6966b28e689c135500f1f970 (dutch_game_main.py:621)
[2026-01-15 13:57:39] - custom_log - INFO -  DutchGame: Skipping coin deduction for player 6966b28e689c135500f1f970 - promotional tier (free play) (dutch_game_main.py:638)
[2026-01-15 13:57:39] - custom_log - INFO -  DutchGame: Successfully deducted coins for 4 player(s) (dutch_game_main.py:703)
[2026-01-15 13:57:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.4956798553466797, 'size': 166}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:39] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'deduct_game_coins', 'status': 200, 'duration': 0.4956798553466797, 'size': 166} (metrics_collector.py:286)
[2026-01-15 13:57:39] - custom_log - DEBUG - MetricsCollector: Tracked request - POST deduct_game_coins status=200 duration=0.496s (metrics_collector.py:312)
[2026-01-15 13:57:39] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0007627010345458984, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:41] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.0007627010345458984, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:41] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS get_user_stats status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:57:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:41] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:57:41] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478261 (jwt_manager.py:205)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478261 (jwt_manager.py:221)
[2026-01-15 13:57:41] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:57:41] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:57:41] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:57:41] - custom_log - INFO -  DutchGame: Successfully retrieved stats for user 69627310feeb61f1231a10a9 (dutch_game_main.py:520)
[2026-01-15 13:57:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10758614540100098, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:41] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'get_user_stats', 'status': 200, 'duration': 0.10758614540100098, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:41] - custom_log - DEBUG - MetricsCollector: Tracked request - GET get_user_stats status=200 duration=0.108s (metrics_collector.py:312)
[2026-01-15 13:57:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:57:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:57:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:57:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:57:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:57:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:57:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:57:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:57:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:57:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:57:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 292.0 (app.debug.py:133)
[2026-01-15 13:57:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03612518310546875, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:57:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:57:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.03612518310546875, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:57:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.036s (metrics_collector.py:312)
[2026-01-15 13:57:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:58:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:58:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:58:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:58:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:58:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:58:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:58:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:58:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:58:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:58:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:58:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:58:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:58:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:58:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 293.0 (app.debug.py:133)
[2026-01-15 13:58:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05971789360046387, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:58:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:58:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05971789360046387, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:58:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.060s (metrics_collector.py:312)
[2026-01-15 13:58:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:58:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:58:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:58:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:58:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:58:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:58:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:58:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:58:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:58:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:58:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:58:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:58:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:58:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:58:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 294.0 (app.debug.py:133)
[2026-01-15 13:58:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04547309875488281, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:58:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:58:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04547309875488281, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:58:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.045s (metrics_collector.py:312)
[2026-01-15 13:58:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:58:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:58:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:58:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:58:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:58:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:58:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:58:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:58:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:58:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:58:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:58:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:58:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:58:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:58:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 295.0 (app.debug.py:133)
[2026-01-15 13:58:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05181074142456055, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:58:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:58:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05181074142456055, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:58:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.052s (metrics_collector.py:312)
[2026-01-15 13:58:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:58:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:58:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:58:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:58:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:58:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:58:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:58:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:58:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:58:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:58:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:58:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:58:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89635 bytes (app.debug.py:127)
[2026-01-15 13:58:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:58:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 296.0 (app.debug.py:133)
[2026-01-15 13:58:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04677414894104004, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:58:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:58:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04677414894104004, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:58:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.047s (metrics_collector.py:312)
[2026-01-15 13:58:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:59:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:59:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:59:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:59:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:59:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:59:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:59:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:59:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:59:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:59:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 297.0 (app.debug.py:133)
[2026-01-15 13:59:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.17980480194091797, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.17980480194091797, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:59:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.180s (metrics_collector.py:312)
[2026-01-15 13:59:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:59:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:59:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:59:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:59:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:59:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:59:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:59:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:59:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:59:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:59:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 298.0 (app.debug.py:133)
[2026-01-15 13:59:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05367612838745117, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05367612838745117, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:59:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.054s (metrics_collector.py:312)
[2026-01-15 13:59:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:59:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:59:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:59:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:59:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:59:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:59:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:59:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:59:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 13:59:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:59:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 299.0 (app.debug.py:133)
[2026-01-15 13:59:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.045453786849975586, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.045453786849975586, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:59:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.045s (metrics_collector.py:312)
[2026-01-15 13:59:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:59:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0006878376007080078, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:41] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'OPTIONS', 'endpoint': 'track_event', 'status': 200, 'duration': 0.0006878376007080078, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:59:41] - custom_log - DEBUG - MetricsCollector: Tracked request - OPTIONS track_event status=200 duration=0.001s (metrics_collector.py:312)
[2026-01-15 13:59:41] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:59:42] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:59:42] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478382 (jwt_manager.py:205)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478382 (jwt_manager.py:221)
[2026-01-15 13:59:42] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:59:42] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:59:42] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:59:42] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=error_occurred, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:59:42] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=error_occurred, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:59:42] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for error_occurred (analytics_service.py:70)
[2026-01-15 13:59:42] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=error_occurred, event_data={'error': 'Unable to load asset: "assets/images/queen.png".\nThe asset does not exist or has empty data.', 'stack_trace': 'dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 266:3       throw_\npackage:flutter/src/services/asset_bundle.dart 333:13                             <fn>\ndart-sdk/lib/async/zone.dart 1849:54                                              runUnary\ndart-sdk/lib/async/future_impl.dart 224:18                                        handleValue\ndart-sdk/lib/async/future_impl.dart 951:44                                        handleValueCallback\ndart-sdk/lib/async/future_impl.dart 980:13                                        _propagateToListeners\ndart-sdk/lib/async/future_impl.dart 723:5                                         [_completeWithValue]\ndart-sdk/lib/async/future_impl.dart 807:7                                         callback\ndart-sdk/lib/async/schedule_microtask.dart 40:11                                  _microtaskLoop\ndart-sdk/lib/async/schedule_microtask.dart 49:5                                   _startMicrotaskLoop\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 117:77  tear\ndart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 186:7                <fn>\n', 'context': 'Flutter Framework Error', 'library': 'image resource service', 'information': '[Image provider: AssetImage(bundle: null, name: "assets/images/queen.png"), Image key: AssetBundleImageKey(bundle: PlatformAssetBundle#d4dfa(), name: "assets/images/queen.png", scale: 1)]'} (analytics_service.py:93)
[2026-01-15 13:59:42] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for error_occurred (analytics_service.py:104)
[2026-01-15 13:59:42] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=error_occurred (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:59:42] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: error_occurred (analytics_main.py:98)
[2026-01-15 13:59:42] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10795307159423828, 'size': 1663}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:42] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:42] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.10795307159423828, 'size': 1663} (metrics_collector.py:286)
[2026-01-15 13:59:42] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.108s (metrics_collector.py:312)
[2026-01-15 13:59:42] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:59:44] - custom_log - INFO -  JWT: Starting token verification (jwt_manager.py:98)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT: Token preview: eyJhbGciOiJIUzI1NiIs... (jwt_manager.py:99)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT: Expected type: TokenType.ACCESS (jwt_manager.py:100)
[2026-01-15 13:59:44] - custom_log - INFO -  JWT: Token decoded successfully (jwt_manager.py:106)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT: Payload keys: ['user_id', 'username', 'email', 'type', 'fingerprint', 'exp', 'iat'] (jwt_manager.py:107)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Revoke: Checking if token is revoked (jwt_manager.py:389)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Revoke: Token type: access (jwt_manager.py:396)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Revoke: Redis check result: 1 (jwt_manager.py:407)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT: Token not revoked (jwt_manager.py:117)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Fingerprint: IP: '127.0.0.1', User-Agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' (jwt_manager.py:50)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Fingerprint: Generated fingerprint: 'eb6ae51edc...' (jwt_manager.py:53)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT: Checking fingerprint - token: eb6ae51edc..., current: 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60' (len: 64) (jwt_manager.py:123)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT: Fingerprint valid (jwt_manager.py:138)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT: Checking token type - expected: access, actual: access (jwt_manager.py:145)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT: Token type valid (jwt_manager.py:154)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT: Validating token claims (jwt_manager.py:157)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Claims: Starting claims validation (jwt_manager.py:185)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Claims: Payload: {'user_id': '69627310feeb61f1231a10a9', 'username': 'silvestervella', 'email': '', 'type': 'access', 'fingerprint': 'eb6ae51edce95f47fa01e781d31e1048fdd668d17c023c5bc72387cda9a49e60', 'exp': 1768484776, 'iat': 1768481176} (jwt_manager.py:186)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Claims: Checking required claims: ['exp', 'iat', 'type'] (jwt_manager.py:191)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Claims: Found required claim: exp = 1768484776 (jwt_manager.py:197)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Claims: Found required claim: iat = 1768481176 (jwt_manager.py:197)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Claims: Found required claim: type = access (jwt_manager.py:197)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Claims: Checking expiration - exp: 1768484776, current: 1768478384 (jwt_manager.py:205)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Claims: Token not expired (jwt_manager.py:210)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Claims: Checking issued at - iat: 1768481176, current: 1768478384 (jwt_manager.py:221)
[2026-01-15 13:59:44] - custom_log - WARNING -  JWT Claims: Token issued in the future (jwt_manager.py:224)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Claims: Validating custom claims (jwt_manager.py:254)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Custom: Starting custom claims validation (jwt_manager.py:270)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Custom: Validating user_id: 69627310feeb61f1231a10a9 (jwt_manager.py:276)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Custom: user_id valid (jwt_manager.py:281)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Custom: Validating username: silvestervella (jwt_manager.py:288)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Custom: username valid (jwt_manager.py:293)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Custom: No email in payload (jwt_manager.py:311)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Custom: No roles in payload (jwt_manager.py:326)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Custom: All custom claims validation passed (jwt_manager.py:328)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Claims: Custom claims validation passed (jwt_manager.py:259)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT Claims: All claims validation passed (jwt_manager.py:261)
[2026-01-15 13:59:44] - custom_log - DEBUG -  JWT: Token claims validation passed (jwt_manager.py:162)
[2026-01-15 13:59:44] - custom_log - INFO -  JWT: Token verification successful for user: 69627310feeb61f1231a10a9 (jwt_manager.py:164)
[2026-01-15 13:59:44] - custom_log - DEBUG - AnalyticsService.track_event: Called - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9, metrics_enabled=True (analytics_service.py:48)
[2026-01-15 13:59:44] - custom_log - INFO - AnalyticsService: Event inserted to MongoDB - event_type=screen_viewed, user_id=69627310feeb61f1231a10a9 (analytics_service.py:67)
[2026-01-15 13:59:44] - custom_log - DEBUG - AnalyticsService: Metrics enabled, calling _update_metrics_from_event for screen_viewed (analytics_service.py:70)
[2026-01-15 13:59:44] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: Called - event_type=screen_viewed, event_data={'screen_name': 'dutch/game-play'} (analytics_service.py:93)
[2026-01-15 13:59:44] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: metrics_collector obtained, looking up mapping for screen_viewed (analytics_service.py:104)
[2026-01-15 13:59:44] - custom_log - DEBUG - AnalyticsService._update_metrics_from_event: No metric mapping found for event_type=screen_viewed (not a metric-tracked event) (analytics_service.py:182)
[2026-01-15 13:59:44] - custom_log - DEBUG - AnalyticsModule: Tracked event - user_id: 69627310feeb61f1231a10a9, event_type: screen_viewed (analytics_main.py:98)
[2026-01-15 13:59:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.11622881889343262, 'size': 146}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:44] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'POST', 'endpoint': 'track_event', 'status': 200, 'duration': 0.11622881889343262, 'size': 146} (metrics_collector.py:286)
[2026-01-15 13:59:44] - custom_log - DEBUG - MetricsCollector: Tracked request - POST track_event status=200 duration=0.116s (metrics_collector.py:312)
[2026-01-15 13:59:44] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 13:59:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 13:59:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 13:59:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 13:59:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 13:59:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 13:59:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 13:59:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 13:59:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89634 bytes (app.debug.py:127)
[2026-01-15 13:59:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 13:59:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 300.0 (app.debug.py:133)
[2026-01-15 13:59:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05363011360168457, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 13:59:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 13:59:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05363011360168457, 'size': 0} (metrics_collector.py:286)
[2026-01-15 13:59:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.054s (metrics_collector.py:312)
[2026-01-15 13:59:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 14:00:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:00:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:00:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 14:00:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 14:00:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 14:00:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:00:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:00:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 14:00:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 14:00:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 14:00:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 14:00:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89634 bytes (app.debug.py:127)
[2026-01-15 14:00:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 14:00:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 301.0 (app.debug.py:133)
[2026-01-15 14:00:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04752373695373535, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:00:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:00:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04752373695373535, 'size': 0} (metrics_collector.py:286)
[2026-01-15 14:00:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.048s (metrics_collector.py:312)
[2026-01-15 14:00:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 14:00:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:00:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:00:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 14:00:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 14:00:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 14:00:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:00:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:00:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 14:00:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 14:00:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 14:00:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 14:00:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89634 bytes (app.debug.py:127)
[2026-01-15 14:00:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 14:00:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 302.0 (app.debug.py:133)
[2026-01-15 14:00:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05453801155090332, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:00:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:00:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.05453801155090332, 'size': 0} (metrics_collector.py:286)
[2026-01-15 14:00:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.055s (metrics_collector.py:312)
[2026-01-15 14:00:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 14:00:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:00:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:00:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 14:00:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 14:00:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 14:00:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:00:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:00:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 14:00:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 14:00:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 14:00:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 14:00:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89634 bytes (app.debug.py:127)
[2026-01-15 14:00:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 14:00:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 303.0 (app.debug.py:133)
[2026-01-15 14:00:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.07056903839111328, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:00:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:00:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.07056903839111328, 'size': 0} (metrics_collector.py:286)
[2026-01-15 14:00:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.071s (metrics_collector.py:312)
[2026-01-15 14:00:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 14:00:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:00:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:00:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 14:00:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 14:00:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 14:00:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:00:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:00:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 14:00:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 14:00:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 14:00:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 14:00:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89634 bytes (app.debug.py:127)
[2026-01-15 14:00:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 14:00:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 304.0 (app.debug.py:133)
[2026-01-15 14:00:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.06414008140563965, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:00:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:00:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.06414008140563965, 'size': 0} (metrics_collector.py:286)
[2026-01-15 14:00:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.064s (metrics_collector.py:312)
[2026-01-15 14:00:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 14:01:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:01:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:01:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 14:01:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 14:01:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 14:01:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:01:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:01:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 14:01:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 14:01:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 14:01:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 14:01:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89634 bytes (app.debug.py:127)
[2026-01-15 14:01:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 14:01:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 305.0 (app.debug.py:133)
[2026-01-15 14:01:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.3371748924255371, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:01:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:01:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.3371748924255371, 'size': 0} (metrics_collector.py:286)
[2026-01-15 14:01:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.337s (metrics_collector.py:312)
[2026-01-15 14:01:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 14:01:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:01:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:01:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 14:01:16] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 14:01:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 14:01:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:01:16] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:01:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 14:01:16] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 14:01:16] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 14:01:20] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 14:01:20] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 14:01:20] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 14:01:20] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 306.0 (app.debug.py:133)
[2026-01-15 14:01:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.0650022029876709, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:01:20] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:01:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.0650022029876709, 'size': 0} (metrics_collector.py:286)
[2026-01-15 14:01:20] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.065s (metrics_collector.py:312)
[2026-01-15 14:01:20] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 14:01:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:01:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:01:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 14:01:31] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 14:01:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 14:01:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:01:31] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:01:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 14:01:31] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 14:01:31] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 14:01:35] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 14:01:35] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 14:01:35] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 14:01:35] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 307.0 (app.debug.py:133)
[2026-01-15 14:01:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.06859374046325684, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:01:35] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:01:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.06859374046325684, 'size': 0} (metrics_collector.py:286)
[2026-01-15 14:01:35] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.069s (metrics_collector.py:312)
[2026-01-15 14:01:35] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 14:01:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:01:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:01:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 14:01:46] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 14:01:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 14:01:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:01:46] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:01:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 14:01:46] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 14:01:46] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 14:01:50] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 14:01:50] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89636 bytes (app.debug.py:127)
[2026-01-15 14:01:50] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 14:01:50] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 308.0 (app.debug.py:133)
[2026-01-15 14:01:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.0728309154510498, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:01:50] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:01:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.0728309154510498, 'size': 0} (metrics_collector.py:286)
[2026-01-15 14:01:50] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.073s (metrics_collector.py:312)
[2026-01-15 14:01:50] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
[2026-01-15 14:02:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=mongodb_connections, payload={'count': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:02:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:02:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for mongodb_connections (handler=<bound method MetricsCollector._handle_mongodb_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146176), calling handler with payload={'count': 0} (metrics_collector.py:286)
[2026-01-15 14:02:01] - custom_log - DEBUG - MetricsCollector: Updated MongoDB connections - count=0 (metrics_collector.py:336)
[2026-01-15 14:02:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for mongodb_connections (metrics_collector.py:291)
[2026-01-15 14:02:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=redis_connections, payload={'count': 2}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:02:01] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:02:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for redis_connections (handler=<bound method MetricsCollector._handle_redis_connections of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4565146624), calling handler with payload={'count': 2} (metrics_collector.py:286)
[2026-01-15 14:02:01] - custom_log - DEBUG - MetricsCollector: Updated Redis connections - count=2 (metrics_collector.py:343)
[2026-01-15 14:02:01] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for redis_connections (metrics_collector.py:291)
[2026-01-15 14:02:05] - custom_log - DEBUG - Flask /metrics endpoint: Request from 127.0.0.1, User-Agent: Prometheus/3.8.1 (app.debug.py:111)
[2026-01-15 14:02:05] - custom_log - DEBUG - Flask /metrics endpoint: REGISTRY id=4550373840, output size=89637 bytes (app.debug.py:127)
[2026-01-15 14:02:05] - custom_log - DEBUG - Flask /metrics endpoint: user_logins_total=0 lines, user_registrations_total=0 lines, flask_app_requests_total=16 lines (app.debug.py:128)
[2026-01-15 14:02:05] - custom_log - DEBUG - Flask /metrics endpoint: Sample flask_app_requests_total line: flask_app_requests_total{endpoint="metrics_endpoint",method="GET",status="200"} 309.0 (app.debug.py:133)
[2026-01-15 14:02:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Called - metric_type=request, payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04606890678405762, 'size': 0}, isOn=True, METRICS_COLLECTION_ENABLED=True (metrics_collector.py:264)
[2026-01-15 14:02:05] - custom_log - DEBUG - MetricsCollector.collect_metric: self._metric_handlers exists? True, type: <class 'dict'> (metrics_collector.py:265)
[2026-01-15 14:02:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Found handler for request (handler=<bound method MetricsCollector._handle_request of <core.monitoring.metrics_collector.MetricsCollector object at 0x110273a90>>, handler_id=4563548672), calling handler with payload={'method': 'GET', 'endpoint': 'metrics_endpoint', 'status': 200, 'duration': 0.04606890678405762, 'size': 0} (metrics_collector.py:286)
[2026-01-15 14:02:05] - custom_log - DEBUG - MetricsCollector: Tracked request - GET metrics_endpoint status=200 duration=0.046s (metrics_collector.py:312)
[2026-01-15 14:02:05] - custom_log - DEBUG - MetricsCollector.collect_metric: Successfully executed handler for request (metrics_collector.py:291)
